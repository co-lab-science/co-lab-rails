if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ht.isFunction(e))return ht.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ht.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(kt.test(e))return ht.filter(e,t,n);e=ht.filter(e,t)}return ht.grep(t,function(t){return ht.inArray(t,e)>-1!==n})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return ht.each(t.match(Mt)||[],function(t,n){e[n]=!0}),e}function a(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(it.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(a(),ht.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Dt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?ht.parseJSON(n):n)}catch(t){}ht.data(t,e,n)}else n=undefined}return n}function u(t){var e;for(e in t)if(("data"!==e||!ht.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if($t(t)){var o,r,a=ht.expando,s=t.nodeType,l=s?ht.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(i||l[u].data)||n!==undefined||"string"!=typeof e)return u||(u=s?t[a]=nt.pop()||ht.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ht.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=ht.extend(l[u],e):l[u].data=ht.extend(l[u].data,e)),r=l[u],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ht.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ht.camelCase(e)]):o=r,o}}function d(t,e,n){if($t(t)){var i,o,r=t.nodeType,a=r?ht.cache:t,s=r?t[ht.expando]:ht.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){ht.isArray(e)?e=e.concat(ht.map(e,ht.camelCase)):e in i?e=[e]:(e=ht.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!u(i):!ht.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(r?ht.cleanData([t],!0):dt.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function f(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return ht.css(t,e,"")},l=s(),u=n&&n[3]||(ht.cssNumber[e]?"":"px"),c=(ht.cssNumber[e]||"px"!==u&&+l)&&Lt.exec(ht.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{r=r||".5",c/=r,ht.style(t,e,c+u)}while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}function h(t){var e=Ut.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ht.nodeName(i,e)?r.push(i):ht.merge(r,p(i,e));return e===undefined||e&&ht.nodeName(t,e)?ht.merge([t],r):r}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)ht._data(n,"globalEval",!e||ht._data(e[i],"globalEval"))}function g(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,o){for(var r,a,s,l,u,c,d,f=t.length,v=h(e),y=[],b=0;b<f;b++)if((a=t[b])||0===a)if("object"===ht.type(a))ht.merge(y,a.nodeType?[a]:a);else if(Wt.test(a)){for(l=l||v.appendChild(e.createElement("div")),u=(qt.exec(a)||["",""])[1].toLowerCase(),d=Bt[u]||Bt._default,l.innerHTML=d[1]+ht.htmlPrefilter(a)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&zt.test(a)&&y.push(e.createTextNode(zt.exec(a)[0])),!dt.tbody)for(a="table"!==u||Vt.test(a)?"<table>"!==d[1]||Vt.test(a)?0:l:l.firstChild,r=a&&a.childNodes.length;r--;)ht.nodeName(c=a.childNodes[r],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ht.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(a));for(l&&v.removeChild(l),dt.appendChecked||ht.grep(p(y,"input"),g),b=0;a=y[b++];)if(i&&ht.inArray(a,i)>-1)o&&o.push(a);else if(s=ht.contains(a.ownerDocument,a),l=p(v.appendChild(a),"script"),s&&m(l),n)for(r=0;a=l[r++];)Ot.test(a.type||"")&&n.push(a);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,o,r){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=undefined);for(s in e)x(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=b;else if(!o)return t;return 1===r&&(a=o,o=function(t){return ht().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,o,i,n)})}function C(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==ht.find.attr(t,"type"))+"/"+t.type,t}function T(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){if(1===e.nodeType&&ht.hasData(t)){var n,i,o,r=ht._data(t),a=ht._data(e,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,o=s[n].length;i<o;i++)ht.event.add(e,n,s[n][i])}a.data&&(a.data=ht.extend({},a.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ht.expando]){o=ht._data(e);for(i in o.events)ht.removeEvent(e,i,o.handle);e.removeAttribute(ht.expando)}"script"===n&&e.text!==t.text?(k(e).text=t.text,T(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ht.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function E(t,e,n,i){e=rt.apply([],e);var o,r,a,s,l,u,c=0,d=t.length,f=d-1,h=e[0],m=ht.isFunction(h);if(m||d>1&&"string"==typeof h&&!dt.checkClone&&ne.test(h))return t.each(function(o){var r=t.eq(o);m&&(e[0]=h.call(this,o,r.html())),E(r,e,n,i)});if(d&&(u=v(e,t[0].ownerDocument,!1,t,i),o=u.firstChild,1===u.childNodes.length&&(u=o),o||i)){for(s=ht.map(p(u,"script"),k),a=s.length;c<d;c++)r=u,c!==f&&(r=ht.clone(r,!0,!0),a&&ht.merge(s,p(r,"script"))),n.call(t[c],r,c);if(a)for(l=s[s.length-1].ownerDocument,ht.map(s,T),c=0;c<a;c++)r=s[c],Ot.test(r.type||"")&&!ht._data(r,"globalEval")&&ht.contains(l,r)&&(r.src?ht._evalUrl&&ht._evalUrl(r.src):ht.globalEval((r.text||r.textContent||r.innerHTML||"").replace(oe,"")));u=o=null}return t}function M(t,e,n){for(var i,o=e?ht.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ht.cleanData(p(i)),i.parentNode&&(n&&ht.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));return t}function N(t,e){var n=ht(e.createElement(t)).appendTo(e.body),i=ht.css(n[0],"display");return n.detach(),i}function A(t){var e=it,n=le[t];return n||(n=N(t,e),"none"!==n&&n||(se=(se||ht("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(se[0].contentWindow||se[0].contentDocument).document,e.write(),e.close(),n=N(t,e),se.detach()),le[t]=n),n}function $(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function I(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ce.length;n--;)if((t=Ce[n]+e)in ke)return t}function D(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(r[a]=ht._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&jt(i)&&(r[a]=ht._data(i,"olddisplay",A(i.nodeName)))):(o=jt(i),(n&&"none"!==n||!o)&&ht._data(i,"olddisplay",o?n:ht.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function R(t,e,n){var i=be.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function L(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ht.css(t,n+Pt[r],!0,o)),i?("content"===n&&(a-=ht.css(t,"padding"+Pt[r],!0,o)),"margin"!==n&&(a-=ht.css(t,"border"+Pt[r]+"Width",!0,o))):(a+=ht.css(t,"padding"+Pt[r],!0,o),"padding"!==n&&(a+=ht.css(t,"border"+Pt[r]+"Width",!0,o)));return a}function P(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=he(t),a=dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(o=pe(t,e,r),(o<0||null==o)&&(o=t.style[e]),ce.test(o))return o;i=a&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+L(t,e,n||(a?"border":"content"),i,r)+"px"}function j(t,e,n,i,o){return new j.prototype.init(t,e,n,i,o)}function F(){return t.setTimeout(function(){Te=undefined}),Te=ht.now()}function H(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)n=Pt[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function q(t,e,n){for(var i,o=(U.tweeners[e]||[]).concat(U.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function O(t,e,n){var i,o,r,a,s,l,u,c=this,d={},f=t.style,h=t.nodeType&&jt(t),p=ht._data(t,"fxshow");n.queue||(s=ht._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ht.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ht.css(t,"display"),"inline"===("none"===u?ht._data(t,"olddisplay")||A(t.nodeName):u)&&"none"===ht.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",dt.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Se.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;h=!0}d[i]=p&&p[i]||ht.style(t,i)}else u=undefined;if(ht.isEmptyObject(d))"inline"===("none"===u?A(t.nodeName):u)&&(f.display=u);else{p?"hidden"in p&&(h=p.hidden):p=ht._data(t,"fxshow",{}),r&&(p.hidden=!h),h?ht(t).show():c.done(function(){ht(t).hide()}),c.done(function(){var e;ht._removeData(t,"fxshow");for(e in d)ht.style(t,e,d[e])});for(i in d)a=q(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function z(t,e){var n,i,o,r,a;for(n in t)if(i=ht.camelCase(n),o=e[i],r=t[n],ht.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=ht.cssHooks[i])&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function U(t,e,n){var i,o,r=0,a=U.prefilters.length,s=ht.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Te||F(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,r=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(r);return s.notifyWith(t,[u,r,n]),r<1&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ht.extend({},e),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},n),originalProperties:e,originalOptions:n,startTime:Te||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ht.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(z(c,u.opts.specialEasing);r<a;r++)if(i=U.prefilters[r].call(u,t,c,u.opts))return ht.isFunction(i.stop)&&(ht._queueHooks(u.elem,u.opts.queue).stop=ht.proxy(i.stop,i)),i;return ht.map(c,q,u),ht.isFunction(u.opts.start)&&u.opts.start.call(t,u),ht.fx.timer(ht.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(t){return ht.attr(t,"class")||""}function W(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(Mt)||[];if(ht.isFunction(n))for(;i=r[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function o(s){var l;return r[s]=!0,ht.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var r={},a=t===Je;return o(e.dataTypes[0])||!r["*"]&&o("*")}function X(t,e){var n,i,o=ht.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ht.extend(!0,t,n),t}function K(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function Y(t,e,n,i){var o,r,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=u[l+" "+r]||u["* "+r]))for(o in u)if(s=o.split(" "),s[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function Z(t){return t.style&&t.style.display||ht.css(t,"display")}function J(t){if(!ht.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===Z(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(t,e,n,i){var o;if(ht.isArray(e))ht.each(e,function(e,o){n||nn.test(t)?i(t,o):Q(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==ht.type(e))i(t,e);else for(o in e)Q(t+"["+o+"]",e[o],n,i)}function G(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ht.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,ot=nt.slice,rt=nt.concat,at=nt.push,st=nt.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,dt={},ft="1.12.4",ht=function(t,e){return new ht.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:ft,constructor:ht,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ht.each(this,t)},map:function(t){return this.pushStack(ht.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},ht.extend=ht.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ht.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],n=o[i],a!==n&&(u&&n&&(ht.isPlainObject(n)||(e=ht.isArray(n)))?(e?(e=!1,r=t&&ht.isArray(t)?t:[]):r=t&&ht.isPlainObject(t)?t:{},a[i]=ht.extend(u,r,n)):n!==undefined&&(a[i]=n));return a},ht.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray||function(t){return"array"===ht.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ht.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ht.type(t)||t.nodeType||ht.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(e){e&&ht.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;o<i&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ht.merge(i,"string"==typeof t?[t]:t):at.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!==n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,i){var o,r,a=0,s=[];if(n(t))for(o=t.length;a<o;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ht.isFunction(t)?(n=ot.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||ht.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=nt[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,n,i){var o,r,a,s,l,u,d,h,p=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:q)!==I&&$(e),e=e||I,R)){if(11!==m&&(u=vt.exec(t)))if(o=u[1]){if(9===m){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&F(e,a)&&a.id===o)return n.push(a),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(x.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==m)p=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=H),d=_(t),r=d.length,l=ft.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+f(d[r]);h=d.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(h)try{return Q.apply(n,p.querySelectorAll(h)),n}catch(t){}finally{s===H&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function o(t){var e=I.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=z++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,u,c=[O,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(u=e[H]||(e[H]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[i])&&s[0]===O&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),u&&e.push(s)));return a}function v(t,e,n,o,r,a){return o&&!o[H]&&(o=v(o)),r&&!r[H]&&(r=v(r,a)),i(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:g(v,f,t,s,l),b=n?r||(i?t:p||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(u=g(b,h),o(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(y[h[c]]=d));if(i){if(r||t){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=r?tt(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else b=g(b===a?b.splice(p,b.length):b),r?r(null,a,b,l):Q.apply(a,b)})}function y(t){for(var e,n,i,o=t.length,r=C.relative[t[0].type],a=r||C.relative[" "],s=r?1:0,l=h(function(t){return t===e},a,!0),u=h(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var o=!r&&(i||n!==M)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,o}];s<o;s++)if(n=C.relative[t[s].type])c=[h(p(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;i<o&&!C.relative[t[i].type];i++);return v(s>1&&p(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<o&&y(t=t.slice(i)),i<o&&f(t))}c.push(n)}return p(c)}function b(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,l,u){var c,d,f,h=0,p="0",m=i&&[],v=[],y=M,b=i||r&&C.find.TAG("*",u),w=O+=null==y?1:Math.random()||.1,x=b.length;for(u&&(M=a===I||a||u);p!==x&&null!=(c=b[p]);p++){if(r&&c){for(d=0,a||c.ownerDocument===I||($(c),s=!R);f=t[d++];)if(f(c,a||I,s)){l.push(c);break}u&&(O=w)}o&&((c=!f&&c)&&h--,i&&m.push(c))}if(h+=p,o&&p!==h){for(d=0;f=n[d++];)f(m,v,a,s);if(i){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=Z.call(l));v=g(v)}Q.apply(l,v),u&&!i&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(O=w,M=y),m};return o?i(a):a}var w,x,C,k,T,_,S,E,M,N,A,$,I,D,R,L,P,j,F,H="sizzle"+1*new Date,q=t.document,O=0,z=0,U=n(),B=n(),W=n(),V=function(t,e){return t===e&&(A=!0),0},X=1<<31,K={}.hasOwnProperty,Y=[],Z=Y.pop,J=Y.push,Q=Y.push,G=Y.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ft=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){$()};try{Q.apply(Y=G.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(t){Q={apply:Y.length?function(t,e){J.apply(t,G.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},$=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:q;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,D=I.documentElement,R=!T(I),(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(I.getElementsByClassName),x.getById=o(function(t){return D.appendChild(t).id=H,!I.getElementsByName||!I.getElementsByName(H).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&R)return e.getElementsByClassName(t)},P=[],L=[],(x.qsa=gt.test(I.querySelectorAll))&&(o(function(t){D.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=gt.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(t){x.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),P.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),e=gt.test(D.compareDocumentPosition),F=e||gt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===I||t.ownerDocument===q&&F(q,t)?-1:e===I||e.ownerDocument===q&&F(q,e)?1:N?tt(N,t)-tt(N,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===I?-1:e===I?1:o?-1:r?1:N?tt(N,t)-tt(N,e):0;if(o===r)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===q?-1:l[i]===q?1:0},I):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&$(t),n=n.replace(ct,"='$1']"),x.matchesSelector&&R&&!W[n+" "]&&(!P||!P.test(n))&&(!L||!L.test(n)))try{var i=j.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&$(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&$(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!R):undefined;return i!==undefined?i:x.attributes||!R?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!x.detectDuplicates,N=!x.sortStable&&t.slice(0),t.sort(V),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return N=null,t},k=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,f,h,p,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(r){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=g,d=f[H]||(f[H]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[t]||[],h=u[0]===O&&u[1],b=h&&u[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[O,h,b];break}}else if(y&&(f=e,d=f[H]||(f[H]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),u=c[t]||[],h=u[0]===O&&u[1],b=h),!1===b)for(;(f=++h&&f&&f[m]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(d=f[H]||(f[H]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[t]=[O,b]),f!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var o,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[H]?r(n):r.length>1?(o=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)i=tt(t,o[a]),t[i]=!(e[i]=o[a])
}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(st,"$1"));return o[H]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do{if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,_=e.tokenize=function(t,n){var i,o,r,a,s,l,u,c=B[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){i&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ut.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(st," ")}),s=s.slice(i.length));for(a in C.filter)!(o=ht[a].exec(s))||u[a]&&!(o=u[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):B(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=_(t)),n=e.length;n--;)r=y(e[n]),r[H]?i.push(r):o.push(r);r=W(t,b(o,i)),r.selector=t}return r},E=e.select=function(t,e,n,i){var o,r,a,s,l,u="function"==typeof t&&t,d=!i&&_(t=u.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===e.nodeType&&R&&C.relative[r[1].type]){if(!(e=(C.find.ID(a.matches[0].replace(wt,xt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ht.needsContext.test(t)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(wt,xt),yt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&f(r)))return Q.apply(n,i),n;break}}return(u||S(t,d))(i,e,!R,n,!e||yt.test(t)&&c(e.parentNode)||e),n},x.sortStable=H.split("").sort(V).join("")===H,x.detectDuplicates=!!A,$(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ht.find=yt,ht.expr=yt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=yt.uniqueSort,ht.text=yt.getText,ht.isXMLDoc=yt.isXML,ht.contains=yt.contains;var bt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ht(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=ht.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ht.find.matchesSelector(i,t)?[i]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<o;e++)if(ht.contains(i[e],this))return!0}));for(e=0;e<o;e++)ht.find(t,i[e],n);return n=this.pushStack(o>1?ht.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&xt.test(t)?ht(t):t||[],!1).length}});var Tt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ht.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||Tt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:_t.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&ht.isPlainObject(e))for(i in e)ht.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return Tt.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ht.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ht):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ht.makeArray(t,this))}).prototype=ht.fn,Tt=ht(it);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e,n=ht(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ht.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=xt.test(t)||"string"!=typeof t?ht(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ht.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?ht.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ht.inArray(this[0],ht(t)):ht.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ht.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ht.merge([],t.childNodes)}},function(t,e){ht.fn[t]=function(n,i){var o=ht.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ht.filter(i,o)),this.length>1&&(Et[t]||(o=ht.uniqueSort(o)),St.test(t)&&(o=o.reverse())),this.pushStack(o)}});var Mt=/\S+/g;ht.Callbacks=function(t){t="string"==typeof t?r(t):ht.extend({},t);var e,n,i,o,a=[],s=[],l=-1,u=function(){for(o=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function e(n){ht.each(n,function(n,i){ht.isFunction(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==ht.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;(n=ht.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ht.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=!0,n||c.disable(),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ht.extend({Deferred:function(t){var e=[["resolve","done",ht.Callbacks("once memory"),"resolved"],["reject","fail",ht.Callbacks("once memory"),"rejected"],["notify","progress",ht.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ht.Deferred(function(n){ht.each(e,function(e,r){var a=ht.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ht.extend(t,i):i}},o={};return i.pipe=i.then,ht.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=ot.call(arguments),a=r.length,s=1!==a||t&&ht.isFunction(t.promise)?a:0,l=1===s?t:ht.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&ht.isFunction(r[o].promise)?r[o].promise().progress(u(o,n,e)).done(u(o,i,r)).fail(l.reject):--s;return s||l.resolveWith(i,r),l.promise()}});var Nt;ht.fn.ready=function(t){return ht.ready.promise().done(t),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(!0===t?--ht.readyWait:ht.isReady)||(ht.isReady=!0,!0!==t&&--ht.readyWait>0||(Nt.resolveWith(it,[ht]),ht.fn.triggerHandler&&(ht(it).triggerHandler("ready"),ht(it).off("ready"))))}}),ht.ready.promise=function(e){if(!Nt)if(Nt=ht.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ht.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{it.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(t){}n&&n.doScroll&&function e(){if(!ht.isReady){try{n.doScroll("left")}catch(n){return t.setTimeout(e,50)}a(),ht.ready()}}()}return Nt.promise(e)},ht.ready.promise();var At;for(At in ht(dt))break;dt.ownFirst="0"===At,dt.inlineBlockNeedsLayout=!1,ht(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(t){dt.deleteExpando=!1}t=null}();var $t=function(t){var e=ht.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;ht.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ht.cache[t[ht.expando]]:t[ht.expando])&&!u(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ht.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(t===undefined){if(this.length&&(o=ht.data(r),1===r.nodeType&&!ht._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ht.camelCase(i.slice(5)),l(r,i,o[i])));ht._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ht.data(this,t)}):arguments.length>1?this.each(function(){ht.data(this,t,e)}):r?l(r,t,ht.data(r,t)):undefined},removeData:function(t){return this.each(function(){ht.removeData(this,t)})}}),ht.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ht._data(t,e),n&&(!i||ht.isArray(n)?i=ht._data(t,e,ht.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),i=n.length,o=n.shift(),r=ht._queueHooks(t,e),a=function(){ht.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ht._data(t,n)||ht._data(t,n,{empty:ht.Callbacks("once memory").add(function(){ht._removeData(t,e+"queue"),ht._removeData(t,n)})})}}),ht.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ht.queue(this[0],t):e===undefined?this:this.each(function(){var n=ht.queue(this,t,e);ht._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ht.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ht.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ht._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),function(){var t;dt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return(n=it.getElementsByTagName("body")[0])&&n.style?(e=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(it.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ht.css(t,"display")||!ht.contains(t.ownerDocument,t)},Ft=function(t,e,n,i,o,r,a){var s=0,l=t.length,u=null==n;if("object"===ht.type(n)){o=!0;for(s in n)Ft(t,e,s,n[s],!0,r,a)}else if(i!==undefined&&(o=!0,ht.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ht(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):r},Ht=/^(?:checkbox|radio)$/i,qt=/<([\w:-]+)/,Ot=/^$|\/(?:java|ecma)script/i,zt=/^\s+/,Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=it.createElement("div"),e=it.createDocumentFragment(),n=it.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===t.firstChild.nodeType,dt.tbody=!t.getElementsByTagName("tbody").length,dt.htmlSerialize=!!t.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),dt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=it.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),dt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!t.addEventListener,t[ht.expando]=1,dt.attributes=!t.getAttribute(ht.expando)}();var Bt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td;var Wt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(dt[e]=n in t)||(i.setAttribute(n,"t"),dt[e]=!1===i.attributes[n].expando);i=null}();var Xt=/^(?:input|select|textarea)$/i,Kt=/^key/,Yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zt=/^(?:focusinfocus|focusoutblur)$/,Jt=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,u,c,d,f,h,p,m,g=ht._data(t);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ht.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(t){return void 0===ht||t&&ht.event.triggered===t.type?undefined:ht.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Mt)||[""],s=e.length;s--;)r=Jt.exec(e[s])||[],h=m=r[1],p=(r[2]||"").split(".").sort(),h&&(u=ht.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=ht.event.special[h]||{},d=ht.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ht.expr.match.needsContext.test(o),namespace:p.join(".")},l),(f=a[h])||(f=a[h]=[],f.delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(h,c,!1):t.attachEvent&&t.attachEvent("on"+h,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),ht.event.global[h]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,u,c,d,f,h,p,m,g=ht.hasData(t)&&ht._data(t);if(g&&(c=g.events)){for(e=(e||"").match(Mt)||[""],u=e.length;u--;)if(s=Jt.exec(e[u])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=ht.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=c[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=f.length;r--;)a=f[r],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(r,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(t,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||ht.removeEvent(t,h,g.handle),delete c[h])}else for(h in c)ht.event.remove(t,h+e[u],n,i,!0);ht.isEmptyObject(c)&&(delete g.handle,ht._removeData(t,"events"))}},trigger:function(e,n,i,o){var r,a,s,l,u,c,d,f=[i||it],h=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!Zt.test(h+ht.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[ht.expando]?e:new ht.Event(h,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:ht.makeArray(n,[e]),u=ht.event.special[h]||{},o||!u.trigger||!1!==u.trigger.apply(i,n))){if(!o&&!u.noBubble&&!ht.isWindow(i)){for(l=u.delegateType||h,Zt.test(l+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(i.ownerDocument||it)&&f.push(c.defaultView||c.parentWindow||t)}for(d=0;(s=f[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||h,r=(ht._data(s,"events")||{})[e.type]&&ht._data(s,"handle"),r&&r.apply(s,n),(r=a&&s[a])&&r.apply&&$t(s)&&(e.result=r.apply(s,n),!1===e.result&&e.preventDefault());if(e.type=h,!o&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),n))&&$t(i)&&a&&i[h]&&!ht.isWindow(i)){c=i[a],c&&(i[a]=null),ht.event.triggered=h;try{i[h]()}catch(t){}ht.event.triggered=undefined,c&&(i[a]=c)}return e.result}},dispatch:function(t){t=ht.event.fix(t);var e,n,i,o,r,a=[],s=ot.call(arguments),l=(ht._data(this,"events")||{})[t.type]||[],u=ht.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=ht.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(i=((ht.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)r=e[n],o=r.selector+" ",i[o]===undefined&&(i[o]=r.needsContext?ht(o,this).index(l)>-1:ht.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ht.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Yt.test(o)?this.mouseHooks:Kt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ht.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||it,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ht.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ht.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ht.Event=function(t,e){if(!(this instanceof ht.Event))return new ht.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?y:b):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),this[ht.expando]=!0},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ht.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||ht.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),dt.submit||(ht.event.special.submit={setup:function(){if(ht.nodeName(this,"form"))return!1;ht.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ht.nodeName(e,"input")||ht.nodeName(e,"button")?ht.prop(e,"form"):undefined;n&&!ht._data(n,"submit")&&(ht.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ht._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ht.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ht.nodeName(this,"form"))return!1;ht.event.remove(this,"._submit")}}),dt.change||(ht.event.special.change={setup:function(){if(Xt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ht.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ht.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ht.event.simulate("change",this,t)})),!1;ht.event.add(this,"beforeactivate._change",function(t){var e=t.target;Xt.test(e.nodeName)&&!ht._data(e,"change")&&(ht.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ht.event.simulate("change",this.parentNode,t)}),ht._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ht.event.remove(this,"._change"),!Xt.test(this.nodeName)}}),dt.focusin||ht.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ht.event.simulate(e,t.target,ht.event.fix(t))};ht.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ht._data(i,e);o||i.addEventListener(t,n,!0),ht._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ht._data(i,e)-1;o?ht._data(i,e,o):(i.removeEventListener(t,n,!0),ht._removeData(i,e))}}}),ht.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ht(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=b),this.each(function(){ht.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}});var Qt=/ jQuery\d+="(?:null|\d+)"/g,Gt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=h(it),ae=re.appendChild(it.createElement("div"));ht.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s,l=ht.contains(t.ownerDocument,t);if(dt.html5Clone||ht.isXMLDoc(t)||!Gt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ae.innerHTML=t.outerHTML,ae.removeChild(r=ae.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(i=p(r),s=p(t),a=0;null!=(o=s[a]);++a)i[a]&&S(o,i[a]);if(e)if(n)for(s=s||p(t),i=i||p(r),a=0;null!=(o=s[a]);a++)_(o,i[a]);else _(t,r);return i=p(r,"script"),i.length>0&&m(i,!l&&p(t,"script")),i=s=o=null,r},cleanData:function(t,e){for(var n,i,o,r,a=0,s=ht.expando,l=ht.cache,u=dt.attributes,c=ht.event.special;null!=(n=t[a]);a++)if((e||$t(n))&&(o=n[s],r=o&&l[o])){if(r.events)for(i in r.events)c[i]?ht.event.remove(n,i):ht.removeEvent(n,i,r.handle);l[o]&&(delete l[o],u||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(o))}}}),ht.fn.extend({domManip:E,detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Ft(this,function(t){return t===undefined?ht.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){C(this,t).appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ht.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ht.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(Qt,""):undefined;if("string"==typeof t&&!ee.test(t)&&(dt.htmlSerialize||!Gt.test(t))&&(dt.leadingWhitespace||!zt.test(t))&&!Bt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(ht.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;ht.inArray(this,t)<0&&(ht.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ht.fn[t]=function(t){for(var n,i=0,o=[],r=ht(t),a=r.length-1;i<=a;i++)n=i===a?this:this.clone(!0),ht(r[i])[e](n),at.apply(o,n.get());return this.pushStack(o)}});var se,le={HTML:"block",BODY:"block"},ue=/^margin/,ce=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),de=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o},fe=it.documentElement;!function(){function e(){var e,c,d=it.documentElement;d.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=s=!1,i=a=!0,t.getComputedStyle&&(c=t.getComputedStyle(u),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,e=u.appendChild(it.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((t.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",r=0===u.getClientRects().length,r&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(l)}var n,i,o,r,a,s,l=it.createElement("div"),u=it.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===u.style.opacity,dt.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===u.style.backgroundClip,l=it.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),dt.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ht.extend(dt,{reliableHiddenOffsets:function(){return null==n&&e(),r},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),a},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var he,pe,me=/^(top|right|bottom|left)$/;t.getComputedStyle?(he=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},pe=function(t,e,n){var i,o,r,a,s=t.style;return n=n||he(t),a=n?n.getPropertyValue(e)||n[e]:undefined,""!==a&&a!==undefined||ht.contains(t.ownerDocument,t)||(a=ht.style(t,e)),n&&!dt.pixelMarginRight()&&ce.test(a)&&ue.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),a===undefined?a:a+""}):fe.currentStyle&&(he=function(t){return t.currentStyle},pe=function(t,e,n){var i,o,r,a,s=t.style;return n=n||he(t),a=n?n[e]:undefined,null==a&&s&&s[e]&&(a=s[e]),ce.test(a)&&!me.test(e)&&(i=s.left,o=t.runtimeStyle,r=o&&o.left,r&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),a===undefined?a:a+""||"auto"});var ge=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,ye=/^(none|table(?!-c[ea]).+)/,be=new RegExp("^("+Rt+")(.*)$","i"),we={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"],ke=it.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=pe(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=ht.camelCase(e),l=t.style;if(e=ht.cssProps[s]||(ht.cssProps[s]=I(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:l[e];if(r=typeof n,"string"===r&&(o=Lt.exec(n))&&o[1]&&(n=f(t,e,o),r="number"),null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(ht.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(t){}}},css:function(t,e,n,i){var o,r,a,s=ht.camelCase(e);return e=ht.cssProps[s]||(ht.cssProps[s]=I(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),r===undefined&&(r=pe(t,e,i)),"normal"===r&&e in xe&&(r=xe[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ht.each(["height","width"],function(t,e){ht.cssHooks[e]={get:function(t,n,i){if(n)return ye.test(ht.css(t,"display"))&&0===t.offsetWidth?de(t,we,function(){return P(t,e,i)}):P(t,e,i)},set:function(t,n,i){var o=i&&he(t);return R(t,n,i?L(t,e,i,dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,o),o):0)}}}),dt.opacity||(ht.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ht.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ht.trim(r.replace(ge,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ge.test(r)?r.replace(ge,o):r+" "+o)}}),ht.cssHooks.marginRight=$(dt.reliableMarginRight,function(t,e){if(e)return de(t,{display:"inline-block"},pe,[t,"marginRight"])}),ht.cssHooks.marginLeft=$(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(pe(t,"marginLeft"))||(ht.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-de(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(t,e){ht.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+Pt[i]+e]=r[i]||r[i-2]||r[0];return o}},ue.test(t)||(ht.cssHooks[t+e].set=R)}),ht.fn.extend({css:function(t,e){return Ft(this,function(t,e,n){var i,o,r={},a=0;if(ht.isArray(e)){for(i=he(t),o=e.length;a<o;a++)r[e[a]]=ht.css(t,e[a],!1,i);return r}return n!==undefined?ht.style(t,e,n):ht.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ht(this).show():ht(this).hide()})}}),ht.Tween=j,j.prototype={constructor:j,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ht.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=j.prototype.init,ht.fx.step={};var Te,_e,Se=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;ht.Animation=ht.extend(U,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,Lt.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(Mt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(e)},prefilters:[O],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),ht.speed=function(t,e,n){var i=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return i.duration=ht.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ht.fx.speeds?ht.fx.speeds[i.duration]:ht.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ht.isFunction(i.old)&&i.old.call(this),i.queue&&ht.dequeue(this,i.queue)},i},ht.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ht.isEmptyObject(t),r=ht.speed(e,n,i),a=function(){var e=U(this,ht.extend({},t),r);(o||ht._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ht.timers,a=ht._data(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&Ee.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||ht.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=ht._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=ht.timers,a=i?i.length:0;for(n.finish=!0,ht.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ht.each(["toggle","show","hide"],function(t,e){var n=ht.fn[e];ht.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,o)}}),ht.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ht.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ht.timers=[],ht.fx.tick=function(){var t,e=ht.timers,n=0;for(Te=ht.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ht.fx.stop(),Te=undefined},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){_e||(_e=t.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){t.clearInterval(_e),_e=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(e,n){return e=ht.fx?ht.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),o=i.appendChild(it.createElement("option"));n=it.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",dt.getSetAttribute="t"!==n.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=o.selected,dt.enctype=!!it.createElement("form").enctype,i.disabled=!0,dt.optDisabled=!o.disabled,e=it.createElement("input"),e.setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Me=/\r/g,Ne=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=ht.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,ht(this).val()):t,null==o?o="":"number"==typeof o?o+="":ht.isArray(o)&&(o=ht.map(o,function(t){return null==t?"":t+""})),(e=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))});if(o)return(e=ht.valHooks[o.type]||ht.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(o,"value"))!==undefined?n:(n=o.value,"string"==typeof n?n.replace(Me,""):null==n?"":n)}}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(Ne," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(n=i[l],(n.selected||l===o)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=ht.makeArray(e),a=o.length;a--;)if(i=o[a],ht.inArray(ht.valHooks.option.get(i),r)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=ht.inArray(ht(t).val(),e)>-1}},dt.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ae,$e,Ie=ht.expr.attrHandle,De=/^(?:checked|selected)$/i,Re=dt.getSetAttribute,Le=dt.input;ht.fn.extend({attr:function(t,e){return Ft(this,ht.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===r&&ht.isXMLDoc(t)||(e=e.toLowerCase(),o=ht.attrHooks[e]||(ht.expr.match.bool.test(e)?$e:Ae)),n!==undefined?null===n?void ht.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=ht.find.attr(t,e),null==i?undefined:i))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Mt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ht.propFix[n]||n,ht.expr.match.bool.test(n)?Le&&Re||!De.test(n)?t[i]=!1:t[ht.camelCase("default-"+n)]=t[i]=!1:ht.attr(t,n,""),t.removeAttribute(Re?n:i)}}),$e={set:function(t,e,n){return!1===e?ht.removeAttr(t,n):Le&&Re||!De.test(n)?t.setAttribute(!Re&&ht.propFix[n]||n,n):t[ht.camelCase("default-"+n)]=t[n]=!0,n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ie[e]||ht.find.attr;Le&&Re||!De.test(e)?Ie[e]=function(t,e,i){var o,r;return i||(r=Ie[e],Ie[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Ie[e]=r),o}:Ie[e]=function(t,e,n){if(!n)return t[ht.camelCase("default-"+e)]?e.toLowerCase():null}}),Le&&Re||(ht.attrHooks.value={set:function(t,e,n){if(!ht.nodeName(t,"input"))return Ae&&Ae.set(t,e,n);t.defaultValue=e}}),Re||(Ae={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Ie.id=Ie.name=Ie.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ht.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Ae.set},ht.attrHooks.contenteditable={set:function(t,e,n){Ae.set(t,""!==e&&e,n)}},ht.each(["width","height"],function(t,e){ht.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),dt.style||(ht.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Pe=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return Ft(this,ht.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ht.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(t){}})}}),ht.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,o=ht.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):Pe.test(t.nodeName)||je.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ht.each(["href","src"],function(t,e){ht.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this}),dt.enctype||(ht.propFix.enctype="encoding");var Fe=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).addClass(t.call(this,e,B(this)))});if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(o=B(n),i=1===n.nodeType&&(" "+o+" ").replace(Fe," ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=ht.trim(i),o!==s&&ht.attr(n,"class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).removeClass(t.call(this,e,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Mt)||[];n=this[l++];)if(o=B(n),i=1===n.nodeType&&(" "+o+" ").replace(Fe," ")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");s=ht.trim(i),o!==s&&ht.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ht.isFunction(t)?this.each(function(n){ht(this).toggleClass(t.call(this,n,B(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=ht(this),r=t.match(Mt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||(e=B(this),e&&ht._data(this,"__className__",e),ht.attr(this,"class",e||!1===t?"":ht._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+B(n)+" ").replace(Fe," ").indexOf(e)>-1)return!0;return!1}}),ht.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ht.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var He=t.location,qe=ht.now(),Oe=/\?/,ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ht.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ht.trim(e+"");return o&&!ht.trim(o.replace(ze,function(t,e,o,r){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!r-!o,"")}))?Function("return "+o)():ht.error("Invalid JSON: "+e)},ht.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new t.DOMParser,n=i.parseFromString(e,"text/xml")):(n=new t.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(t){n=undefined}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+e),n};var Ue=/#.*$/,Be=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Ke=/^\/\//,Ye=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ze={},Je={},Qe="*/".concat("*"),Ge=He.href,tn=Ye.exec(Ge.toLowerCase())||[];ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ge,type:"GET",isLocal:Ve.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ht.parseJSON,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,ht.ajaxSettings),e):X(ht.ajaxSettings,t)},ajaxPrefilter:W(Ze),ajaxTransport:W(Je),ajax:function(e,n){function i(e,n,i,o){var r,d,y,b,x,k=n;2!==w&&(w=2,l&&t.clearTimeout(l),c=undefined,s=o||"",C.readyState=e>0?4:0,r=e>=200&&e<300||304===e,i&&(b=K(f,C,i)),b=Y(f,b,C,r),r?(f.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ht.lastModified[a]=x),(x=C.getResponseHeader("etag"))&&(ht.etag[a]=x)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=b.state,d=b.data,y=b.error,r=!y)):(y=k,!e&&k||(k="error",e<0&&(e=0))),C.status=e,C.statusText=(n||k)+"",r?m.resolveWith(h,[d,k,C]):m.rejectWith(h,[C,k,y]),C.statusCode(v),v=undefined,u&&p.trigger(r?"ajaxSuccess":"ajaxError",[C,f,r?d:y]),g.fireWith(h,[C,k]),u&&(p.trigger("ajaxComplete",[C,f]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var o,r,a,s,l,u,c,d,f=ht.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?ht(h):ht.event,m=ht.Deferred(),g=ht.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=We.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),i(0,e),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,f.url=((e||f.url||Ge)+"").replace(Ue,"").replace(Ke,tn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ht.trim(f.dataType||"*").toLowerCase().match(Mt)||[""],null==f.crossDomain&&(o=Ye.exec(f.url.toLowerCase()),f.crossDomain=!(!o||o[1]===tn[1]&&o[2]===tn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ht.param(f.data,f.traditional)),V(Ze,f,n,C),2===w)return C;u=ht.event&&f.global,u&&0==ht.active++&&ht.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Xe.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Oe.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Be.test(a)?a.replace(Be,"$1_="+qe++):a+(Oe.test(a)?"&":"?")+"_="+qe++)),f.ifModified&&(ht.lastModified[a]&&C.setRequestHeader("If-Modified-Since",ht.lastModified[a]),ht.etag[a]&&C.setRequestHeader("If-None-Match",ht.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Qe+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)C.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(!1===f.beforeSend.call(h,C,f)||2===w))return C.abort();x="abort";for(r in{success:1,error:1,complete:1})C[r](f[r]);if(c=V(Je,f,n,C)){if(C.readyState=1,u&&p.trigger("ajaxSend",[C,f]),2===w)return C;f.async&&f.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},f.timeout));try{w=1,c.send(y,i)}catch(t){if(!(w<2))throw t;i(-1,t)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,undefined,e,"script")}}),ht.each(["get","post"],function(t,e){ht[e]=function(t,n,i,o){return ht.isFunction(n)&&(o=o||i,i=n,n=undefined),ht.ajax(ht.extend({url:t,type:e,dataType:o,data:n,success:i},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(t){if(ht.isFunction(t))return this.each(function(e){ht(this).wrapAll(t.call(this,e))});if(this[0]){var e=ht(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ht.isFunction(t)?this.each(function(e){ht(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ht(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ht.isFunction(t);return this.each(function(n){ht(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ht.nodeName(this,"body")||ht(this).replaceWith(this.childNodes)}).end()}}),ht.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},ht.expr.filters.visible=function(t){return!ht.expr.filters.hidden(t)};var en=/%20/g,nn=/\[\]$/,on=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e){var n,i=[],o=function(t,e){e=ht.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ht.ajaxSettings&&ht.ajaxSettings.traditional),ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){o(this.name,this.value)});else for(n in t)Q(n,t[n],e,o);return i.join("&").replace(en,"+")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&an.test(this.nodeName)&&!rn.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(on,"\r\n")}}):{name:e.name,value:n.replace(on,"\r\n")}}).get()}}),ht.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():it.documentMode>8?G():/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||tt()}:G;var sn=0,ln={},un=ht.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ln)ln[t](undefined,!0)}),dt.cors=!!un&&"withCredentials"in un,un=dt.ajax=!!un,un&&ht.ajaxTransport(function(e){if(!e.crossDomain||dt.cors){var n;return{send:function(i,o){var r,a=e.xhr(),s=++sn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)i[r]!==undefined&&a.setRequestHeader(r,i[r]+"");a.send(e.hasContent&&e.data||null),n=function(t,i){var r,l,u;if(n&&(i||4===a.readyState))if(delete ln[s],n=undefined,a.onreadystatechange=ht.noop,i)4!==a.readyState&&a.abort();else{u={},r=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(t){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=u.text?200:404}u&&o(r,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?t.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ht.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=it.head||ht("head")[0]||it.documentElement;return{send:function(i,o){e=it.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var cn=[],dn=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=cn.pop()||ht.expando+"_"+qe++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=!1!==e.jsonp&&(dn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ht.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(dn,"$1"+o):!1!==e.jsonp&&(e.url+=(Oe.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||ht.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){r===undefined?ht(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,cn.push(o)),a&&ht.isFunction(r)&&r(a[0]),a=r=undefined}),"script"}),ht.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,o),o&&o.length&&ht(o).remove(),ht.merge([],i.childNodes))};var fn=ht.fn.load;ht.fn.load=function(t,e,n){if("string"!=typeof t&&fn)return fn.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=ht.trim(t.slice(s,t.length)),t=t.slice(0,s)),ht.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),a.length>0&&ht.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?ht("<div>").append(ht.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.filters.animated=function(t){return ht.grep(ht.timers,function(e){return t===e.elem}).length},ht.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,u,c=ht.css(t,"position"),d=ht(t),f={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=ht.css(t,"top"),l=ht.css(t,"left"),u=("absolute"===c||"fixed"===c)&&ht.inArray("auto",[r,l])>-1,u?(i=d.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+o),"using"in e?e.using.call(t,f):d.css(f)}},ht.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ht.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return e=r.documentElement,ht.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ht.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(n=t.offset()),n.top+=ht.css(t[0],"borderTopWidth",!0),n.left+=ht.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ht.css(i,"marginTop",!0),left:e.left-n.left-ht.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ht.nodeName(t,"html")&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||fe})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ht.fn[t]=function(i){return Ft(this,function(t,i,o){var r=et(t);if(o===undefined)return r?e in r?r[e]:r.document.documentElement[i]:t[i];r?r.scrollTo(n?ht(r).scrollLeft():o,n?o:ht(r).scrollTop()):t[i]=o},t,i,arguments.length,null)}}),ht.each(["top","left"],function(t,e){ht.cssHooks[e]=$(dt.pixelPosition,function(t,n){if(n)return n=pe(t,e),ce.test(n)?ht(t).position()[e]+"px":n})}),ht.each({Height:"height",Width:"width"},function(t,e){ht.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ht.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return Ft(this,function(e,n,i){var o;return ht.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):i===undefined?ht.css(e,n,a):ht.style(e,n,i,a)},e,r?i:undefined,r,null)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.fn.size=function(){return this.length},ht.fn.andSelf=ht.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var hn=t.jQuery,pn=t.$;return ht.noConflict=function(e){return t.$===ht&&(t.$=pn),e&&t.jQuery===ht&&(t.jQuery=hn),ht},e||(t.jQuery=t.$=ht),ht}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",
buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var o,r,a,s,l,u;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(a.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),a=i.data("params")||null);return u={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(i,"ajax:beforeSend",[t,o]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},s&&(u.xhrFields={withCredentials:s}),r&&(u.url=r),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||n.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,a,s,l=t(),u=n||"input,textarea",c=e.find(u),d={};return c.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),d[s]=s)):(r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===i&&(l=l.add(o))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),o=i.data("method"),r=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=n.handleRemote(i);return!1===s?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return!1===o?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var o,r,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function r(t){return{left:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)<0?i=r+1:o=r}return i},right:function(e,n,i,o){for(arguments.length<3&&(i=0),arguments.length<4&&(o=e.length);o>i;){var r=i+o>>>1;t(e[r],n)>0?o=r:i=r+1}return i}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===ba||t[0]===wa?wa+t:t}function d(t){return(t+="")[0]===wa?t.slice(1):t}function f(t){return c(t)in this._}function h(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(d(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xa.length;i>n;++n){var o=xa[n]+e;if(o in t)return o}}function x(){}function C(){}function k(t){function e(){for(var e,i=n,o=-1,r=i.length;++o<r;)(e=i[o].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,o){var r,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,r=n.indexOf(a)).concat(n.slice(r+1)),i.remove(e)),o&&n.push(i.set(e,{on:o})),t)},e}function T(){la.event.preventDefault()}function _(){for(var t,e=la.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new C,n=0,i=arguments.length;++n<i;)e[arguments[n]]=k(e);return e.of=function(n,i){return function(o){try{var r=o.sourceEvent=la.event;o.target=t,la.event=o,e[o.type].apply(n,i)}finally{la.event=r}}},e}function E(t){return ka(t,Ea),t}function M(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function N(t){return"function"==typeof t?t:function(){return _a(t,this)}}function A(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function r(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=la.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?r:o}function $(t){return t.trim().replace(/\s+/g," ")}function I(t){return new RegExp("(?:^|\\s+)"+la.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function R(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<o;)t[n](this,i)}t=D(t).map(L);var o=t.length;return"function"==typeof e?i:n}function L(t){var e=I(t);return function(n,i){if(o=n.classList)return i?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(o)||n.setAttribute("class",$(o+" "+t))):n.setAttribute("class",$(o.replace(e," ")))}}function P(t,e,n){function i(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function r(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?r:o}function j(t,e){function n(){delete this[t]}function i(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:i}function F(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ma&&e.documentElement.namespaceURI===Ma?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=la.ns.qualify(t)).local?n:e}function H(){var t=this.parentNode;t&&t.removeChild(this)}function q(t){return{__data__:t}}function O(t){return function(){return Sa(this,t)}}function z(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,i=t.length;i>n;n++)for(var o,r=t[n],a=0,s=r.length;s>a;a++)(o=r[a])&&e(o,a,n);return t}function B(t){return ka(t,Aa),t}function W(t){var e,n;return function(i,o,r){var a,s=t[r].update,l=s.length;for(r!=n&&(n=r,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}function V(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=l(e,ca(arguments));i.call(this),this.addEventListener(t,this[a]=o,o.$=n),o._=e}function r(){var e,n=new RegExp("^__on([^.]+)"+la.requote(t)+"$");for(var i in this)if(e=i.match(n)){var o=this[i];this.removeEventListener(e[1],o,o.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),l=X;s>0&&(t=t.slice(0,s));var u=$a.get(t);return u&&(t=u,l=K),s?e?o:i:e?x:r}function X(t,e){return function(n){var i=la.event;la.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{la.event=i}}}function K(t,e){var n=X(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function Y(n){var i=".dragsuppress-"+ ++Da,o="click"+i,r=la.select(e(n)).on("touchmove"+i,T).on("dragstart"+i,T).on("selectstart"+i,T);if(null==Ia&&(Ia=!("onselectstart"in n)&&w(n.style,"userSelect")),Ia){var a=t(n).style,s=a[Ia];a[Ia]="none"}return function(t){if(r.on(i,null),Ia&&(a[Ia]=s),t){var e=function(){r.on(o,null)};r.on(o,function(){T(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var o=i.createSVGPoint();if(0>Ra){var r=e(t);if(r.scrollX||r.scrollY){i=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();Ra=!(a.f||a.e),i.remove()}}return Ra?(o.x=n.pageX,o.y=n.pageY):(o.x=n.clientX,o.y=n.clientY),o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function J(){return la.event.changedTouches[0].identifier}function Q(t){return t>0?1:0>t?-1:0}function G(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?ja:Math.acos(t)}function et(t){return t>1?qa:-1>t?-qa:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function rt(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,Ct,st):new st(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?r+(a-r)*t/60:180>t?a:240>t?r+(a-r)*(240-t)/60:r}function o(t){return Math.round(255*i(t))}var r,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,r=2*n-a,new vt(o(t+120),o(t),o(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof dt?ht(t.l,t.a,t.b):ht((t=kt((t=la.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=Oa)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):kt((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ft(t,e,n){var i=(t+16)/116,o=i+e/500,r=i-n/200;return o=pt(o)*Qa,i=pt(i)*Ga,r=pt(r)*ts,new vt(gt(3.2404542*o-1.5371385*i-.4985314*r),gt(-.969266*o+1.8760108*i+.041556*r),gt(.0556434*o-.2040259*i+1.0572252*r))}function ht(t,e,n){return t>0?new ut(Math.atan2(n,e)*za,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,o,r,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=i[2].split(","),i[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(_t(o[0]),_t(o[1]),_t(o[2]))}return(r=is.get(t))?e(r.r,r.g,r.b):(null==t||"#"!==t.charAt(0)||isNaN(r=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&r)>>4,a|=a>>4,s=240&r,s|=s>>4,l=15&r,l|=l<<4):7===t.length&&(a=(16711680&r)>>16,s=(65280&r)>>8,l=255&r)),e(a,s,l))}function Ct(t,e,n){var i,o,r=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-r,l=(a+r)/2;return s?(o=.5>l?s/(a+r):s/(2-a-r),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,o=l>0&&1>l?0:i),new st(i,o,l)}function kt(t,e,n){t=Tt(t),e=Tt(e),n=Tt(n);var i=mt((.4124564*t+.3575761*e+.1804375*n)/Qa),o=mt((.2126729*t+.7151522*e+.072175*n)/Ga);return dt(116*o-16,500*(i-o),200*(o-mt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function Et(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Mt(e,n,t,i)}}function Mt(t,e,n,i){function o(){var t,e=l.status;if(!e&&At(l)||e>=200&&300>e||304===e){try{t=n.call(r,l)}catch(t){return void a.error.call(r,t)}a.load.call(r,t)}else a.error.call(r,l)}var r={},a=la.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=la.event;la.event=t;try{a.progress.call(r,l)}finally{la.event=e}},r.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",r)},r.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",r):e},r.responseType=function(t){return arguments.length?(u=t,r):u},r.response=function(t){return n=t,r},["get","post"].forEach(function(t){r[t]=function(){return r.send.apply(r,[t].concat(ca(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(r,l),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},la.rebind(r,a,"on"),null==i?r:r.get(Nt(i))}function Nt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function $t(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var o=n+e,r={c:t,t:o,n:null};return rs?rs.n=r:os=r,rs=r,as||(ss=clearTimeout(ss),as=1,ls(It)),r}function It(){var t=Dt(),e=Rt()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(It,e)),as=0):(as=1,ls(It))}function Dt(){for(var t=Date.now(),e=os;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=os,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:os=e.n;return rs=t,n}function Lt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*ya(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function jt(t){var e=t.decimal,n=t.thousands,i=t.grouping,o=t.currency,r=i&&n?function(t,e){for(var o=t.length,r=[],a=0,s=i[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),r.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=i[a=(a+1)%i.length];return r.reverse().join(n)}:y;return function(t){var n=cs.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,m="",g="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===a)&&(u=i="0",a="="),h){case"n":d=!0,h="g";break;case"%":p=100,g="%",h="f";break;case"p":p=100,g="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(m=o[0],g=o[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=ds.get(h)||Ft;var b=u&&d;return function(t){var n=g;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=la.formatPrefix(t,f);t=l.scale(t),n=l.symbol+g}else t*=p;t=h(t,f);var w,x,C=t.lastIndexOf(".");if(0>C){var k=y?t.lastIndexOf("e"):-1;0>k?(w=t,x=""):(w=t.substring(0,k),x=t.substring(k))}else w=t.substring(0,C),x=e+t.substring(C+1);!u&&d&&(w=r(w,1/0));var T=m.length+w.length+x.length+(b?0:o.length),_=c>T?new Array(T=c-T+1).join(i):"";return b&&(w=r(_+w,_.length?c-x.length:1/0)),o+=m,t=w+x,("<"===a?o+t+_:">"===a?_+o+t:"^"===a?_.substring(0,T>>=1)+o+t+_.substring(T):o+(b?t:_+t))+n}}}function Ft(t){return t+""}function Ht(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function qt(t,e,n){function i(e){var n=t(e),i=r(n,1);return i-e>e-n?n:i}function o(n){return e(n=t(new hs(n-1)),1),n}function r(t,n){return e(t=new hs(+t),n),t}function a(t,i,r){var a=o(t),s=[];if(r>1)for(;i>a;)n(a)%r||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{hs=Ht;var i=new Ht;return i._=t,a(i,e,n)}finally{hs=Date}}t.floor=t,t.round=i,t.ceil=o,t.offset=r,t.range=a;var l=t.utc=Ot(t);return l.floor=l,l.round=Ot(i),l.ceil=Ot(o),l.offset=Ot(r),l.range=s,t}function Ot(t){return function(e,n){try{hs=Ht;var i=new Ht;return i._=e,t(i,n)._}finally{hs=Date}}}function zt(t){function e(t){function e(e){for(var n,o,r,a=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=ms[n=t.charAt(++s)])&&(n=t.charAt(++s)),(r=M[n])&&(n=r(e,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(i,t,e,0)!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&hs!==Ht,r=new(o?Ht:hs);return"j"in i?r.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),r.setFullYear(i.y,0,1),r.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(r.getDay()+5)%7:i.w+7*i.U-(r.getDay()+6)%7)):r.setFullYear(i.y,i.m,i.d),r.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?r._:r},e.toString=function(){return t},e}function n(t,e,n,i){for(var o,r,a,s=0,l=e.length,u=n.length;l>s;){if(i>=u)return-1;if(37===(o=e.charCodeAt(s++))){if(a=e.charAt(s++),!(r=N[a in ms?e.charAt(s++):a])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){S.lastIndex=0;var i=S.exec(e.slice(n));return i?(t.m=E.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){T.lastIndex=0;var i=T.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,M.c.toString(),e,i)}function l(t,e,i){return n(t,M.x.toString(),e,i)}function u(t,e,i){return n(t,M.X.toString(),e,i)}function c(t,e,n){var i=b.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var d=t.dateTime,f=t.date,h=t.time,p=t.periods,m=t.days,g=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{hs=Ht;var e=new hs;return e._=t,i(e)}finally{hs=Date}}var i=e(t);return n.parse=function(t){try{hs=Ht;var e=i.parse(t);return e&&e._}finally{hs=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=le;var b=la.map(),w=Bt(m),x=Wt(m),C=Bt(g),k=Wt(g),T=Bt(v),_=Wt(v),S=Bt(y),E=Wt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var M={a:function(t){return g[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+fs.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(fs.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},N={a:i,A:o,b:r,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:re,m:Gt,M:ie,p:c,S:oe,U:Xt,w:Vt,W:Kt,x:l,X:u,y:Zt,Y:Yt,Z:Jt,"%":se};return e}function Ut(t,e,n){var i=0>t?"-":"",o=(i?-t:t)+"",r=o.length;return i+(n>r?new Array(n-r+1).join(e)+o:o)}function Bt(t){return new RegExp("^(?:"+t.map(la.requote).join("|")+")","i")}function Wt(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Xt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Kt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Yt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Zt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.y=Qt(+i[0]),n+i[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qt(t){return t+(t>68?1900:2e3)}function Gt(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function oe(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function re(t,e,n){gs.lastIndex=0;var i=gs.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ya(e)/60|0,o=ya(e)%60;return n+Ut(i,"0",2)+Ut(o,"0",2)}function se(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ue(){}function ce(t,e,n){var i=n.s=t+e,o=i-t,r=i-o;n.t=t-r+(e-o)}function de(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function fe(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function he(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Oa,e=e*Oa/2+ja/4;var n=t-i,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=r*u,d=o*l+c*Math.cos(s),f=c*a*Math.sin(s);ks.add(Math.atan2(f,d)),i=t,o=l,r=u}var e,n,i,o,r;Ts.point=function(a,s){Ts.point=t,i=(e=a)*Oa,o=Math.cos(s=(n=s)*Oa/2+ja/4),r=Math.sin(s)},Ts.lineEnd=function(){t(e,n)}}function me(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Ce(t,e){return ya(t[0]-e[0])<La&&ya(t[1]-e[1])<La}function ke(t,e){t*=Oa;var n=Math.cos(e*=Oa);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){++_s,Es+=(t-Es)/_s,Ms+=(e-Ms)/_s,Ns+=(n-Ns)/_s}function _e(){function t(t,o){t*=Oa;var r=Math.cos(o*=Oa),a=r*Math.cos(t),s=r*Math.sin(t),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+i*l);Ss+=u,As+=u*(e+(e=a)),$s+=u*(n+(n=s)),Is+=u*(i+(i=l)),Te(e,n,i)}var e,n,i;Ps.point=function(o,r){o*=Oa;var a=Math.cos(r*=Oa);e=a*Math.cos(o),n=a*Math.sin(o),i=Math.sin(r),Ps.point=t,Te(e,n,i)}}function Se(){Ps.point=ke}function Ee(){function t(t,e){t*=Oa;var n=Math.cos(e*=Oa),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=o*l-r*s,c=r*a-i*l,d=i*s-o*a,f=Math.sqrt(u*u+c*c+d*d),h=i*a+o*s+r*l,p=f&&-tt(h)/f,m=Math.atan2(f,h);Ds+=p*u,Rs+=p*c,Ls+=p*d,Ss+=m,As+=m*(i+(i=a)),$s+=m*(o+(o=s)),Is+=m*(r+(r=l)),Te(i,o,r)}var e,n,i,o,r;Ps.point=function(a,s){e=a,n=s,Ps.point=t,a*=Oa;var l=Math.cos(s*=Oa);i=l*Math.cos(a),o=l*Math.sin(a),r=Math.sin(s),Te(i,o,r)},Ps.lineEnd=function(){t(e,n),Ps.lineEnd=Se,Ps.point=ke}}function Me(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Ne(){return!0}function Ae(t,e,n,i,o){var r=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Ce(n,i)){o.lineStart();for(var s=0;e>s;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var l=new Ie(n,t,null,!0),u=new Ie(n,null,l,!1);l.o=u,r.push(l),a.push(u),l=new Ie(i,t,null,!1),u=new Ie(i,null,l,!0),l.o=u,r.push(l),a.push(u)}}),a.sort(e),$e(r),$e(a),r.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,d,f=r[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;u>s;++s)o.point((d=c[s])[0],d[1]);else i(h.x,h.n.x,1,o);h=h.n}else{if(p){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((d=c[s])[0],d[1])}else i(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);o.lineEnd()}}}function $e(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ie(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function De(t,e,n,i){return function(o,r){function a(e,n){var i=o(e,n);t(e=i[0],n=i[1])&&r.point(e,n)}function s(t,e){var n=o(t,e);g.point(n[0],n[1])}function l(){y.point=s,g.lineStart()}function u(){y.point=a,g.lineEnd()}function c(t,e){m.push([t,e]);var n=o(t,e);w.point(n[0],n[1])}function d(){w.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),i=n.length;if(m.pop(),p.push(m),m=null,i)if(1&e){t=n[0];var o,i=t.length-1,a=-1;if(i>0){for(x||(r.polygonStart(),x=!0),r.lineStart();++a<i;)r.point((o=t[a])[0],o[1]);r.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Re))}var h,p,m,g=e(r),v=o.invert(i[0],i[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=f,h=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,h=la.merge(h);var t=qe(v,p);h.length?(x||(r.polygonStart(),x=!0),Ae(h,Pe,t,n,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),h=p=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},b=Le(),w=e(b),x=!1;return y}}function Re(t){return t.length>1}function Le(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},
rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pe(t,e){return((t=t.x)[0]<0?t[1]-qa-La:qa-t[1])-((e=e.x)[0]<0?e[1]-qa-La:qa-e[1])}function je(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?ja:-ja,l=ya(r-n);ya(l-ja)<La?(t.point(n,i=(i+a)/2>0?qa:-qa),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(r,i),e=0):o!==s&&l>=ja&&(ya(n-o)<La&&(n-=o*La),ya(r-s)<La&&(r-=s*La),i=Fe(n,i,r,a),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=r,i=a),o=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Fe(t,e,n,i){var o,r,a=Math.sin(t-n);return ya(a)>La?Math.atan((Math.sin(e)*(r=Math.cos(i))*Math.sin(n)-Math.sin(i)*(o=Math.cos(e))*Math.sin(t))/(o*r*a)):(e+i)/2}function He(t,e,n,i){var o;if(null==t)o=n*qa,i.point(-ja,o),i.point(0,o),i.point(ja,o),i.point(ja,0),i.point(ja,-o),i.point(0,-o),i.point(-ja,-o),i.point(-ja,0),i.point(-ja,o);else if(ya(t[0]-e[0])>La){var r=t[0]<e[0]?ja:-ja;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])}function qe(t,e){var n=t[0],i=t[1],o=[Math.sin(n),-Math.cos(n),0],r=0,a=0;ks.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+ja/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0),t=u[g];var v=t[0],y=t[1]/2+ja/4,b=Math.sin(y),w=Math.cos(y),x=v-f,C=x>=0?1:-1,k=C*x,T=k>ja,_=p*b;if(ks.add(Math.atan2(_*C*Math.sin(k),m*w+_*Math.cos(k))),r+=T?x+C*Fa:x,T^f>=n^v>=n){var S=ve(me(d),me(t));we(S);var E=ve(o,S);we(E);var M=(T^x>=0?-1:1)*et(E[2]);(i>M||i===M&&(S[0]||S[1]))&&(a+=T^x>=0?1:-1)}if(!g++)break;f=v,p=b,m=w,d=t}}return(-La>r||La>r&&0>ks)^1&a}function Oe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>r}function n(t){var n,r,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],m=e(d,f),g=a?m?0:o(d,f):m?o(d+(0>d?ja:-ja),f):0;if(!n&&(u=l=m)&&t.lineStart(),m!==l&&(h=i(n,p),(Ce(n,h)||Ce(p,h))&&(p[0]+=La,p[1]+=La,m=e(p[0],p[1]))),m!==l)c=0,m?(t.lineStart(),h=i(p,n),t.point(h[0],h[1])):(h=i(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^m){var v;g&r||!(v=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,l=m,r=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=me(t),o=me(e),a=[1,0,0],s=ve(i,o),l=ge(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var d=r*l/c,f=-r*u/c,h=ve(a,s),p=be(a,d);ye(p,be(s,f));var m=h,g=ge(p,m),v=ge(m,m),y=g*g-v*(ge(p,p)-1);if(!(0>y)){var b=Math.sqrt(y),w=be(m,(-g-b)/v);if(ye(w,p),w=xe(w),!n)return w;var x,C=t[0],k=e[0],T=t[1],_=e[1];C>k&&(x=C,C=k,k=x);var S=k-C,E=ya(S-ja)<La,M=E||La>S;if(!E&&T>_&&(x=T,T=_,_=x),M?E?T+_>0^w[1]<(ya(w[0]-C)<La?T:_):T<=w[1]&&w[1]<=_:S>ja^(C<=w[0]&&w[0]<=k)){var N=be(m,(-g+b)/v);return ye(N,p),[w,xe(N)]}}}function o(e,n){var i=a?t:ja-t,o=0;return-i>e?o|=1:e>i&&(o|=2),-i>n?o|=4:n>i&&(o|=8),o}var r=Math.cos(t),a=r>0,s=ya(r)>La;return De(e,n,mn(t,6*Oa),a?[0,-t]:[-ja,t-ja])}function ze(t,e,n,i){return function(o){var r,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,d=s.y,f=0,h=1,p=c-l,m=d-u;if(r=t-l,p||!(r>0)){if(r/=p,0>p){if(f>r)return;h>r&&(h=r)}else if(p>0){if(r>h)return;r>f&&(f=r)}if(r=n-l,p||!(0>r)){if(r/=p,0>p){if(r>h)return;r>f&&(f=r)}else if(p>0){if(f>r)return;h>r&&(h=r)}if(r=e-u,m||!(r>0)){if(r/=m,0>m){if(f>r)return;h>r&&(h=r)}else if(m>0){if(r>h)return;r>f&&(f=r)}if(r=i-u,m||!(0>r)){if(r/=m,0>m){if(r>h)return;r>f&&(f=r)}else if(m>0){if(f>r)return;h>r&&(h=r)}return f>0&&(o.a={x:l+f*p,y:u+f*m}),1>h&&(o.b={x:l+h*p,y:u+h*m}),o}}}}}}function Ue(t,e,n,i){function o(i,o){return ya(i[0]-t)<La?o>0?0:3:ya(i[0]-n)<La?o>0?2:1:ya(i[1]-e)<La?o>0?1:0:o>0?3:2}function r(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),i=o(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=g.length,i=t[1],o=0;n>o;++o)for(var r,a=1,s=g[o],l=s.length,u=s[0];l>a;++a)r=s[a],u[1]<=i?r[1]>i&&G(u,r,t)>0&&++e:r[1]<=i&&G(u,r,t)<0&&--e,u=r;return 0!==e}function u(r,s,l,u){var c=0,d=0;if(null==r||(c=o(r,l))!==(d=o(s,l))||a(r,s)<0^l>0){do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function c(o,r){return o>=t&&n>=o&&r>=e&&i>=r}function d(t,e){c(t,e)&&s.point(t,e)}function f(){N.point=p,g&&g.push(v=[]),T=!0,k=!1,x=C=NaN}function h(){m&&(p(y,b),w&&k&&E.rejoin(),m.push(E.buffer())),N.point=d,k&&s.lineEnd()}function p(t,e){t=Math.max(-Fs,Math.min(Fs,t)),e=Math.max(-Fs,Math.min(Fs,e));var n=c(t,e);if(g&&v.push([t,e]),T)y=t,b=e,w=n,T=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var i={a:{x:x,y:C},b:{x:t,y:e}};M(i)?(k||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(t,e),_=!1)}x=t,C=e,k=n}var m,g,v,y,b,w,x,C,k,T,_,S=s,E=Le(),M=ze(t,e,n,i),N={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=E,m=[],g=[],_=!0},polygonEnd:function(){s=S,m=la.merge(m);var e=l([t,i]),n=_&&e,o=m.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),o&&Ae(m,r,e,u,s),s.polygonEnd()),m=g=v=null}};return N}}function Be(t){var e=0,n=ja/3,i=sn(t),o=i(e,n);return o.parallels=function(t){return arguments.length?i(e=t[0]*ja/180,n=t[1]*ja/180):[e/ja*180,n/ja*180]},o}function We(t,e){function n(t,e){var n=Math.sqrt(r-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var i=Math.sin(t),o=(i+Math.sin(e))/2,r=1+i*(2*o-i),a=Math.sqrt(r)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,et((r-(t*t+n*n)*o*o)/(2*o))]},n}function Ve(){function t(t,e){qs+=o*t-i*e,i=t,o=e}var e,n,i,o;Ws.point=function(r,a){Ws.point=t,e=i=r,n=o=a},Ws.lineEnd=function(){t(e,n)}}function Xe(t,e){Os>t&&(Os=t),t>Us&&(Us=t),zs>e&&(zs=e),e>Bs&&(Bs=e)}function Ke(){function t(t,e){a.push("M",t,",",e,r)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function o(){a.push("Z")}var r=Ye(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return r=Ye(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ze(t,e){Es+=t,Ms+=e,++Ns}function Je(){function t(t,i){var o=t-e,r=i-n,a=Math.sqrt(o*o+r*r);As+=a*(e+t)/2,$s+=a*(n+i)/2,Is+=a,Ze(e=t,n=i)}var e,n;Xs.point=function(i,o){Xs.point=t,Ze(e=i,n=o)}}function Qe(){Xs.point=Ze}function Ge(){function t(t,e){var n=t-i,r=e-o,a=Math.sqrt(n*n+r*r);As+=a*(i+t)/2,$s+=a*(o+e)/2,Is+=a,a=o*t-i*e,Ds+=a*(i+t),Rs+=a*(o+e),Ls+=3*a,Ze(i=t,o=e)}var e,n,i,o;Xs.point=function(r,a){Xs.point=t,Ze(e=i=r,n=o=a)},Xs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Fa)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function o(){s.point=e}function r(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:x};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return rn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,T.point=r,e.lineStart()}function r(n,i){var r=me([n,i]),a=t(n,i);o(b,w,y,x,C,k,b=a[0],w=a[1],y=n,x=r[0],C=r[1],k=r[2],s,e),e.point(b,w)}function a(){T.point=n,e.lineEnd()}function l(){i(),T.point=u,T.lineEnd=c}function u(t,e){r(d=t,f=e),h=b,p=w,m=x,g=C,v=k,T.point=r}function c(){o(b,w,y,x,C,k,h,p,d,m,g,v,s,e),T.lineEnd=a,a()}var d,f,h,p,m,g,v,y,b,w,x,C,k,T={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),T.lineStart=l},polygonEnd:function(){e.polygonEnd(),T.lineStart=i}};return T}function o(e,n,i,s,l,u,c,d,f,h,p,m,g,v){var y=c-e,b=d-n,w=y*y+b*b;if(w>4*r&&g--){var x=s+h,C=l+p,k=u+m,T=Math.sqrt(x*x+C*C+k*k),_=Math.asin(k/=T),S=ya(ya(k)-1)<La||ya(i-f)<La?(i+f)/2:Math.atan2(C,x),E=t(S,_),M=E[0],N=E[1],A=M-e,$=N-n,I=b*A-y*$;(I*I/w>r||ya((y*A+b*$)/w-.5)>.3||a>s*h+l*p+u*m)&&(o(e,n,i,s,l,u,M,N,S,x/=T,C/=T,k,g,v),v.point(M,N),o(M,N,S,x,C,k,c,d,f,h,p,m,g,v))}}var r=.5,a=Math.cos(30*Oa),s=16;return e.precision=function(t){return arguments.length?(s=(r=t*t)>0&&16,e):Math.sqrt(r)},e}function nn(t){var e=en(function(e,n){return t([e*za,n*za])});return function(t){return ln(e(t))}}function on(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Oa,t[1]*Oa),[t[0]*f+l,u-t[1]*f]}function n(t){return(t=s.invert((t[0]-l)/f,(u-t[1])/f))&&[t[0]*za,t[1]*za]}function i(){s=Me(a=dn(v,b,w),r);var t=r(m,g);return l=h-t[0]*f,u=p+t[1]*f,o()}function o(){return c&&(c.valid=!1,c=null),e}var r,a,s,l,u,c,d=en(function(t,e){return t=r(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,h=480,p=250,m=0,g=0,v=0,b=0,w=0,x=js,C=y,k=null,T=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(x(a,d(C(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,js):Oe((k=+t)*Oa),o()):k},e.clipExtent=function(t){return arguments.length?(T=t,C=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):y,o()):T},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],i()):[h,p]},e.center=function(t){return arguments.length?(m=t[0]%360*Oa,g=t[1]%360*Oa,i()):[m*za,g*za]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Oa,b=t[1]%360*Oa,w=t.length>2?t[2]%360*Oa:0,i()):[v*za,b*za,w*za]},la.rebind(e,d,"precision"),function(){return r=t.apply(this,arguments),e.invert=r.invert&&n,i()}}function ln(t){return rn(t,function(e,n){t.point(e*Oa,n*Oa)})}function un(t,e){return[t,e]}function cn(t,e){return[t>ja?t-Fa:-ja>t?t+Fa:t,e]}function dn(t,e,n){return t?e||n?Me(hn(t),pn(e,n)):hn(t):e||n?pn(e,n):cn}function fn(t){return function(e,n){return e+=t,[e>ja?e-Fa:-ja>e?e+Fa:e,n]}}function hn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*o;return[Math.atan2(l*r-c*a,s*i-u*o),et(c*r+l*a)]}var i=Math.cos(t),o=Math.sin(t),r=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r-l*a;return[Math.atan2(l*r+u*a,s*i+c*o),et(c*i-s*o)]},n}function mn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(o,r,a,s){var l=a*e;null!=o?(o=gn(n,o),r=gn(n,r),(a>0?r>o:o>r)&&(o+=a*Fa)):(o=t+a*Fa,r=t-.5*l);for(var u,c=o;a>0?c>r:r>c;c-=l)s.point((u=xe([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function gn(t,e){var n=me(e);n[0]-=t,we(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-La)%(2*Math.PI)}function vn(t,e,n){var i=la.range(t,e-La,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=la.range(t,e-La,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function bn(t){return t.source}function wn(t){return t.target}function xn(t,e,n,i){var o=Math.cos(e),r=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(rt(i-e)+o*a*rt(n-t))),h=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,i=n*l+e*c,o=n*u+e*d,a=n*r+e*s;return[Math.atan2(o,i)*za,Math.atan2(a,Math.sqrt(i*i+o*o))*za]}:function(){return[t*za,e*za]};return p.distance=f,p}function Cn(){function t(t,o){var r=Math.sin(o*=Oa),a=Math.cos(o),s=ya((t*=Oa)-e),l=Math.cos(s);Ks+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*r-n*a*l)*s),n*r+i*a*l),e=t,n=r,i=a}var e,n,i;Ys.point=function(o,r){e=o*Oa,n=Math.sin(r*=Oa),i=Math.cos(r),Ys.point=t},Ys.lineEnd=function(){Ys.point=Ys.lineEnd=x}}function kn(t,e){function n(e,n){var i=Math.cos(e),o=Math.cos(n),r=t(i*o);return[r*o*Math.sin(e),r*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),o=e(i),r=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*r,i*a),Math.asin(i&&n*r/i)]},n}function Tn(t,e){function n(t,e){a>0?-qa+La>e&&(e=-qa+La):e>qa-La&&(e=qa-La);var n=a/Math.pow(o(e),r);return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),o=function(t){return Math.tan(ja/4+t/2)},r=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(o(e)/o(t)),a=i*Math.pow(o(t),r)/r;return r?(n.invert=function(t,e){var n=a-e,i=Q(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(a/i,1/r))-qa]},n):Sn}function _n(t,e){function n(t,e){var n=r-e;return[n*Math.sin(o*t),r-n*Math.cos(o*t)]}var i=Math.cos(t),o=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),r=i/o+t;return ya(o)<La?un:(n.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/o,r-Q(o)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(ja/4+e/2))]}function En(t){var e,n=an(t),i=n.scale,o=n.translate,r=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=r.apply(n,arguments);if(a===n){if(e=null==t){var s=ja*i(),l=o();r([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Mn(t,e){return[Math.log(Math.tan(ja/4+e/2)),-t]}function Nn(t){return t[0]}function An(t){return t[1]}function $n(t){for(var e=t.length,n=[0,1],i=2,o=2;e>o;o++){for(;i>1&&G(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}function In(t,e){return t[0]-e[0]||t[1]-e[1]}function Dn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,i){var o=t[0],r=n[0],a=e[0]-o,s=i[0]-r,l=t[1],u=n[1],c=e[1]-l,d=i[1]-u,f=(s*(l-u)-d*(o-r))/(d*a-s*c);return[o+f*a,l+f*c]}function Ln(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){ii(this),this.edge=this.site=this.circle=null}function jn(t){var e=sl.pop()||new Pn;return e.site=t,e}function Fn(t){Kn(t),ol.remove(t),sl.push(t),ii(t)}function Hn(t){var e=t.circle,n=e.x,i=e.cy,o={x:n,y:i},r=t.P,a=t.N,s=[t];Fn(t);for(var l=r;l.circle&&ya(n-l.circle.x)<La&&ya(i-l.circle.cy)<La;)r=l.P,s.unshift(l),Fn(l),l=r;s.unshift(l),Kn(l);for(var u=a;u.circle&&ya(n-u.circle.x)<La&&ya(i-u.circle.cy)<La;)a=u.N,s.push(u),Fn(u),u=a;s.push(u),Kn(u);var c,d=s.length;for(c=1;d>c;++c)u=s[c],l=s[c-1],ti(u.edge,l.site,u.site,o);l=s[0],u=s[d-1],u.edge=Qn(l.site,u.site,null,o),Xn(l),Xn(u)}function qn(t){for(var e,n,i,o,r=t.x,a=t.y,s=ol._;s;)if((i=On(s,a)-r)>La)s=s.L;else{if(!((o=r-zn(s,a))>La)){i>-La?(e=s.P,n=s):o>-La?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=jn(t);if(ol.insert(e,l),e||n){if(e===n)return Kn(e),n=jn(e.site),ol.insert(l,n),l.edge=n.edge=Qn(e.site,l.site),Xn(e),void Xn(n);if(!n)return void(l.edge=Qn(e.site,l.site));Kn(e),Kn(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,m=p.x-c,g=p.y-d,v=2*(f*g-h*m),y=f*f+h*h,b=m*m+g*g,w={x:(g*y-h*b)/v+c,y:(f*b-m*y)/v+d};ti(n.edge,u,p,w),l.edge=Qn(u,t,null,w),n.edge=Qn(t,p,null,w),Xn(e),Xn(n)}}function On(t,e){var n=t.site,i=n.x,o=n.y,r=o-e;if(!r)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-i,d=1/r-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+o-r/2)))/d+i:(i+s)/2}function zn(t,e){var n=t.N;if(n)return On(n,e);var i=t.site;return i.y===e?i.x:1/0}function Un(t){this.site=t,this.edges=[]}function Bn(t){for(var e,n,i,o,r,a,s,l,u,c,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],m=il,g=m.length;g--;)if((r=m[g])&&r.prepare())for(s=r.edges,l=s.length,a=0;l>a;)c=s[a].end(),i=c.x,o=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(ya(i-e)>La||ya(o-n)>La)&&(s.splice(a,0,new ei(Gn(r.site,c,ya(i-d)<La&&p-o>La?{x:d,y:ya(e-d)<La?n:p}:ya(o-p)<La&&f-i>La?{x:ya(n-p)<La?e:f,y:p}:ya(i-f)<La&&o-h>La?{x:f,y:ya(e-f)<La?n:h}:ya(o-h)<La&&i-d>La?{x:ya(n-h)<La?e:d,y:h}:null),r.site,null)),++l)}function Wn(t,e){return e.angle-t.angle}function Vn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var a=o.x,s=o.y,l=i.x-a,u=i.y-s,c=r.x-a,d=r.y-s,f=2*(l*d-u*c);if(!(f>=-Pa)){var h=l*l+u*u,p=c*c+d*d,m=(d*h-u*p)/f,g=(l*p-c*h)/f,d=g+s,v=ll.pop()||new Vn;v.arc=t,v.site=o,v.x=m+a,v.y=d+Math.sqrt(m*m+g*g),v.cy=d,t.circle=v;for(var y=null,b=al._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}al.insert(y,v),y||(rl=v)}}}}function Kn(t){var e=t.circle;e&&(e.P||(rl=e.N),al.remove(e),ll.push(e),ii(e),t.circle=null)}function Yn(t){for(var e,n=nl,i=ze(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!Zn(e,t)||!i(e)||ya(e.a.x-e.b.x)<La&&ya(e.a.y-e.b.y)<La)&&(e.a=e.b=null,n.splice(o,1))}function Zn(t,e){var n=t.b;if(n)return!0;var i,o,r=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,m=d.y,g=(f+p)/2,v=(h+m)/2;if(m===h){if(a>g||g>=s)return;if(f>p){if(r){if(r.y>=u)return}else r={x:g,y:l};n={x:g,y:u}}else{if(r){if(r.y<l)return}else r={x:g,y:u};n={x:g,y:l}}}else if(i=(f-p)/(m-h),o=v-i*g,-1>i||i>1)if(f>p){if(r){if(r.y>=u)return}else r={x:(l-o)/i,y:l};n={x:(u-o)/i,y:u}}else{if(r){if(r.y<l)return}else r={x:(u-o)/i,y:u};n={x:(l-o)/i,y:l}}else if(m>h){if(r){if(r.x>=s)return}else r={x:a,y:i*a+o};n={x:s,y:i*s+o}}else{if(r){if(r.x<a)return}else r={x:s,y:i*s+o};n={x:a,y:i*a+o}}return t.a=r,t.b=n,!0}function Jn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qn(t,e,n,i){var o=new Jn(t,e);return nl.push(o),n&&ti(o,t,e,n),i&&ti(o,e,t,i),il[t.i].edges.push(new ei(o,t,e)),il[e.i].edges.push(new ei(o,e,t)),o}function Gn(t,e,n){var i=new Jn(t,null);return i.a=e,i.b=n,nl.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-i.x,i.y-o.y):Math.atan2(i.x-o.x,o.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function oi(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ri(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,o,r=t.sort(li).pop();for(nl=[],il=new Array(t.length),ol=new ni,al=new ni;;)if(o=rl,r&&(!o||r.y<o.y||r.y===o.y&&r.x<o.x))(r.x!==n||r.y!==i)&&(il[r.i]=new Un(r),qn(r),n=r.x,i=r.y),r=t.pop();else{if(!o)break;Hn(o.arc)}e&&(Yn(e),Bn(e));var a={cells:il,edges:nl};return ol=al=nl=il=null,a}function li(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function di(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hi(t,e,n,i,o,r){if(!t(e,n,i,o,r)){var a=.5*(n+o),s=.5*(i+r),l=e.nodes;l[0]&&hi(t,l[0],n,i,a,s),l[1]&&hi(t,l[1],a,i,o,s),l[2]&&hi(t,l[2],n,s,a,r),l[3]&&hi(t,l[3],a,s,o,r)}}function pi(t,e,n,i,o,r,a){var s,l=1/0;return function t(u,c,d,f,h){if(!(c>r||d>a||i>f||o>h)){if(p=u.point){var p,m=e-u.x,g=n-u.y,v=m*m+g*g;if(l>v){var y=Math.sqrt(l=v);i=e-y,o=n-y,r=e+y,a=n+y,s=p}}for(var b=u.nodes,w=.5*(c+f),x=.5*(d+h),C=e>=w,k=n>=x,T=k<<1|C,_=T+4;_>T;++T)if(u=b[3&T])switch(3&T){case 0:t(u,c,d,w,x);break;case 1:t(u,w,d,f,x);break;case 2:t(u,c,x,w,h);break;case 3:t(u,w,x,f,h)}}}(t,i,o,r,a),s}function mi(t,e){t=la.rgb(t),e=la.rgb(e);var n=t.r,i=t.g,o=t.b,r=e.r-n,a=e.g-i,s=e.b-o;return function(t){return"#"+wt(Math.round(n+r*t))+wt(Math.round(i+a*t))+wt(Math.round(o+s*t))}}function gi(t,e){var n,i={},o={};for(n in t)n in e?i[n]=bi(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in i)o[n]=i[n](t);return o}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,o,r=cl.lastIndex=dl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=cl.exec(t))&&(i=dl.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vi(n,i)})),r=dl.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function bi(t,e){for(var n,i=la.interpolators.length;--i>=0&&!(n=la.interpolators[i](t,e)););return n}function wi(t,e){var n,i=[],o=[],r=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(bi(t[n],e[n]));for(;r>n;++n)o[n]=t[n];for(;a>n;++n)o[n]=e[n];return function(t){for(n=0;s>n;++n)o[n]=i[n](t);return o}}function xi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ci(t){return function(e){return 1-t(1-e)}}function ki(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ti(t){return t*t}function _i(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ei(t){return function(e){return Math.pow(e,t)}}function Mi(t){return 1-Math.cos(t*qa)}function Ni(t){return Math.pow(2,10*(t-1))}function Ai(t){return 1-Math.sqrt(1-t*t)}function $i(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fa*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Fa/e)}}function Ii(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Di(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=la.hcl(t),e=la.hcl(e);var n=t.h,i=t.c,o=t.l,r=e.h-n,a=e.c-i,s=e.l-o;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return ct(n+r*t,i+a*t,o+s*t)+""}}function Li(t,e){t=la.hsl(t),e=la.hsl(e);var n=t.h,i=t.s,o=t.l,r=e.h-n,a=e.s-i,s=e.l-o;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(r)?(r=0,n=isNaN(n)?e.h:n):r>180?r-=360:-180>r&&(r+=360),function(t){return lt(n+r*t,i+a*t,o+s*t)+""}}function Pi(t,e){t=la.lab(t),e=la.lab(e);var n=t.l,i=t.a,o=t.b,r=e.l-n,a=e.a-i,s=e.b-o;return function(t){return ft(n+r*t,i+a*t,o+s*t)+""}}function ji(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Fi(t){var e=[t.a,t.b],n=[t.c,t.d],i=qi(e),o=Hi(e,n),r=qi(Oi(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*za,this.translate=[t.e,t.f],this.scale=[i,r],this.skew=r?Math.atan2(o,r)*za:0}function Hi(t,e){return t[0]*e[0]+t[1]*e[1]}function qi(t){var e=Math.sqrt(Hi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Oi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function zi(t){return t.length?t.pop()+",":""}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");i.push({i:o-4,x:vi(t[0],e[0])},{i:o-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Bi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(zi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(zi(n)+"rotate("+e+")")}function Wi(t,e,n,i){t!==e?i.push({i:n.push(zi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(zi(n)+"skewX("+e+")")}function Vi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(zi(n)+"scale(",null,",",null,")");i.push({i:o-4,x:vi(t[0],e[0])},{i:o-2,x:vi(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(zi(n)+"scale("+e+")")}function Xi(t,e){var n=[],i=[];return t=la.transform(t),e=la.transform(e),Ui(t.translate,e.translate,n,i),Bi(t.rotate,e.rotate,n,i),Wi(t.skew,e.skew,n,i),Vi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,o=-1,r=i.length;++o<r;)n[(e=i[o]).i]=e.x(t);return n.join("")}}function Ki(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Yi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zi(t){for(var e=t.source,n=t.target,i=Qi(e,n),o=[e];e!==i;)e=e.parent,o.push(e);for(var r=o.length;n!==i;)o.splice(r,0,n),n=n.parent;return o}function Ji(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Qi(t,e){if(t===e)return t;for(var n=Ji(t),i=Ji(e),o=n.pop(),r=i.pop(),a=null;o===r;)a=o,o=n.pop(),r=i.pop();return a}function Gi(t){t.fixed|=2}function to(t){t.fixed&=-7}function eo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function no(t){t.fixed&=-5}function io(t,e,n){var i=0,o=0;if(t.charge=0,!t.leaf)for(var r,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(r=a[l])&&(io(r,e,n),t.charge+=r.charge,i+=r.charge*r.cx,o+=r.charge*r.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,o+=u*t.point.y}t.cx=i/t.charge,t.cy=o/t.charge}function oo(t,e){return la.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=co,t}function ro(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(i=o.length))for(var i,o;--i>=0;)n.push(o[i])}function ao(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(r=t.children)&&(o=r.length))for(var o,r,a=-1;++a<o;)n.push(r[a]);for(;null!=(t=i.pop());)e(t)}function so(t){return t.children}function lo(t){return t.value}function uo(t,e){return e.value-t.value}function co(t){return la.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function fo(t){return t.x}function ho(t){return t.y}function po(t,e,n){t.y0=e,t.y=n}function mo(t){return la.range(t.length)}function go(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function vo(t){for(var e,n=1,i=0,o=t[0][1],r=t.length;r>n;++n)(e=t[n][1])>o&&(i=n,o=e);return i}function yo(t){return t.reduce(bo,0)}function bo(t,e){return t+e[1]}function wo(t,e){return xo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xo(t,e){for(var n=-1,i=+t[0],o=(t[1]-i)/e,r=[];++n<=e;)r[n]=o*n+i;return r}function Co(t){return[la.min(t),la.max(t)]}function ko(t,e){return t.value-e.value}function To(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function _o(t,e){t._pack_next=e,e._pack_prev=t}function So(t,e){var n=e.x-t.x,i=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+i*i}function Eo(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,i,o,r,a,s,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(Mo),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(o=n[1],o.x=o.r,o.y=0,e(o),u>2))for(r=n[2],$o(i,o,r),e(r),To(i,r),i._pack_prev=r,To(r,o),o=i._pack_next,a=3;u>a;a++){$o(i,o,r=n[a]);var p=0,m=1,g=1;for(s=o._pack_next;s!==o;s=s._pack_next,m++)if(So(s,r)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!So(l,r);l=l._pack_prev,g++);p?(g>m||m==g&&o.r<i.r?_o(i,o=s):_o(i=l,o),a--):(To(i,r),o=r,e(r))}var v=(c+d)/2,y=(f+h)/2,b=0;for(a=0;u>a;a++)r=n[a],r.x-=v,r.y-=y,b=Math.max(b,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=b,n.forEach(No)}}function Mo(t){t._pack_next=t._pack_prev=t}function No(t){delete t._pack_next,delete t._pack_prev}function Ao(t,e,n,i){var o=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,o)for(var r=-1,a=o.length;++r<a;)Ao(o[r],e,n,i)}function $o(t,e,n){var i=t.r+n.r,o=e.x-t.x,r=e.y-t.y;if(i&&(o||r)){var a=e.r+n.r,s=o*o+r*r;a*=a,i*=i;var l=.5+(i-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+l*o+u*r,n.y=t.y+l*r-u*o}else n.x=t.x+i,n.y=t.y}function Io(t,e){return t.parent==e.parent?1:2}function Do(t){var e=t.children;return e.length?e[0]:t.t}function Ro(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Lo(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Po(t){for(var e,n=0,i=0,o=t.children,r=o.length;--r>=0;)e=o[r],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function jo(t,e,n){return t.a.parent===e.parent?t.a:n}function Fo(t){return 1+la.max(t,function(t){return t.y})}function Ho(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function qo(t){var e=t.children;return e&&e.length?qo(e[0]):t}function Oo(t){var e,n=t.children;return n&&(e=n.length)?Oo(n[e-1]):t}function zo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Uo(t,e){var n=t.x+e[3],i=t.y+e[0],o=t.dx-e[1]-e[3],r=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>r&&(i+=r/2,r=0),{x:n,y:i,dx:o,dy:r}}function Bo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Wo(t){return t.rangeExtent?t.rangeExtent():Bo(t.range())}function Vo(t,e,n,i){var o=n(t[0],t[1]),r=i(e[0],e[1]);return function(t){return r(o(t))}}function Xo(t,e){var n,i=0,o=t.length-1,r=t[i],a=t[o];return r>a&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t}function Ko(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Cl}function Yo(t,e,n,i){var o=[],r=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),r.push(i(e[a-1],e[a]));return function(e){var n=la.bisect(t,e,1,s)-1;return r[n](o[n](e))}}function Zo(t,e,n,i){function o(){var o=Math.min(t.length,e.length)>2?Yo:Vo,l=i?Yi:Ki;return a=o(t,e,l,n),s=o(e,t,l,bi),r}function r(t){return a(t)}var a,s;return r.invert=function(t){return s(t)},r.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},r.range=function(t){return arguments.length?(e=t,o()):e},r.rangeRound=function(t){return r.range(t).interpolate(ji)},r.clamp=function(t){return arguments.length?(i=t,o()):i},r.interpolate=function(t){return arguments.length?(n=t,o()):n},r.ticks=function(e){return tr(t,e)},r.tickFormat=function(e,n){return er(t,e,n)},r.nice=function(e){return Qo(t,e),o()},r.copy=function(){return Zo(t,e,n,i)},o()}function Jo(t,e){return la.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qo(t,e){return Xo(t,Ko(Go(t,e)[2])),Xo(t,Ko(Go(t,e)[2])),t}function Go(t,e){null==e&&(e=10);var n=Bo(t),i=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),r=e/i*o;return.15>=r?o*=10:.35>=r?o*=5:.75>=r&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function tr(t,e){return la.range.apply(la,Go(t,e))}function er(t,e,n){var i=Go(t,e);if(n){var o=cs.exec(n);if(o.shift(),"s"===o[8]){var r=la.formatPrefix(Math.max(ya(i[0]),ya(i[1])));return o[7]||(o[7]="."+nr(r.scale(i[2]))),o[8]="f",n=la.format(o.join("")),function(t){return n(r.scale(t))+r.symbol}}o[7]||(o[7]="."+ir(o[8],i)),n=o.join("")}else n=",."+nr(i[2])+"f";return la.format(n)}function nr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ir(t,e){var n=nr(e[2]);return t in kl?Math.abs(n-nr(Math.max(ya(e[0]),ya(e[1]))))+ +("e"!==t):n-2*("%"===t)}function or(t,e,n,i){function o(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function r(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return r(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(o)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(o)),a):e},a.nice=function(){var e=Xo(i.map(o),n?Math:_l);return t.domain(e),i=e.map(r),a},a.ticks=function(){var t=Bo(i),a=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)a.push(r(u)*f);a.push(r(u))}else for(a.push(r(u));u++<c;)for(var f=d-1;f>0;f--)a.push(r(u)*f);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Tl;arguments.length<2?n=Tl:"function"!=typeof n&&(n=la.format(n));var i=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/r(Math.round(o(t)));return e-.5>a*e&&(a*=e),i>=a?n(t):""}},a.copy=function(){return or(t.copy(),e,n,i)},Jo(a,t)}function rr(t,e,n){function i(e){return t(o(e))}var o=ar(e),r=ar(1/e);return i.invert=function(e){return r(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),i):n},i.ticks=function(t){return tr(n,t)},i.tickFormat=function(t,e){return er(n,t,e)},i.nice=function(t){return i.domain(Qo(n,t))},i.exponent=function(a){return arguments.length?(o=ar(e=a),r=ar(1/e),t.domain(n.map(o)),i):e},i.copy=function(){return rr(t.copy(),e,n)},Jo(i,t)}function ar(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function sr(t,e){function n(n){return r[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%r.length]}function i(e,n){return la.range(t.length).map(function(t){return e+n*t})}var o,r,a;return n.domain=function(i){if(!arguments.length)return t;t=[],o=new u;for(var r,a=-1,s=i.length;++a<s;)o.has(r=i[a])||o.set(r,t.push(r));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(r=t,a=0,e={t:"range",a:arguments},n):r},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s)
;return r=i(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return r=i(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],d=o[1-u],f=(d-c)/(t.length-s+2*l);return r=i(c+f*l,f),u&&r.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],d=o[1-u],f=Math.floor((d-c)/(t.length-s+2*l));return r=i(c+Math.round((d-c-(t.length-s)*f)/2),f),u&&r.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Bo(e.a[0])},n.copy=function(){return sr(t,e)},n.domain(t)}function lr(t,e){function r(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=la.quantile(t,n/i);return a}function a(t){return isNaN(t=+t)?void 0:e[la.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(o).sort(n),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return lr(t,e)},r()}function ur(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),a=n.length-1,i}var r,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},i.range=function(t){return arguments.length?(n=t,o()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/r+t,[e,e+1/r]},i.copy=function(){return ur(t,e,n)},o()}function cr(t,e){function n(n){return n>=n?e[la.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return cr(t,e)},n}function dr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return tr(t,e)},e.tickFormat=function(e,n){return er(t,e,n)},e.copy=function(){return dr(t)},e}function fr(){return 0}function hr(t){return t.innerRadius}function pr(t){return t.outerRadius}function mr(t){return t.startAngle}function gr(t){return t.endAngle}function vr(t){return t&&t.padAngle}function yr(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function br(t,e,n,i,o){var r=t[0]-e[0],a=t[1]-e[1],s=(o?i:-i)/Math.sqrt(r*r+a*a),l=s*a,u=-s*r,c=t[0]+l,d=t[1]+u,f=e[0]+l,h=e[1]+u,p=(c+f)/2,m=(d+h)/2,g=f-c,v=h-d,y=g*g+v*v,b=n-i,w=c*h-f*d,x=(0>v?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),C=(w*v-g*x)/y,k=(-w*g-v*x)/y,T=(w*v+g*x)/y,_=(-w*g+v*x)/y,S=C-p,E=k-m,M=T-p,N=_-m;return S*S+E*E>M*M+N*N&&(C=T,k=_),[[C-l,k-u],[C*n/b,k*n/b]]}function wr(t){function e(e){function a(){u.push("M",r(t(c),s))}for(var l,u=[],c=[],d=-1,f=e.length,h=St(n),p=St(i);++d<f;)o.call(this,l=e[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Nn,i=An,o=Ne,r=xr,a=r.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?r=t:(r=$l.get(t)||xr).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function xr(t){return t.length>1?t.join("L"):t+"Z"}function Cr(t){return t.join("L")+"Z"}function kr(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&o.push("H",i[0]),o.join("")}function Tr(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("V",(i=t[e])[1],"H",i[0]);return o.join("")}function _r(t){for(var e=0,n=t.length,i=t[0],o=[i[0],",",i[1]];++e<n;)o.push("H",(i=t[e])[0],"V",i[1]);return o.join("")}function Sr(t,e){return t.length<4?xr(t):t[1]+Nr(t.slice(1,-1),Ar(t,e))}function Er(t,e){return t.length<3?Cr(t):t[0]+Nr((t.push(t[0]),t),Ar([t[t.length-2]].concat(t,[t[1]]),e))}function Mr(t,e){return t.length<3?xr(t):t[0]+Nr(t,Ar(t,e))}function Nr(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xr(t);var n=t.length!=e.length,i="",o=t[0],r=t[1],a=e[0],s=a,l=1;if(n&&(i+="Q"+(r[0]-2*a[0]/3)+","+(r[1]-2*a[1]/3)+","+r[0]+","+r[1],o=t[1],l=2),e.length>1){s=e[1],r=t[l],l++,i+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1];for(var u=2;u<e.length;u++,l++)r=t[l],s=e[u],i+="S"+(r[0]-s[0])+","+(r[1]-s[1])+","+r[0]+","+r[1]}if(n){var c=t[l];i+="Q"+(r[0]+2*s[0]/3)+","+(r[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ar(t,e){for(var n,i=[],o=(1-e)/2,r=t[0],a=t[1],s=1,l=t.length;++s<l;)n=r,r=a,a=t[s],i.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return i}function $r(t){if(t.length<3)return xr(t);var e=1,n=t.length,i=t[0],o=i[0],r=i[1],a=[o,o,o,(i=t[1])[0]],s=[r,r,r,i[1]],l=[o,",",r,"L",Lr(Rl,a),",",Lr(Rl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Pr(l,a,s);return t.pop(),l.push("L",i),l.join("")}function Ir(t){if(t.length<4)return xr(t);for(var e,n=[],i=-1,o=t.length,r=[0],a=[0];++i<3;)e=t[i],r.push(e[0]),a.push(e[1]);for(n.push(Lr(Rl,r)+","+Lr(Rl,a)),--i;++i<o;)e=t[i],r.shift(),r.push(e[0]),a.shift(),a.push(e[1]),Pr(n,r,a);return n.join("")}function Dr(t){for(var e,n,i=-1,o=t.length,r=o+4,a=[],s=[];++i<4;)n=t[i%o],a.push(n[0]),s.push(n[1]);for(e=[Lr(Rl,a),",",Lr(Rl,s)],--i;++i<r;)n=t[i%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Pr(e,a,s);return e.join("")}function Rr(t,e){var n=t.length-1;if(n)for(var i,o,r=t[0][0],a=t[0][1],s=t[n][0]-r,l=t[n][1]-a,u=-1;++u<=n;)i=t[u],o=u/n,i[0]=e*i[0]+(1-e)*(r+o*s),i[1]=e*i[1]+(1-e)*(a+o*l);return $r(t)}function Lr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Pr(t,e,n){t.push("C",Lr(Il,e),",",Lr(Il,n),",",Lr(Dl,e),",",Lr(Dl,n),",",Lr(Rl,e),",",Lr(Rl,n))}function jr(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fr(t){for(var e=0,n=t.length-1,i=[],o=t[0],r=t[1],a=i[0]=jr(o,r);++e<n;)i[e]=(a+(a=jr(o=r,r=t[e+1])))/2;return i[e]=a,i}function Hr(t){for(var e,n,i,o,r=[],a=Fr(t),s=-1,l=t.length-1;++s<l;)e=jr(t[s],t[s+1]),ya(e)<La?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,(o=n*n+i*i)>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*i));for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),r.push([o||0,a[s]*o||0]);return r}function qr(t){return t.length<3?xr(t):t[0]+Nr(t,Hr(t))}function Or(t){for(var e,n,i,o=-1,r=t.length;++o<r;)e=t[o],n=e[0],i=e[1]-qa,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function zr(t){function e(e){function l(){m.push("M",s(t(v),d),c,u(t(g.reverse()),d),"Z")}for(var f,h,p,m=[],g=[],v=[],y=-1,b=e.length,w=St(n),x=St(o),C=n===i?function(){return h}:St(i),k=o===r?function(){return p}:St(r);++y<b;)a.call(this,f=e[y],y)?(g.push([h=+w.call(this,f,y),p=+x.call(this,f,y)]),v.push([+C.call(this,f,y),+k.call(this,f,y)])):g.length&&(l(),g=[],v=[]);return g.length&&l(),m.length?m.join(""):null}var n=Nn,i=Nn,o=0,r=An,a=Ne,s=xr,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=r=t,e):r},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=$l.get(t)||xr).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Ur(t){return t.radius}function Br(t){return[t.x,t.y]}function Wr(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-qa;return[n*Math.cos(i),n*Math.sin(i)]}}function Vr(){return 64}function Xr(){return"circle"}function Kr(t){var e=Math.sqrt(t/ja);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Yr(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Zr(t,e,n){return ka(t,Ol),t.namespace=e,t.id=n,t}function Jr(t,e,n,i){var o=t.id,r=t.namespace;return U(t,"function"==typeof n?function(t,a,s){t[r][o].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[r][o].tween.set(e,n)}))}function Qr(t){return null==t&&(t=""),function(){this.textContent=t}}function Gr(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,e,n,i,o){function r(t){var e=m.delay;return c.t=e+l,t>=e?a(t-e):void(c.c=a)}function a(n){var o=p.active,r=p[o];r&&(r.timer.c=null,r.timer.t=NaN,--p.count,delete p[o],r.event&&r.event.interrupt.call(t,t.__data__,r.index));for(var a in p)if(i>+a){var u=p[a];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[a]}c.c=s,$t(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=i,m.event&&m.event.start.call(t,t.__data__,e),h=[],m.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&h.push(i)}),f=m.ease,d=m.duration}function s(o){for(var r=o/d,a=f(r),s=h.length;s>0;)h[--s].call(t,a);return r>=1?(m.event&&m.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var l,c,d,f,h,p=t[n]||(t[n]={active:0,count:0}),m=p[i];m||(l=o.time,c=$t(r,0,l),m=p[i]={tween:new u,time:l,timer:c,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++p.count)}function ea(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function na(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function ia(t){return t.toISOString()}function oa(t,e,n){function i(e){return t(e)}function o(t,n){var i=t[1]-t[0],o=i/n,r=la.bisect(Zl,o);return r==Zl.length?[e.year,Go(t.map(function(t){return t/31536e6}),n)[2]]:r?e[o/Zl[r-1]<Zl[r]/o?r-1:r]:[Gl,Go(t,n)[2]]}return i.invert=function(e){return ra(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(ra)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ra(+n+1),e).length}var r=i.domain(),a=Bo(r),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),i.domain(Xo(r,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ra(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ra(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Bo(i.domain()),r=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],ra(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return oa(t.copy(),e,n)},Jo(i,t)}function ra(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=da.createRange();return e.selectNode(da.body),e.createContextualFragment(t.responseText)}var la={version:"3.5.16"},ua=[].slice,ca=function(t){return ua.call(t)},da=this.document;if(da)try{ca(da.documentElement.childNodes)[0].nodeType}catch(t){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),da)try{da.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var fa=this.Element.prototype,ha=fa.setAttribute,pa=fa.setAttributeNS,ma=this.CSSStyleDeclaration.prototype,ga=ma.setProperty;fa.setAttribute=function(t,e){ha.call(this,t,e+"")},fa.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ma.setProperty=function(t,e,n){ga.call(this,t,e+"",n)}}la.ascending=n,la.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},la.min=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&n>i&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&n>i&&(n=i)}return n},la.max=function(t,e){var n,i,o=-1,r=t.length;if(1===arguments.length){for(;++o<r;)if(null!=(i=t[o])&&i>=i){n=i;break}for(;++o<r;)null!=(i=t[o])&&i>n&&(n=i)}else{for(;++o<r;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=i;break}for(;++o<r;)null!=(i=e.call(t,t[o],o))&&i>n&&(n=i)}return n},la.extent=function(t,e){var n,i,o,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=o=i;break}for(;++r<a;)null!=(i=t[r])&&(n>i&&(n=i),i>o&&(o=i))}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=o=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&(n>i&&(n=i),i>o&&(o=i))}return[n,o]},la.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)o(n=+t[a])&&(i+=n);else for(;++a<r;)o(n=+e.call(t,t[a],a))&&(i+=n);return i},la.mean=function(t,e){var n,r=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)o(n=i(t[s]))?r+=n:--l;else for(;++s<a;)o(n=i(e.call(t,t[s],s)))?r+=n:--l;return l?r/l:void 0},la.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),o=+t[i-1],r=n-i;return r?o+r*(t[i]-o):o},la.median=function(t,e){var r,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)o(r=i(t[l]))&&a.push(r);else for(;++l<s;)o(r=i(e.call(t,t[l],l)))&&a.push(r);return a.length?la.quantile(a.sort(n),.5):void 0},la.variance=function(t,e){var n,r,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)o(n=i(t[u]))&&(r=n-s,s+=r/++c,l+=r*(n-s));else for(;++u<a;)o(n=i(e.call(t,t[u],u)))&&(r=n-s,s+=r/++c,l+=r*(n-s));return c>1?l/(c-1):void 0},la.deviation=function(){var t=la.variance.apply(this,arguments);return t?Math.sqrt(t):t};var va=r(n);la.bisectLeft=va.left,la.bisect=la.bisectRight=va.right,la.bisector=function(t){return r(1===t.length?function(e,i){return n(t(e),i)}:t)},la.shuffle=function(t,e,n){(r=arguments.length)<3&&(n=t.length,2>r&&(e=0));for(var i,o,r=n-e;r;)o=Math.random()*r--|0,i=t[r+e],t[r+e]=t[o+e],t[o+e]=i;return t},la.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},la.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],o=new Array(0>n?0:n);n>e;)o[e]=[i,i=t[++e]];return o},la.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=la.min(t,a),i=new Array(n);++e<n;)for(var o,r=-1,s=i[e]=new Array(o);++r<o;)s[r]=t[r][e];return i},la.zip=function(){return la.transpose(arguments)},la.keys=function(t){var e=[];for(var n in t)e.push(n);return e},la.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},la.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},la.merge=function(t){for(var e,n,i,o=t.length,r=-1,a=0;++r<o;)a+=t[r].length;for(n=new Array(a);--o>=0;)for(i=t[o],e=i.length;--e>=0;)n[--a]=i[e];return n};var ya=Math.abs;la.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,o=[],r=s(ya(n)),a=-1;if(t*=r,e*=r,0>(n*=r))for(;(i=t+n*++a)>e;)o.push(i/r);else for(;(i=t+n*++a)<e;)o.push(i/r);return o},la.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(1===arguments.length)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e.call(t,i=t[o],o),i)}else for(var a in t)n.set(a,t[a]);return n};var ba="__proto__",wa="\0";l(u,{has:f,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:h,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),la.nest=function(){function t(e,a,s){if(s>=r.length)return i?i.call(o,a):n?a.sort(n):a;for(var l,c,d,f,h=-1,p=a.length,m=r[s++],g=new u;++h<p;)(f=g.get(l=m(c=a[h])))?f.push(c):g.set(l,[c]);return e?(c=e(),d=function(n,i){c.set(n,t(e,i,s))}):(c={},d=function(n,i){c[n]=t(e,i,s)}),g.forEach(d),c}function e(t,n){if(n>=r.length)return t;var i=[],o=a[n++];return t.forEach(function(t,o){i.push({key:t,values:e(o,n)})}),o?i.sort(function(t,e){return o(t.key,e.key)}):i}var n,i,o={},r=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(la.map,n,0),0)},o.key=function(t){return r.push(t),o},o.sortKeys=function(t){return a[r.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return i=t,o},o},la.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},l(v,{has:f,add:function(t){return this._[c(t+="")]=!0,t},remove:h,values:p,size:m,empty:g,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),la.behavior={},la.rebind=function(t,e){for(var n,i=1,o=arguments.length;++i<o;)t[n=arguments[i]]=b(t,e,e[n]);return t};var xa=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},la.event=null,la.requote=function(t){return t.replace(Ca,"\\$&")};var Ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ka={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ta=function(t,e){return e.querySelector(t)},_a=function(t,e){return e.querySelectorAll(t)},Sa=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(Sa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ta=function(t,e){return Sizzle(t,e)[0]||null},_a=Sizzle,Sa=Sizzle.matchesSelector),la.selection=function(){return la.select(da.documentElement)};var Ea=la.selection.prototype=[];Ea.select=function(t){var e,n,i,o,r=[];t=M(t);for(var a=-1,s=this.length;++a<s;){r.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var l=-1,u=i.length;++l<u;)(o=i[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return E(r)},Ea.selectAll=function(t){var e,n,i=[];t=N(t);for(var o=-1,r=this.length;++o<r;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,o))),e.parentNode=n);return E(i)};var Ma="http://www.w3.org/1999/xhtml",Na={svg:"http://www.w3.org/2000/svg",xhtml:Ma,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Na,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Na.hasOwnProperty(n)?{space:Na[n],local:t}:t}},Ea.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=la.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},Ea.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=D(t)).length,o=-1;if(e=n.classList){for(;++o<i;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<i;)if(!I(t[o]).test(e))return!1;return!0}for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Ea.style=function(t,n,i){var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(i in t)this.each(P(i,t[i],n));return this}if(2>o){var r=this.node();return e(r).getComputedStyle(r,null).getPropertyValue(t)}i=""}return this.each(P(t,n,i))},Ea.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Ea.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ea.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ea.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ea.insert=function(t,e){return t=F(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ea.remove=function(){return this.each(H)},Ea.data=function(t,e){function n(t,n){var i,o,r,a=t.length,d=n.length,f=Math.min(a,d),h=new Array(d),p=new Array(d),m=new Array(a);if(e){var g,v=new u,y=new Array(a);for(i=-1;++i<a;)(o=t[i])&&(v.has(g=e.call(o,o.__data__,i))?m[i]=o:v.set(g,o),y[i]=g);for(i=-1;++i<d;)(o=v.get(g=e.call(n,r=n[i],i)))?!0!==o&&(h[i]=o,o.__data__=r):p[i]=q(r),v.set(g,!0);for(i=-1;++i<a;)i in y&&!0!==v.get(y[i])&&(m[i]=t[i])}else{for(i=-1;++i<f;)o=t[i],r=n[i],o?(o.__data__=r,h[i]=o):p[i]=q(r);for(;d>i;++i)p[i]=q(n[i]);for(;a>i;++i)m[i]=t[i]}p.update=h,p.parentNode=h.parentNode=m.parentNode=t.parentNode,s.push(p),l.push(h),c.push(m)}var i,o,r=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++r<a;)(o=i[r])&&(t[r]=o.__data__);return t}var s=B([]),l=E([]),c=E([]);if("function"==typeof t)for(;++r<a;)n(i=this[r],t.call(i,i.parentNode.__data__,r));else for(;++r<a;)n(i=this[r],t);return l.enter=function(){return s},l.exit=function(){return c},l},Ea.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ea.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=O(t));for(var r=0,a=this.length;a>r;r++){o.push(e=[]),e.parentNode=(n=this[r]).parentNode;for(var s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,r)&&e.push(i)}return E(o)},Ea.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],o=i.length-1,r=i[o];--o>=0;)(n=i[o])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},Ea.sort=function(t){t=z.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ea.each=function(t){return U(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Ea.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Ea.empty=function(){return!this.node()},Ea.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,o=n.length;o>i;i++){var r=n[i];if(r)return r}return null},Ea.size=function(){var t=0;return U(this,function(){++t}),t};var Aa=[];la.selection.enter=B,la.selection.enter.prototype=Aa,Aa.append=Ea.append,Aa.empty=Ea.empty,Aa.node=Ea.node,Aa.call=Ea.call,Aa.size=Ea.size,Aa.select=function(t){for(var e,n,i,o,r,a=[],s=-1,l=this.length;++s<l;){i=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(r=o[u])?(e.push(i[u]=n=t.call(o.parentNode,r.__data__,u,s)),n.__data__=r.__data__):e.push(null)}return E(a)},Aa.insert=function(t,e){return arguments.length<2&&(e=W(this)),Ea.insert.call(this,t,e)},la.select=function(e){var n;return"string"==typeof e?(n=[Ta(e,da)],n.parentNode=da.documentElement):(n=[e],n.parentNode=t(e)),E([n])},la.selectAll=function(t){var e;return"string"==typeof t?(e=ca(_a(t,da)),e.parentNode=da.documentElement):(e=ca(t),e.parentNode=null),E([e])},Ea.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var $a=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});da&&$a.forEach(function(t){"on"+t in da&&$a.remove(t)});var Ia,Da=0;la.mouse=function(t){return Z(t,_())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=_().changedTouches),e)for(var i,o=0,r=e.length;r>o;++o)if((i=e[o]).identifier===n)return Z(t,i)},la.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function n(t,e,n,r,a){return function(){function s(){var t,n,i=e(f,m);i&&(t=i[0]-b[0],n=i[1]-b[1],p|=t|n,b=i,h({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(f,m)&&(v.on(r+g,null).on(a+g,null),y(p),h({type:"dragend"}))}var u,c=this,d=la.event.target.correspondingElement||la.event.target,f=c.parentNode,h=i.of(c,arguments),p=0,m=t(),g=".drag"+(null==m?"":"-"+m),v=la.select(n(d)).on(r+g,s).on(a+g,l),y=Y(d),b=e(f,m);o?(u=o.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var i=S(t,"drag","dragstart","dragend"),o=null,r=n(x,la.mouse,e,"mousemove","mouseup"),a=n(J,la.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},la.rebind(t,i,"on")},la.touches=function(t,e){return arguments.length<2&&(e=_().touches),e?ca(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var La=1e-6,Pa=La*La,ja=Math.PI,Fa=2*ja,Ha=Fa-La,qa=ja/2,Oa=ja/180,za=180/ja,Ua=Math.SQRT2,Ba=2,Wa=4;la.interpolateZoom=function(t,e){var n,i,o=t[0],r=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-o,d=l-r,f=c*c+d*d;if(Pa>f)i=Math.log(u/a)/Ua,n=function(t){return[o+t*c,r+t*d,a*Math.exp(Ua*t*i)]};else{var h=Math.sqrt(f),p=(u*u-a*a+Wa*f)/(2*a*Ba*h),m=(u*u-a*a-Wa*f)/(2*u*Ba*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-g)/Ua,n=function(t){var e=t*i,n=it(g),s=a/(Ba*h)*(n*ot(Ua*e+g)-nt(g));return[o+s*c,r+s*d,a*n/it(Ua*e+g)]}}return n.duration=1e3*i,n},la.behavior.zoom=function(){function t(t){t.on($,d).on(Xa+".zoom",h).on("dblclick.zoom",p).on(R,f)}function n(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function i(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function o(t){_.k=Math.max(M[0],Math.min(M[1],t))}function r(t,e){e=i(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function a(e,n,i,a){e.__chart__={x:_.x,y:_.y,k:_.k},o(Math.pow(2,a)),r(g=n,i),e=la.select(e),N>0&&(e=e.transition().duration(N)),e.call(t.event)}function s(){x&&x.domain(w.range().map(function(t){return(t-_.x)/_.k}).map(w.invert)),k&&k.domain(C.range().map(function(t){return(t-_.y)/_.k}).map(C.invert))}function l(t){A++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function c(t){--A||(t({type:"zoomend"}),g=null)}function d(){function t(){s=1,r(la.mouse(o),f),u(a)}function i(){d.on(I,null).on(D,null),h(s),c(a)}var o=this,a=L.of(o,arguments),s=0,d=la.select(e(o)).on(I,t).on(D,i),f=n(la.mouse(o)),h=Y(o);ql.call(o),l(a)}function f(){function t(){var t=la.touches(p);return h=_.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=n(t))}),t}function e(){var e=la.event.target;la.select(e).on(w,i).on(x,s),C.push(e);for(var n=la.event.changedTouches,o=0,r=n.length;r>o;++o)g[n[o].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-b){var c=l[0];a(p,c,g[c.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),T()}b=u}else if(l.length>1){var c=l[0],d=l[1],f=c[0]-d[0],h=c[1]-d[1];v=f*f+h*h}}function i(){var t,e,n,i,a=la.touches(p);ql.call(p);for(var s=0,l=a.length;l>s;++s,i=null)if(n=a[s],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],o(d*h)}b=null,r(t,e),u(m)}function s(){if(la.event.touches.length){for(var e=la.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var o in g)return void t()}la.selectAll(C).on(y,null),k.on($,d).on(R,f),S(),c(m)}var h,p=this,m=L.of(p,arguments),g={},v=0,y=".zoom-"+la.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,C=[],k=la.select(p),S=Y(p);e(),l(m),k.on($,null).on(R,e)}function h(){var t=L.of(this,arguments);y?clearTimeout(y):(ql.call(this),m=n(g=v||la.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),T(),o(Math.pow(2,.002*Va())*_.k),r(g,m),u(t)}function p(){var t=la.mouse(this),e=Math.log(_.k)/Math.LN2;a(this,t,n(t),la.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var m,g,v,y,b,w,x,C,k,_={x:0,y:0,k:1},E=[960,500],M=Ka,N=250,A=0,$="mousedown.zoom",I="mousemove.zoom",D="mouseup.zoom",R="touchstart.zoom",L=S(t,"zoomstart","zoom","zoomend");return Xa||(Xa="onwheel"in da?(Va=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in da?(Va=function(){return la.event.wheelDelta},"mousewheel"):(Va=function(){return-la.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=_;Fl?la.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=E[0],i=E[1],o=g?g[0]:n/2,r=g?g[1]:i/2,a=la.interpolateZoom([(o-_.x)/_.k,(r-_.y)/_.k,n/_.k],[(o-e.x)/e.k,(r-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=_={x:o-i[0]*s,y:r-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=_,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(_={x:+e[0],y:+e[1],k:_.k},s(),t):[_.x,_.y]},t.scale=function(e){return arguments.length?(_={x:_.x,y:_.y,k:null},o(+e),s(),t):_.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Ka:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(E=e&&[+e[0],+e[1]],t):E},t.duration=function(e){return arguments.length?(N=+e,t):N},t.x=function(e){return arguments.length?(x=e,w=e.copy(),_={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,C=e.copy(),_={x:0,y:0,k:1},t):k},la.rebind(t,L,"on")};var Va,Xa,Ka=[0,1/0];la.color=at,at.prototype.toString=function(){return this.rgb()+""},la.hsl=st;var Ya=st.prototype=new at;Ya.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ya.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ya.rgb=function(){return lt(this.h,this.s,this.l)},la.hcl=ut;var Za=ut.prototype=new at;Za.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ja*(arguments.length?t:1)))},Za.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ja*(arguments.length?t:1)))},Za.rgb=function(){return ct(this.h,this.c,this.l).rgb()},la.lab=dt;var Ja=18,Qa=.95047,Ga=1,ts=1.08883,es=dt.prototype=new at;es.brighter=function(t){return new dt(Math.min(100,this.l+Ja*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new dt(Math.max(0,this.l-Ja*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)},la.rgb=vt;var ns=vt.prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,o=30;return e||n||i?(e&&o>e&&(e=o),n&&o>n&&(n=o),i&&o>i&&(i=o),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(o,o,o)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},ns.hsl=function(){return Ct(this.r,this.g,this.b)},ns.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var is=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,yt(e))}),la.functor=St,la.xhr=Et(y),la.dsv=function(t,e){function n(t,n,r){arguments.length<3&&(r=n,n=null);var a=Mt(t,e,null==n?i:o(n),r);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:o(t)):n},a}function i(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function r(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(o)return o=!1,r;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(o=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i=t.charCodeAt(c++),s=1;if(10===i)o=!0;else if(13===i)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,o,r={},a={},s=[],u=t.length,c=0,d=0;(i=n())!==a;){for(var f=[];i!==r&&i!==a;)f.push(i),i=n();e&&null==(f=e(f,d++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,o=[];return e.forEach(function(t){for(var e in t)i.has(e)||o.push(i.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(r).join("\n")},n},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var os,rs,as,ss,ls=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};la.timer=function(){$t.apply(this,arguments)},la.timer.flush=function(){Dt(),Rt()},la.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var us=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Pt);la.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=la.round(t,Lt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),us[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ds=la.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=la.round(t,Lt(t,e))).toFixed(Math.max(0,Math.min(20,Lt(t*(1+1e-15),e))))}}),fs=la.time={},hs=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=qt(function(t){return t=fs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=qt(function(t){var e=new hs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=fs[t]=qt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});fs[t+"s"]=n.range,fs[t+"s"].utc=n.utc.range,fs[t+"OfYear"]=function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var ms={"-":"",_:" ",0:"0"},gs=/^\s*\d+/,vs=/^%/;la.locale=function(t){return{numberFormat:jt(t),timeFormat:zt(t)}};var ys=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=ys.numberFormat,la.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,bs),ce(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new ue;la.geo.stream=function(t,e){t&&ws.hasOwnProperty(t.type)?ws[t.type](t,e):de(t,e)};var ws={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)de(n[i].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)fe(n[i],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)he(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)de(n[i],e)}};la.geo.area=function(t){return Cs=0,la.geo.stream(t,Ts),Cs};var Cs,ks=new ue,Ts={sphere:function(){Cs+=4*ja},point:x,lineStart:x,lineEnd:x,polygonStart:function(){ks.reset(),Ts.lineStart=pe},polygonEnd:function(){var t=2*ks;Cs+=0>t?4*ja+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=x}};la.geo.bounds=function(){function t(t,e){b.push(w=[c=t,f=t]),d>e&&(d=e),e>h&&(h=e)}function e(e,n){var i=me([e*Oa,n*Oa]);if(v){var o=ve(v,i),r=[o[1],-o[0],0],a=ve(r,o);we(a),a=xe(a);var l=e-p,u=l>0?1:-1,m=a[0]*za*u,g=ya(l)>180;if(g^(m>u*p&&u*e>m)){var y=a[1]*za;y>h&&(h=y)}else if(m=(m+360)%360-180,g^(m>u*p&&u*e>m)){var y=-a[1]*za;d>y&&(d=y)}else d>n&&(d=n),n>h&&(h=n);g?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=i,p=e}function n(){x.point=e}function i(){w[0]=c,w[1]=f,x.point=t,v=null}function o(t,n){if(v){var i=t-p;y+=ya(i)>180?i+(i>0?360:-360):i}else m=t,g=n;Ts.point(t,n),e(t,n)}function r(){Ts.lineStart()}function a(){o(m,g),Ts.lineEnd(),ya(y)>La&&(c=-(f=180)),w[0]=c,w[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,f,h,p,m,g,v,y,b,w,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=o,x.lineStart=r,x.lineEnd=a,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,0>ks?(c=-(f=180),d=-(h=90)):y>La?h=90:-La>y&&(d=-90),w[0]=c,w[1]=f}};return function(t){h=f=-(c=d=1/0),b=[],la.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,i=1,o=b[0],r=[o];e>i;++i)n=b[i],u(n[0],o)||u(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):r.push(o=n);for(var a,n,p=-1/0,e=r.length-1,i=0,o=r[e];e>=i;o=n,++i)n=r[i],(a=s(o[1],n[0]))>p&&(p=a,c=n[0],f=o[1])}return b=w=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[f,h]]}}(),la.geo.centroid=function(t){_s=Ss=Es=Ms=Ns=As=$s=Is=Ds=Rs=Ls=0,la.geo.stream(t,Ps);var e=Ds,n=Rs,i=Ls,o=e*e+n*n+i*i;return Pa>o&&(e=As,n=$s,i=Is,La>Ss&&(e=Es,n=Ms,i=Ns),o=e*e+n*n+i*i,Pa>o)?[NaN,NaN]:[Math.atan2(n,e)*za,et(i/Math.sqrt(o))*za]};var _s,Ss,Es,Ms,Ns,As,$s,Is,Ds,Rs,Ls,Ps={sphere:x,point:ke,lineStart:_e,lineEnd:Se,polygonStart:function(){Ps.lineStart=Ee},polygonEnd:function(){Ps.lineStart=_e}},js=De(Ne,je,He,[-ja,-ja/2]),Fs=1e9;la.geo.clipExtent=function(){var t,e,n,i,o,r,a={stream:function(t){return o&&(o.valid=!1),o=r(t),o.valid=!0,o},extent:function(s){return arguments.length?(r=Ue(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return Be(We)}).raw=We,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function t(t){var r=t[0],a=t[1];return e=null,n(r,a),e||(i(r,a),e)||o(r,a),e}var e,n,i,o,r=la.geo.albers(),a=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=r.scale(),n=r.translate(),i=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&i>=-.425&&-.214>i?a:o>=.166&&.234>o&&i>=-.214&&-.115>i?s:r).invert(t)},t.stream=function(t){var e=r.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),i.point(t,o)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(r.precision(e),a.precision(e),s.precision(e),t):r.precision()},t.scale=function(e){return arguments.length?(r.scale(e),a.scale(.35*e),s.scale(e),t.translate(r.translate())):r.scale()},t.translate=function(e){if(!arguments.length)return r.translate();var u=r.scale(),c=+e[0],d=+e[1];return n=r.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=a.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+La,d+.12*u+La],[c-.214*u-La,d+.234*u-La]]).stream(l).point,o=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+La,d+.166*u+La],[c-.115*u-La,d+.234*u-La]]).stream(l).point,t},t.scale(1070)};var Hs,qs,Os,zs,Us,Bs,Ws={point:x,lineStart:x,lineEnd:x,polygonStart:function(){qs=0,Ws.lineStart=Ve},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=x,Hs+=ya(qs/2)}},Vs={point:Xe,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Xs={point:Ze,lineStart:Je,lineEnd:Qe,polygonStart:function(){Xs.lineStart=Ge},polygonEnd:function(){Xs.point=Ze,Xs.lineStart=Je,Xs.lineEnd=Qe}};la.geo.path=function(){function t(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(r)),la.geo.stream(t,a)),r.result()}function e(){return a=null,t}var n,i,o,r,a,s=4.5;return t.area=function(t){return Hs=0,la.geo.stream(t,o(Ws)),Hs},t.centroid=function(t){return Es=Ms=Ns=As=$s=Is=Ds=Rs=Ls=0,la.geo.stream(t,o(Xs)),Ls?[Ds/Ls,Rs/Ls]:Is?[As/Is,$s/Is]:Ns?[Es/Ns,Ms/Ns]:[NaN,NaN]},t.bounds=function(t){return Us=Bs=-(Os=zs=1/0),la.geo.stream(t,o(Vs)),[[Os,zs],[Us,Bs]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(r=null==(i=t)?new Ke:new tn(t),"function"!=typeof s&&r.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(r.pointRadius(+e),+e),t):s},t.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(t){return{stream:function(e){var n=new on(e);for(var i in t)n[i]=t[i];return n}}},on.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=an,la.geo.projectionMutator=sn,(la.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,la.geo.rotation=function(t){function e(e){return e=t(e[0]*Oa,e[1]*Oa),e[0]*=za,e[1]*=za,e}return t=dn(t[0]%360*Oa,t[1]*Oa,t.length>2?t[2]*Oa:0),e.invert=function(e){return e=t.invert(e[0]*Oa,e[1]*Oa),e[0]*=za,e[1]*=za,e},e},cn.invert=un,la.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=dn(-t[0]*Oa,-t[1]*Oa,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=za,t[1]*=za}}),{type:"Polygon",coordinates:[o]}}var e,n,i=[0,0],o=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=mn((e=+i)*Oa,o*Oa),t):e},t.precision=function(i){return arguments.length?(n=mn(e*Oa,(o=+i)*Oa),t):o},t.angle(90)},la.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Oa,o=t[1]*Oa,r=e[1]*Oa,a=Math.sin(i),s=Math.cos(i),l=Math.sin(o),u=Math.cos(o),c=Math.sin(r),d=Math.cos(r);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},la.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return la.range(Math.ceil(r/g)*g,o,g).map(f).concat(la.range(Math.ceil(u/v)*v,l,v).map(h)).concat(la.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ya(t%g)>La}).map(c)).concat(la.range(Math.ceil(s/m)*m,a,m).filter(function(t){return ya(t%v)>La}).map(d))}var n,i,o,r,a,s,l,u,c,d,f,h,p=10,m=p,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(l).slice(1),f(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(r=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],r>o&&(e=r,r=o,o=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[r,u],[o,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],m=+e[1],t):[p,m]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),d=yn(i,n,y),f=vn(u,l,90),h=yn(r,o,y),t):y},t.majorExtent([[-180,-90+La],[180,90-La]]).minorExtent([[-180,-80-La],[180,80+La]])},la.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,i=bn,o=wn;return t.distance=function(){return la.geo.distance(e||i.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},la.geo.interpolate=function(t,e){return xn(t[0]*Oa,t[1]*Oa,e[0]*Oa,e[1]*Oa)},la.geo.length=function(t){return Ks=0,la.geo.stream(t,Ys),Ks};var Ks,Ys={sphere:x,point:x,lineStart:Cn,lineEnd:x,polygonStart:x,polygonEnd:x},Zs=kn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(la.geo.azimuthalEqualArea=function(){return an(Zs)}).raw=Zs;var Js=kn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(la.geo.azimuthalEquidistant=function(){return an(Js)}).raw=Js,(la.geo.conicConformal=function(){return Be(Tn)}).raw=Tn,(la.geo.conicEquidistant=function(){return Be(_n)}).raw=_n;var Qs=kn(function(t){return 1/t},Math.atan);(la.geo.gnomonic=function(){return an(Qs)}).raw=Qs,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-qa]},(la.geo.mercator=function(){return En(Sn)}).raw=Sn;var Gs=kn(function(){return 1},Math.asin);(la.geo.orthographic=function(){return an(Gs)}).raw=Gs;var tl=kn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(la.geo.stereographic=function(){return an(tl)}).raw=tl,Mn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-qa]},(la.geo.transverseMercator=function(){var t=En(Mn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Mn,la.geom={},la.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=St(n),r=St(i),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+o.call(this,t[e],e),+r.call(this,t[e],e),e]);for(s.sort(In),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=$n(s),c=$n(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+d;e<c.length-f;++e)h.push(t[s[c[e]][2]]);return h}var n=Nn,i=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},la.geom.polygon=function(t){return ka(t,el),t};var el=la.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],o=0;++e<n;)t=i,i=this[e],o+=t[1]*i[0]-t[0]*i[1];return.5*o},el.centroid=function(t){var e,n,i=-1,o=this.length,r=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++i<o;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[r*t,a*t]},el.clip=function(t){for(var e,n,i,o,r,a,s=Ln(t),l=-1,u=this.length-Ln(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],r=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],Dn(a,c,o)?(Dn(r,c,o)||t.push(Rn(r,a,c,o)),t.push(a)):Dn(r,c,o)&&t.push(Rn(r,a,c,o)),r=a;s&&t.push(t[0]),c=o}return t};var nl,il,ol,rl,al,sl=[],ll=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(o=i.R,o&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))):(o=i.L,o&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,a=t.R;if(n=r?a?ai(a):r:a,o?o.L===t?o.L=n:o.R=n:this._=n,r&&a?(i=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(i=t.C,t=n),t&&(t.U=o),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,oi(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ri(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,oi(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,ri(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,oi(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,ri(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},la.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],o=s[0][1],r=s[1][0],a=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=r&&u.y>=o&&u.y<=a?[[i,a],[r,a],[r,o],[i,o]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/La)*La,y:Math.round(a(t,e)/La)*La,i:e}})}var i=Nn,o=An,r=i,a=o,s=ul;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var o,r=n.site,a=n.edges.sort(Wn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===r?u.r:u.l;++s<l;)u,o=c,u=a[s].edge,c=u.l===r?u.r:u.l,i<o.i&&i<c.i&&ui(r,o,c)<0&&e.push([t[i],t[o.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(r=St(i=t),e):i},e.y=function(t){return arguments.length?(a=St(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?ul:t,e):s===ul?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ul?null:s&&s[1]},e)};var ul=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(t){return la.geom.voronoi().triangles(t)},la.geom.quadtree=function(t,e,n,i,o){function r(t){function r(t,e,n,i,o,r,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ya(l-n)+ya(c-i)<.01)u(t,e,n,i,o,r,a,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,o,r,a,s),u(t,e,n,i,o,r,a,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,o,r,a,s)}function u(t,e,n,i,o,a,s,l){var u=.5*(o+s),c=.5*(a+l),d=n>=u,f=i>=c,h=f<<1|d;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=fi()),d?o=u:s=u,f?a=c:l=c,r(t,e,n,i,o,a,s,l)}var c,d,f,h,p,m,g,v,y,b=St(s),w=St(l);if(null!=e)m=e,g=n,v=i,y=o;else if(v=y=-(m=g=1/0),d=[],f=[],p=t.length,a)for(h=0;p>h;++h)c=t[h],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var x=+b(c=t[h],h),C=+w(c,h);m>x&&(m=x),g>C&&(g=C),x>v&&(v=x),C>y&&(y=C),d.push(x),f.push(C)}var k=v-m,T=y-g;k>T?y=g+k:v=m+T;var _=fi();if(_.add=function(t){r(_,t,+b(t,++h),+w(t,h),m,g,v,y)},_.visit=function(t){hi(t,_,m,g,v,y)},_.find=function(t){return pi(_,t[0],t[1],m,g,v,y)},h=-1,null==e){for(;++h<p;)r(_,t[h],d[h],f[h],m,g,v,y);--h}else t.forEach(_.add);return d=f=t=c=null,_}var a,s=Nn,l=An;return(a=arguments.length)?(s=ci,l=di,3===a&&(o=n,i=e,n=e=0),r(t)):(r.x=function(t){return arguments.length?(s=t,r):s},r.y=function(t){return arguments.length?(l=t,r):l},r.extent=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),r):null==e?null:[[e,n],[i,o]]},r.size=function(t){return arguments.length?(null==t?e=n=i=o=null:(e=n=0,i=+t[0],o=+t[1]),r):null==e?null:[i-e,o-n]},r)},la.interpolateRgb=mi,la.interpolateObject=gi,la.interpolateNumber=vi,la.interpolateString=yi;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dl=new RegExp(cl.source,"g");la.interpolate=bi,la.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?mi:yi:e instanceof at?mi:Array.isArray(e)?wi:"object"===n&&isNaN(e)?gi:vi)(t,e)}],la.interpolateArray=wi;var fl=function(){return y},hl=la.map({linear:fl,poly:Ei,quad:function(){return Ti},cubic:function(){return _i},sin:function(){return Mi},exp:function(){return Ni},circle:function(){return Ai},elastic:$i,back:Ii,bounce:function(){return Di}}),pl=la.map({"in":y,out:Ci,"in-out":ki,"out-in":function(t){return ki(Ci(t))}});la.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=hl.get(n)||fl,i=pl.get(i)||y,xi(i(n.apply(null,ua.call(arguments,1))))},la.interpolateHcl=Ri,la.interpolateHsl=Li,la.interpolateLab=Pi,la.interpolateRound=ji,la.transform=function(t){var e=da.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Fi(n?n.matrix:ml)})(t)},Fi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ml={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=Xi,la.layout={},la.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Zi(t[n]));return e}},la.layout.chord=function(){function t(){var t,u,d,f,h,p={},m=[],g=la.range(r),v=[];for(n=[],i=[],t=0,f=-1;++f<r;){for(u=0,h=-1;++h<r;)u+=o[f][h];m.push(u),v.push(la.range(r)),t+=u}for(a&&g.sort(function(t,e){return a(m[t],m[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Fa-c*r)/t,u=0,f=-1;++f<r;){for(d=u,h=-1;++h<r;){var y=g[f],b=v[y][h],w=o[y][b],x=u,C=u+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:C,value:w}}i[y]={index:y,startAngle:d,endAngle:u,value:m[y]},u+=c}for(f=-1;++f<r;)for(h=f-1;++h<r;){var k=p[f+"-"+h],T=p[h+"-"+f];(k.value||T.value)&&n.push(k.value<T.value?{source:T,target:k}:{source:k,target:T})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,o,r,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(r=(o=t)&&o.length,n=i=null,u):o},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=i=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},la.layout.force=function(){function t(t){return function(e,n,i,o){if(e.point!==t){var r=e.cx-t.x,a=e.cy-t.y,s=o-n,l=r*r+a*a;if(l>s*s/v){if(m>l){var u=e.charge/l;t.px-=r*u,t.py-=a*u}return!0}if(e.point&&l&&m>l){var u=e.pointCharge/l;t.px-=r*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=la.event.x,t.py=la.event.y,l.resume()}var n,i,o,r,a,s,l={},u=la.dispatch("start","tick","end"),c=[1,1],d=.9,f=gl,h=vl,p=-30,m=yl,g=.1,v=.64,b=[],w=[];return l.tick=function(){if((o*=.99)<.005)return n=null,u.end({type:"end",alpha:o=0}),!0;var e,i,l,f,h,m,v,y,x,C=b.length,k=w.length;for(i=0;k>i;++i)l=w[i],f=l.source,h=l.target,y=h.x-f.x,x=h.y-f.y,(m=y*y+x*x)&&(m=o*a[i]*((m=Math.sqrt(m))-r[i])/m,y*=m,x*=m,h.x-=y*(v=f.weight+h.weight?f.weight/(f.weight+h.weight):.5),h.y-=x*v,f.x+=y*(v=1-v),f.y+=x*v);if((v=o*g)&&(y=c[0]/2,x=c[1]/2,i=-1,v))for(;++i<C;)l=b[i],l.x+=(y-l.x)*v,l.y+=(x-l.y)*v;if(p)for(io(e=la.geom.quadtree(b),o,s),i=-1;++i<C;)(l=b[i]).fixed||e.visit(t(l));for(i=-1;++i<C;)l=b[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(b=t,l):b},l.links=function(t){return arguments.length?(w=t,l):w},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.gravity=function(t){return arguments.length?(g=+t,l):g},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:o=0})):t>0&&(u.start({type:"start",alpha:o=t}),n=$t(l.tick)),l):o},l.start=function(){function t(t,i){if(!n){for(n=new Array(o),l=0;o>l;++l)n[l]=[];for(l=0;u>l;++l){var r=w[l];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*i}var e,n,i,o=b.length,u=w.length,d=c[0],m=c[1];for(e=0;o>e;++e)(i=b[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=w[e],"number"==typeof i.source&&(i.source=b[i.source]),"number"==typeof i.target&&(i.target=b[i.target]),++i.source.weight,++i.target.weight;for(e=0;o>e;++e)i=b[e],isNaN(i.x)&&(i.x=t("x",d)),isNaN(i.y)&&(i.y=t("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof f)for(e=0;u>e;++e)r[e]=+f.call(this,w[e],e);else for(e=0;u>e;++e)r[e]=f;if(a=[],"function"==typeof h)for(e=0;u>e;++e)a[e]=+h.call(this,w[e],e);else for(e=0;u>e;++e)a[e]=h;if(s=[],"function"==typeof p)for(e=0;o>e;++e)s[e]=+p.call(this,b[e],e);else for(e=0;o>e;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=la.behavior.drag().origin(y).on("dragstart.force",Gi).on("drag.force",e).on("dragend.force",to)),arguments.length?void this.on("mouseover.force",eo).on("mouseout.force",no).call(i):i},la.rebind(l,u,"on")};var gl=20,vl=1,yl=1/0;la.layout.hierarchy=function(){function t(o){var r,a=[o],s=[];for(o.depth=0;null!=(r=a.pop());)if(s.push(r),(u=n.call(t,r,r.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=r,c.depth=r.depth+1;i&&(r.value=0),r.children=u}else i&&(r.value=+i.call(t,r,r.depth)||0),delete r.children;return ao(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),i&&(o=t.parent)&&(o.value+=t.value)}),s}var e=uo,n=so,i=lo;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(ro(e,function(t){t.children&&(t.value=0)}),ao(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},la.layout.partition=function(){function t(e,n,i,o){var r=e.children;if(e.x=n,e.y=e.depth*o,e.dx=i,e.dy=o,r&&(a=r.length)){var a,s,l,u=-1;for(i=e.value?i/e.value:0;++u<a;)t(s=r[u],n,l=s.value*i,o),n+=l}}function e(t){var n=t.children,i=0;if(n&&(o=n.length))for(var o,r=-1;++r<o;)i=Math.max(i,e(n[r]));return 1+i}function n(n,r){var a=i.call(this,n,r);return t(a[0],0,o[0],o[1]/e(a[0])),a}var i=la.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},oo(n,i)},la.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof o?o.apply(this,arguments):o)-c,f=Math.min(Math.abs(d)/l,+("function"==typeof r?r.apply(this,arguments):r)),h=f*(0>d?-1:1),p=la.sum(u),m=p?(d-l*h)/p:0,g=la.range(l),v=[];return null!=n&&g.sort(n===bl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*m+h,padAngle:f}}),v}var e=Number,n=bl,i=0,o=Fa,r=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(r=e,t):r},t};var bl={};la.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[r.call(t,e,n),a.call(t,e,n)]})}),d=n.call(t,c,l);u=la.permute(u,d),c=la.permute(c,d);var f,h,p,m,g=i.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(o.call(t,u[0][p],m=g[p],c[0][p][1]),h=1;f>h;++h)o.call(t,u[h][p],m+=c[h-1][p][1],c[h][p][1]);return s}var e=y,n=mo,i=go,o=po,r=fo,a=ho;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:wl.get(e)||mo,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:xl.get(e)||go,t):i},t.x=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var wl=la.map({
"inside-out":function(t){var e,n,i=t.length,o=t.map(vo),r=t.map(yo),a=la.range(i).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=a[e],l>s?(s+=r[n],u.push(n)):(l+=r[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return la.range(t.length).reverse()},"default":mo}),xl=la.map({silhouette:function(t){var e,n,i,o=t.length,r=t[0].length,a=[],s=0,l=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;r>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,i,o,r,a,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(e=0,o=0;c>e;++e)o+=t[e][n][1];for(e=0,r=0,s=d[n][0]-d[n-1][0];c>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;r+=a*t[e][n][1]}h[n]=l-=o?r/o*s:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(t){var e,n,i,o=t.length,r=t[0].length,a=1/o,s=[];for(n=0;r>n;++n){for(e=0,i=0;o>e;e++)i+=t[e][n][1];if(i)for(e=0;o>e;e++)t[e][n][1]/=i;else for(e=0;o>e;e++)t[e][n][1]=a}for(n=0;r>n;++n)s[n]=0;return s},zero:go});la.layout.histogram=function(){function t(t,r){for(var a,s,l=[],u=t.map(n,this),c=i.call(this,u,r),d=o.call(this,c,u,r),r=-1,f=u.length,h=d.length-1,p=e?1:1/f;++r<h;)a=l[r]=[],a.dx=d[r+1]-(a.x=d[r]),a.y=0;if(h>0)for(r=-1;++r<f;)(s=u[r])>=c[0]&&s<=c[1]&&(a=l[la.bisect(d,s,1,h)-1],a.y+=p,a.push(t[r]));return l}var e=!0,n=Number,i=Co,o=wo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=St(e),t):i},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return xo(t,e)}:St(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},la.layout.pack=function(){function t(t,r){var a=n.call(this,t,r),s=a[0],l=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ao(s,function(t){t.r=+c(t.value)}),ao(s,Eo),i){var d=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ao(s,function(t){t.r+=d}),ao(s,Eo),ao(s,function(t){t.r-=d})}return Ao(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=la.layout.hierarchy().sort(ko),i=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},oo(t,n)},la.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),d=c[0],f=e(d);if(ao(f,n),f.parent.m=-f.z,ro(f,i),u)ro(d,r);else{var h=d,p=d,m=d;ro(d,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>m.depth&&(m=t)});var g=s(h,p)/2-h.x,v=l[0]/(p.x+s(p,h)/2+g),y=l[1]/(m.depth||1);ro(d,function(t){t.x=(t.x+g)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var o,r=e.children,a=0,s=r.length;s>a;++a)i.push((r[a]=o={_:r[a],parent:e,children:(o=r[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Po(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+s(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var i,o=t,r=t,a=e,l=o.parent.children[0],u=o.m,c=r.m,d=a.m,f=l.m;a=Ro(a),o=Do(o),a&&o;)l=Do(l),r=Ro(r),r.a=t,i=a.z+d-o.z-u+s(a._,o._),i>0&&(Lo(jo(a,t,n),t,i),u+=i,c+=i),d+=a.m,u+=o.m,f+=l.m,c+=r.m;a&&!Ro(r)&&(r.t=a,r.m+=d-c),o&&!Do(l)&&(l.t=o,l.m+=u-f,n=t)}return n}function r(t){t.x*=l[0],t.y=t.depth*l[1]}var a=la.layout.hierarchy().sort(null).value(null),s=Io,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?r:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:r,t):u?l:null},oo(t,a)},la.layout.cluster=function(){function t(t,r){var a,s=e.call(this,t,r),l=s[0],u=0;ao(l,function(t){var e=t.children;e&&e.length?(t.x=Ho(e),t.y=Fo(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=qo(l),d=Oo(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return ao(l,o?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(h-f)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=la.layout.hierarchy().sort(null).value(null),n=Io,i=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(i=e),t):o?null:i},t.nodeSize=function(e){return arguments.length?(o=null!=(i=e),t):o?i:null},oo(t,e)},la.layout.treemap=function(){function t(t,e){for(var n,i,o=-1,r=t.length;++o<r;)i=(n=t[o]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var r=n.children;if(r&&r.length){var a,s,l,u=d(n),c=[],f=r.slice(),p=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(a=f[l-1]),c.area+=a.area,"squarify"!==h||(s=i(c,m))<=p?(f.pop(),p=s):(c.area-=c.pop().area,o(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(o(c,m,u,!0),c.length=c.area=0),r.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var r,a=d(e),s=i.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;r=s.pop();)l.push(r),l.area+=r.area,null!=r.z&&(o(l,r.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,o=0,r=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(r>n&&(r=n),n>o&&(o=n));return i*=i,e*=e,i?Math.max(e*o*p/i,i/(e*r*p)):1/0}function o(t,e,n,i){var o,r=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++r<a;)o=t[r],o.x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?l(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++r<a;)o=t[r],o.x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?l(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function r(i){var o=a||s(i),r=o[0];return r.x=r.y=0,r.value?(r.dx=u[0],r.dy=u[1]):r.dx=r.dy=0,a&&s.revalue(r),t([r],r.dx*r.dy/r.value),(a?n:e)(r),f&&(a=o),o}var a,s=la.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=zo,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(u=t,r):u},r.padding=function(t){function e(e){var n=t.call(r,e,e.depth);return null==n?zo(e):Uo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Uo(e,t)}if(!arguments.length)return c;var i;return d=null==(c=t)?zo:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,r},r.round=function(t){return arguments.length?(l=t?Math.round:Number,r):l!=Number},r.sticky=function(t){return arguments.length?(f=t,a=null,r):f},r.ratio=function(t){return arguments.length?(p=t,r):p},r.mode=function(t){return arguments.length?(h=t+"",r):h},oo(r,s)},la.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,o;do{n=2*Math.random()-1,i=2*Math.random()-1,o=n*n+i*i}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=la.random.normal.apply(la,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=la.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},la.scale={};var Cl={floor:y,ceil:y};la.scale.linear=function(){return Zo([0,1],[0,1],bi,!1)};var kl={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return or(la.scale.linear().domain([0,1]),10,!0,[1,10])};var Tl=la.format(".0e"),_l={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};la.scale.pow=function(){return rr(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return sr([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(Sl)},la.scale.category20=function(){return la.scale.ordinal().range(El)},la.scale.category20b=function(){return la.scale.ordinal().range(Ml)},la.scale.category20c=function(){return la.scale.ordinal().range(Nl)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),El=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Nl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);la.scale.quantile=function(){return lr([],[])},la.scale.quantize=function(){return ur(0,1,[0,1])},la.scale.threshold=function(){return cr([.5],[0,1])},la.scale.identity=function(){return dr([0,1])},la.svg={},la.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-qa,d=s.apply(this,arguments)-qa,f=Math.abs(d-c),h=c>d?0:1;if(t>u&&(p=u,u=t,t=p),f>=Ha)return e(u,h)+(t?e(t,1-h):"")+"Z";var p,m,g,v,y,b,w,x,C,k,T,_,S=0,E=0,M=[];if((v=(+l.apply(this,arguments)||0)/2)&&(g=r===Al?Math.sqrt(t*t+u*u):+r.apply(this,arguments),h||(E*=-1),u&&(E=et(g/u*Math.sin(v))),t&&(S=et(g/t*Math.sin(v)))),u){y=u*Math.cos(c+E),b=u*Math.sin(c+E),w=u*Math.cos(d-E),x=u*Math.sin(d-E);var N=Math.abs(d-c-2*E)<=ja?0:1;if(E&&yr(y,b,w,x)===h^N){var A=(c+d)/2;y=u*Math.cos(A),b=u*Math.sin(A),w=x=null}}else y=b=0;if(t){C=t*Math.cos(d-S),k=t*Math.sin(d-S),T=t*Math.cos(c+S),_=t*Math.sin(c+S);var $=Math.abs(c-d+2*S)<=ja?0:1;if(S&&yr(C,k,T,_)===1-h^$){var I=(c+d)/2;C=t*Math.cos(I),k=t*Math.sin(I),T=_=null}}else C=k=0;if(f>La&&(p=Math.min(Math.abs(u-t)/2,+o.apply(this,arguments)))>.001){m=u>t^h?0:1;var D=p,R=p;if(ja>f){var L=null==T?[C,k]:null==w?[y,b]:Rn([y,b],[T,_],[w,x],[C,k]),P=y-L[0],j=b-L[1],F=w-L[0],H=x-L[1],q=1/Math.sin(Math.acos((P*F+j*H)/(Math.sqrt(P*P+j*j)*Math.sqrt(F*F+H*H)))/2),O=Math.sqrt(L[0]*L[0]+L[1]*L[1]);R=Math.min(p,(t-O)/(q-1)),D=Math.min(p,(u-O)/(q+1))}if(null!=w){var z=br(null==T?[C,k]:[T,_],[y,b],u,D,h),U=br([w,x],[C,k],u,D,h);p===D?M.push("M",z[0],"A",D,",",D," 0 0,",m," ",z[1],"A",u,",",u," 0 ",1-h^yr(z[1][0],z[1][1],U[1][0],U[1][1]),",",h," ",U[1],"A",D,",",D," 0 0,",m," ",U[0]):M.push("M",z[0],"A",D,",",D," 0 1,",m," ",U[0])}else M.push("M",y,",",b);if(null!=T){var B=br([y,b],[T,_],t,-R,h),W=br([C,k],null==w?[y,b]:[w,x],t,-R,h);p===R?M.push("L",W[0],"A",R,",",R," 0 0,",m," ",W[1],"A",t,",",t," 0 ",h^yr(W[1][0],W[1][1],B[1][0],B[1][1]),",",1-h," ",B[1],"A",R,",",R," 0 0,",m," ",B[0]):M.push("L",W[0],"A",R,",",R," 0 0,",m," ",B[0])}else M.push("L",C,",",k)}else M.push("M",y,",",b),null!=w&&M.push("A",u,",",u," 0 ",N,",",h," ",w,",",x),M.push("L",C,",",k),null!=T&&M.push("A",t,",",t," 0 ",$,",",1-h," ",T,",",_);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=hr,i=pr,o=fr,r=Al,a=mr,s=gr,l=vr;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(i=St(e),t):i},t.cornerRadius=function(e){return arguments.length?(o=St(e),t):o},t.padRadius=function(e){return arguments.length?(r=e==Al?Al:St(e),t):r},t.startAngle=function(e){return arguments.length?(a=St(e),t):a},t.endAngle=function(e){return arguments.length?(s=St(e),t):s},t.padAngle=function(e){return arguments.length?(l=St(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-qa;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Al="auto";la.svg.line=function(){return wr(y)};var $l=la.map({linear:xr,"linear-closed":Cr,step:kr,"step-before":Tr,"step-after":_r,basis:$r,"basis-open":Ir,"basis-closed":Dr,bundle:Rr,cardinal:Mr,"cardinal-open":Sr,"cardinal-closed":Er,monotone:qr});$l.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Il=[0,2/3,1/3,0],Dl=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var t=wr(Or);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Tr.reverse=_r,_r.reverse=Tr,la.svg.area=function(){return zr(y)},la.svg.area.radial=function(){var t=zr(Or);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},la.svg.chord=function(){function t(t,s){var l=e(this,r,t,s),u=e(this,a,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var o=e.call(t,n,i),r=s.call(t,o,i),a=l.call(t,o,i)-qa,c=u.call(t,o,i)-qa;return{r:r,a0:a,a1:c,p0:[r*Math.cos(a),r*Math.sin(a)],p1:[r*Math.cos(c),r*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ja)+",1 "+e}function o(t,e,n,i){return"Q 0,0 "+i}var r=bn,a=wn,s=Ur,l=mr,u=gr;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(r=St(e),t):r},t.target=function(e){return arguments.length?(a=St(e),t):a},t.startAngle=function(e){return arguments.length?(l=St(e),t):l},t.endAngle=function(e){return arguments.length?(u=St(e),t):u},t},la.svg.diagonal=function(){function t(t,o){var r=e.call(this,t,o),a=n.call(this,t,o),s=(r.y+a.y)/2,l=[r,{x:r.x,y:s},{x:a.x,y:s},a];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=bn,n=wn,i=Br;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},la.svg.diagonal.radial=function(){var t=la.svg.diagonal(),e=Br,n=t.projection;return t.projection=function(t){return arguments.length?n(Wr(e=t)):e},t},la.svg.symbol=function(){function t(t,i){return(Ll.get(e.call(this,t,i))||Kr)(n.call(this,t,i))}var e=Xr,n=Vr;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Ll=la.map({circle:Kr,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*jl)),n=e*jl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Pl),n=e*Pl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});la.svg.symbolTypes=Ll.keys();var Pl=Math.sqrt(3),jl=Math.tan(30*Oa);Ea.transition=function(t){for(var e,n,i=Fl||++zl,o=Gr(t),r=[],a=Hl||{time:Date.now(),ease:Si,delay:0,duration:250},s=-1,l=this.length;++s<l;){r.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&ta(n,c,o,i,a),e.push(n)}return Zr(r,o,i)},Ea.interrupt=function(t){return this.each(null==t?ql:Yr(Gr(t)))};var Fl,Hl,ql=Yr(Gr()),Ol=[],zl=0;Ol.call=Ea.call,Ol.empty=Ea.empty,Ol.node=Ea.node,Ol.size=Ea.size,la.transition=function(t,e){return t&&t.transition?Fl?t.transition(e):t:la.selection().transition(t)},la.transition.prototype=Ol,Ol.select=function(t){var e,n,i,o=this.id,r=this.namespace,a=[];t=M(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,r,o,i[r][o]),e.push(n)):e.push(null)}return Zr(a,r,o)},Ol.selectAll=function(t){var e,n,i,o,r,a=this.id,s=this.namespace,l=[];t=N(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(i=d[f]){r=i[s][a],n=t.call(i,i.__data__,f,u),l.push(e=[]);for(var p=-1,m=n.length;++p<m;)(o=n[p])&&ta(o,p,s,a,r),e.push(o)}return Zr(l,s,a)},Ol.filter=function(t){var e,n,i,o=[];"function"!=typeof t&&(t=O(t));for(var r=0,a=this.length;a>r;r++){o.push(e=[]);for(var n=this[r],s=0,l=n.length;l>s;s++)(i=n[s])&&t.call(i,i.__data__,s,r)&&e.push(i)}return Zr(o,this.namespace,this.id)},Ol.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):U(this,null==e?function(e){e[i][n].tween.remove(t)}:function(o){o[i][n].tween.set(t,e)})},Ol.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function r(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Xi:bi,s=la.ns.qualify(t);return Jr(this,"attr."+t,e,s.local?r:o)},Ol.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(o));return i&&function(t){this.setAttribute(o,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return i&&function(t){this.setAttributeNS(o.space,o.local,i(t))}}var o=la.ns.qualify(t);return this.tween("attr."+t,o.local?i:n)},Ol.style=function(t,n,i){function o(){this.style.removeProperty(t)}function r(n){return null==n?o:(n+="",function(){var o,r=e(this).getComputedStyle(this,null).getPropertyValue(t);return r!==n&&(o=bi(r,n),function(e){this.style.setProperty(t,o(e),i)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Jr(this,"style."+t,n,r)},Ol.styleTween=function(t,n,i){function o(o,r){var a=n.call(this,o,r,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,o)},Ol.text=function(t){return Jr(this,"text",t,Qr)},Ol.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ol.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=la.ease.apply(la,arguments)),U(this,function(i){i[n][e].ease=t}))},Ol.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,"function"==typeof t?function(i,o,r){i[n][e].delay=+t.call(i,i.__data__,o,r)}:(t=+t,function(i){i[n][e].delay=t}))},Ol.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,"function"==typeof t?function(i,o,r){i[n][e].duration=Math.max(1,t.call(i,i.__data__,o,r))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Ol.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var o=Hl,r=Fl;try{Fl=n,U(this,function(e,o,r){Hl=e[i][n],t.call(e,e.__data__,o,r)})}finally{Hl=o,Fl=r}}else U(this,function(o){var r=o[i][n];(r.event||(r.event=la.dispatch("start","end","interrupt"))).on(t,e)});return this},Ol.transition=function(){for(var t,e,n,i,o=this.id,r=++zl,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,d=e.length;d>c;c++)(n=e[c])&&(i=n[a][o],ta(n,c,a,r,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Zr(s,a,r)},la.svg.axis=function(){function t(t){t.each(function(){var t,u=la.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==e?d.tickFormat?d.tickFormat.apply(d,s):y:e,p=u.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",La),g=la.transition(p.exit()).style("opacity",La).remove(),v=la.transition(p.order()).style("opacity",1),b=Math.max(o,0)+a,w=Wo(d),x=u.selectAll(".domain").data([0]),C=(x.enter().append("path").attr("class","domain"),la.transition(x));m.append("line"),m.append("text");var k,T,_,S,E=m.select("line"),M=v.select("line"),N=p.select("text").text(h),A=m.select("text"),$=v.select("text"),I="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ea,k="x",_="y",T="x2",S="y2",N.attr("dy",0>I?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+w[0]+","+I*r+"V0H"+w[1]+"V"+I*r)):(t=na,k="y",_="x",T="y2",S="x2",N.attr("dy",".32em").style("text-anchor",0>I?"end":"start"),C.attr("d","M"+I*r+","+w[0]+"H0V"+w[1]+"H"+I*r)),E.attr(S,I*o),A.attr(_,I*b),M.attr(T,0).attr(S,I*o),$.attr(k,0).attr(_,I*b),d.rangeBand){var D=d,R=D.rangeBand()/2;c=d=function(t){return D(t)+R}}else c.rangeBand?c=d:g.call(t,d,c);m.call(t,c,d),v.call(t,d,d)})}var e,n=la.scale.linear(),i=Ul,o=6,r=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Bl?e+"":Ul,t):i},t.ticks=function(){return arguments.length?(s=ca(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,r=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(r=+e,t):r},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ul="bottom",Bl={top:1,right:1,bottom:1,left:1};la.svg.brush=function(){function t(e){e.each(function(){var e=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(m,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Wl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=la.transition(e),f=la.transition(a);u&&(l=Wo(u),f.attr("x",l[0]).attr("width",l[1]-l[0]),i(d)),c&&(l=Wo(c),f.attr("y",l[0]).attr("height",l[1]-l[0]),o(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function o(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function r(){function r(){32==la.event.keyCode&&(N||(b=null,$[0]-=d[1],$[1]-=f[1],N=2),T())}function m(){32==la.event.keyCode&&2==N&&($[0]+=d[1],$[1]+=f[1],N=0,T())}function g(){var t=la.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),N||(la.event.altKey?(b||(b=[(d[0]+d[1])/2,(f[0]+f[1])/2]),$[0]=d[+(t[0]<b[0])],$[1]=f[+(t[1]<b[1])]):b=null),E&&v(t,u,0)&&(i(_),e=!0),M&&v(t,c,1)&&(o(_),e=!0),e&&(n(_),k({type:"brush",mode:N?"move":"resize"}))}function v(t,e,n){var i,o,r=Wo(e),l=r[0],u=r[1],c=$[n],m=n?f:d,g=m[1]-m[0];return N&&(l-=c,u-=g+c),i=(n?p:h)?Math.max(l,Math.min(u,t[n])):t[n],N?o=(i+=c)+g:(b&&(c=Math.max(l,Math.min(u,2*b[n]-i))),i>c?(o=i,i=c):o=c),m[0]!=i||m[1]!=o?(n?s=null:a=null,m[0]=i,m[1]=o,!0):void 0}function y(){g(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),la.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),k({type:"brushend"})}var b,w,x=this,C=la.select(la.event.target),k=l.of(x,arguments),_=la.select(x),S=C.datum(),E=!/^(n|s)$/.test(S)&&u,M=!/^(e|w)$/.test(S)&&c,N=C.classed("extent"),A=Y(x),$=la.mouse(x),I=la.select(e(x)).on("keydown.brush",r).on("keyup.brush",m);if(la.event.changedTouches?I.on("touchmove.brush",g).on("touchend.brush",y):I.on("mousemove.brush",g).on("mouseup.brush",y),_.interrupt().selectAll("*").interrupt(),N)$[0]=d[0]-$[0],$[1]=f[0]-$[1];else if(S){var D=+/w$/.test(S),R=+/^n/.test(S);w=[d[1-D]-$[0],f[1-R]-$[1]],$[0]=d[D],$[1]=f[R]}else la.event.altKey&&(b=$.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",C.style("cursor")),k({type:"brushstart"}),g()}var a,s,l=S(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],f=[0,0],h=!0,p=!0,m=Vl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:f,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Fl?la.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wi(d,e.x),i=wi(f,e.y);return a=s=null,function(o){d=e.x=n(o),f=e.y=i(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=Vl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,m=Vl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],p=!!e[1]):u?h=!!e:c&&(p=!!e),t):u&&c?[h,p]:u?h:c?p:null},t.extent=function(e){var n,i,o,r,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),(n!=d[0]||i!=d[1])&&(d=[n,i])),c&&(o=e[0],r=e[1],u&&(o=o[1],r=r[1]),s=[o,r],c.invert&&(o=c(o),r=c(r)),o>r&&(l=o,o=r,r=l),(o!=f[0]||r!=f[1])&&(f=[o,r])),t):(u&&(a?(n=a[0],i=a[1]):(n=d[0],i=d[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(s?(o=s[0],r=s[1]):(o=f[0],r=f[1],c.invert&&(o=c.invert(o),r=c.invert(r)),o>r&&(l=o,o=r,r=l))),u&&c?[[n,o],[i,r]]:u?[n,i]:c&&[o,r])},t.clear=function(){return t.empty()||(d=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&f[0]==f[1]},la.rebind(t,l,"on")};var Wl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xl=fs.format=ys.timeFormat,Kl=Xl.utc,Yl=Kl("%Y-%m-%dT%H:%M:%S.%LZ");Xl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Yl,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Yl.toString,fs.second=qt(function(t){return new hs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=qt(function(t){return new hs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=qt(function(t){var e=t.getTimezoneOffset()/60;return new hs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=qt(function(t){return t=fs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Zl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Ql=Xl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ne]]),Gl={range:function(t,e,n){return la.range(Math.ceil(t/n)*n,+e,n).map(ra)},floor:y,ceil:y};Jl.year=fs.year,fs.scale=function(){return oa(la.scale.linear(),Jl,Ql)};var tu=Jl.map(function(t){return[t[0].utc,t[1]]}),eu=Kl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ne]]);tu.year=fs.year.utc,fs.scale.utc=function(){return oa(la.scale.linear(),tu,eu)},la.text=Et(function(t){return t.responseText}),la.json=function(t,e){return Mt(t,"application/json",aa,e)},la.html=function(t,e){return Mt(t,"text/html",sa,e)},la.xml=Et(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=la,define(la)):"object"==typeof module&&module.exports?module.exports=la:this.d3=la}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return n===undefined&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){var e={$el:null,commentsById:{},usersById:{},dataFetched:!1,currentSortKey:"",options:{},events:{click:"closeDropdowns","keydown [contenteditable]":"saveOnKeydown","focus [contenteditable]":"saveEditableContent","keyup [contenteditable]":"checkEditableContentForChange","paste [contenteditable]":"checkEditableContentForChange","input [contenteditable]":"checkEditableContentForChange","blur [contenteditable]":"checkEditableContentForChange","click .navigation li[data-sort-key]":"navigationElementClicked","click .navigation li.title":"toggleNavigationDropdown","click .commenting-field.main .textarea":"showMainCommentingField","click .commenting-field.main .close":"hideMainCommentingField","click .commenting-field .textarea":"increaseTextareaHeight","change .commenting-field .textarea":"increaseTextareaHeight textareaContentChanged","click .commenting-field:not(.main) .close":"removeCommentingField","click .commenting-field .send.enabled":"postComment","click .commenting-field .update.enabled":"putComment","click .commenting-field .delete.enabled":"deleteComment",'change .commenting-field .upload.enabled input[type="file"]':"fileInputChanged","click li.comment button.upvote":"upvoteComment","click li.comment button.delete.enabled":"deleteComment","click li.comment .hashtag":"hashtagClicked","click li.comment .ping":"pingClicked","click li.comment ul.child-comments .toggle-all":"toggleReplies","click li.comment button.reply":"replyButtonClicked","click li.comment button.edit":"editButtonClicked",dragenter:"showDroppableOverlay","dragenter .droppable-overlay":"handleDragEnter","dragleave .droppable-overlay":"handleDragLeaveForOverlay","dragenter .droppable-overlay .droppable":"handleDragEnter","dragleave .droppable-overlay .droppable":"handleDragLeaveForDroppable","dragover .droppable-overlay":"handleDragOverForOverlay","drop .droppable-overlay":"handleDrop","click .dropdown.autocomplete":"stopPropagation","mousedown .dropdown.autocomplete":"stopPropagation","touchstart .dropdown.autocomplete":"stopPropagation"},getDefaultOptions:function(){return{profilePictureURL:"",currentUserIsAdmin:!1,currentUserId:null,spinnerIconURL:"",upvoteIconURL:"",replyIconURL:"",uploadIconURL:"",attachmentIconURL:"",fileIconURL:"",noCommentsIconURL:"",textareaPlaceholderText:"Add a comment",newestText:"Newest",oldestText:"Oldest",popularText:"Popular",attachmentsText:"Attachments",sendText:"Send",replyText:"Reply",editText:"Edit",editedText:"Edited",youText:"You",saveText:"Save",deleteText:"Delete",newText:"New",viewAllRepliesText:"View all __replyCount__ replies",hideRepliesText:"Hide replies",noCommentsText:"No comments",noAttachmentsText:"No attachments",attachmentDropText:"Drop files here",textFormatter:function(t){return t},enableReplying:!0,enableEditing:!0,enableUpvoting:!0,enableDeleting:!0,enableAttachments:!1,enableHashtags:!1,enablePinging:!1,enableDeletingCommentWithReplies:!1,enableNavigation:!0,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,defaultNavigationSortKey:"newest",highlightColor:"#2793e6",deleteButtonColor:"#C9302C",scrollContainer:this.$el,roundProfilePictures:!1,textareaRows:2,textareaRowsOnFocus:2,textareaMaxRows:5,maxRepliesVisible:2,fieldMappings:{id:"id",parent:"parent",created:"created",modified:"modified",content:"content",file:"file",fileURL:"file_url",fileMimeType:"file_mime_type",pings:"pings",creator:"creator",fullname:"fullname",
profileURL:"profile_url",profilePictureURL:"profile_picture_url",isNew:"is_new",createdByAdmin:"created_by_admin",createdByCurrentUser:"created_by_current_user",upvoteCount:"upvote_count",userHasUpvoted:"user_has_upvoted"},getUsers:function(t){t([])},getComments:function(t){t([])},postComment:function(t,e){e(t)},putComment:function(t,e){e(t)},deleteComment:function(t,e){e()},upvoteComment:function(t,e){e(t)},hashtagClicked:function(){},pingClicked:function(){},uploadAttachments:function(t,e){e(t)},refresh:function(){},timeFormatter:function(t){return new Date(t).toLocaleDateString()}}},init:function(e,n){this.$el=t(n),this.$el.addClass("jquery-comments"),this.undelegateEvents(),this.delegateEvents(),function(t){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),t.browser.mobile&&this.$el.addClass("mobile"),this.options=t.extend(!0,{},this.getDefaultOptions(),e),this.options.readOnly&&this.$el.addClass("read-only"),this.currentSortKey=this.options.defaultNavigationSortKey,this.createCssDeclarations(),this.fetchDataAndRender()},delegateEvents:function(){this.bindEvents(!1)},undelegateEvents:function(){this.bindEvents(!0)},bindEvents:function(e){var n=e?"off":"on";for(var i in this.events){var o=i.split(" ")[0],r=i.split(" ").slice(1).join(" "),a=this.events[i].split(" ");for(var s in a)if(a.hasOwnProperty(s)){var l=this[a[s]];l=t.proxy(l,this),""==r?this.$el[n](o,l):this.$el[n](o,r,l)}}},fetchDataAndRender:function(){var e=this;this.commentsById={},this.usersById={},this.$el.empty(),this.createHTML();var n=this.after(this.options.enablePinging?2:1,function(){e.dataFetched=!0,e.render()}),i=function(i){var o=i.map(function(t){return e.createCommentModel(t)});e.sortComments(o,"oldest"),t(o).each(function(t,n){e.addCommentToDataModel(n)}),n()};if(this.options.getComments(i,n),this.options.enablePinging){var o=function(i){t(i).each(function(t,n){e.usersById[n.id]=n}),n()};this.options.getUsers(o,n)}},fetchNext:function(){var e=this,n=this.createSpinner();this.$el.find("ul#comment-list").append(n);var i=function(i){t(i).each(function(t,n){e.createComment(n)}),n.remove()},o=function(){n.remove()};this.options.getComments(i,o)},createCommentModel:function(t){var e=this.applyInternalMappings(t);return e.childs=[],e},addCommentToDataModel:function(t){if(!(t.id in this.commentsById)&&(this.commentsById[t.id]=t,t.parent)){this.getOutermostParent(t.parent).childs.push(t.id)}},updateCommentModel:function(e){t.extend(this.commentsById[e.id],e)},render:function(){this.dataFetched&&(this.showActiveContainer(),this.createComments(),this.options.enableAttachments&&this.createAttachments(),this.$el.find("> .spinner").remove(),this.options.refresh())},showActiveContainer:function(){var t=this.$el.find(".navigation li[data-container-name].active"),e=t.data("container-name"),n=this.$el.find('[data-container="'+e+'"]');n.siblings("[data-container]").hide(),n.show()},createComments:function(){var e=this;this.$el.find("#comment-list").remove();var n=t("<ul/>",{id:"comment-list","class":"main"}),i=[],o=[];t(this.getComments()).each(function(t,e){null==e.parent?i.push(e):o.push(e)}),this.sortComments(i,this.currentSortKey),i.reverse(),t(i).each(function(t,i){e.addComment(i,n)}),this.sortComments(o,"oldest"),t(o).each(function(t,i){e.addComment(i,n)}),this.$el.find('[data-container="comments"]').prepend(n)},createAttachments:function(){var e=this;this.$el.find("#attachment-list").remove();var n=t("<ul/>",{id:"attachment-list","class":"main"}),i=this.getAttachments();this.sortComments(i,"newest"),i.reverse(),t(i).each(function(t,i){e.addAttachment(i,n)}),this.$el.find('[data-container="attachments"]').prepend(n)},addComment:function(t,e){e=e||this.$el.find("#comment-list");var n=this.createCommentElement(t);if(t.parent){var i=e.find('.comment[data-id="'+t.parent+'"]');this.reRenderCommentActionBar(t.parent);var o=i.parents(".comment").last();0==o.length&&(o=i);var r=o.find(".child-comments"),a=r.find(".commenting-field");a.length?a.before(n):r.append(n),this.updateToggleAllButton(o)}else e.prepend(n)},addAttachment:function(t,e){e=e||this.$el.find("#attachment-list");var n=this.createCommentElement(t);e.prepend(n)},removeComment:function(e){var n=this,i=this.commentsById[e],o=this.getChildComments(i.id);if(t(o).each(function(t,e){n.removeComment(e.id)}),i.parent){var r=this.getOutermostParent(i.parent),a=r.childs.indexOf(i.id);r.childs.splice(a,1)}delete this.commentsById[e];var s=this.$el.find('li.comment[data-id="'+e+'"]'),l=s.parents("li.comment").last();s.remove(),this.updateToggleAllButton(l)},uploadAttachments:function(e,n){var i=this;n||(n=this.$el.find(".commenting-field.main"));var o=!n.hasClass("main"),r=e.length;if(r){var a=n.find(".upload"),s=n.find(".textarea");a.removeClass("enabled");var l=this.createSpinner(),u=this.createSpinner();this.$el.find("ul#attachment-list").prepend(l),o?n.before(u):this.$el.find("ul#comment-list").prepend(u);var c=function(e){t(e).each(function(t,e){var n=i.createCommentModel(e);i.addCommentToDataModel(n),i.addComment(n),i.addAttachment(n)}),e.length==r&&0==i.getTextareaContent(s).length&&n.find(".close").trigger("click"),a.addClass("enabled"),u.remove(),l.remove()},d=function(){a.addClass("enabled"),u.remove(),l.remove()},f=[];t(e).each(function(t,e){var n=i.createCommentJSON(s);n.id+="-"+t,n.content="",n.file=e,n.fileURL="C:/fakepath/"+e.name,n.fileMimeType=e.type,n=i.applyExternalMappings(n),f.push(n)}),i.options.uploadAttachments(f,c,d)}a.find("input").val("")},updateToggleAllButton:function(e){if(null!=this.options.maxRepliesVisible){var n=e.find(".child-comments"),i=n.find(".comment"),o=n.find("li.toggle-all");if(i.removeClass("hidden-reply"),0===this.options.maxRepliesVisible)var r=i;else var r=i.slice(0,-this.options.maxRepliesVisible);if(r.addClass("hidden-reply"),o.find("span.text").text()==this.options.textFormatter(this.options.hideRepliesText)&&r.addClass("visible"),i.length>this.options.maxRepliesVisible){if(!o.length){o=t("<li/>",{"class":"toggle-all highlight-font-bold"});var a=t("<span/>",{"class":"text"}),s=t("<span/>",{"class":"caret"});o.append(a).append(s),n.prepend(o)}this.setToggleAllButtonText(o,!1)}else o.remove()}},sortComments:function(t,e){var n=this;"popularity"==e?t.sort(function(t,e){var i=t.childs.length,o=e.childs.length;if(n.options.enableUpvoting&&(i+=t.upvoteCount,o+=e.upvoteCount),o!=i)return o-i;var r=new Date(t.created).getTime();return new Date(e.created).getTime()-r}):t.sort(function(t,n){var i=new Date(t.created).getTime(),o=new Date(n.created).getTime();return"oldest"==e?i-o:o-i})},sortUsers:function(t){t.sort(function(t,e){var n=t.fullname.toLowerCase().trim(),i=e.fullname.toLowerCase().trim();return n<i?-1:n>i?1:0})},sortAndReArrangeComments:function(e){var n=this.$el.find("#comment-list"),i=this.getComments().filter(function(t){return!t.parent});this.sortComments(i,e),t(i).each(function(t,e){var i=n.find("> li.comment[data-id="+e.id+"]");n.append(i)})},showActiveSort:function(){var t=this.$el.find('.navigation li[data-sort-key="'+this.currentSortKey+'"]');this.$el.find(".navigation li").removeClass("active"),t.addClass("active");var e=this.$el.find(".navigation .title");if("attachments"!=this.currentSortKey)e.addClass("active"),e.find("header").html(t.first().html());else{var n=this.$el.find(".navigation ul.dropdown").children().first();e.find("header").html(n.html())}this.showActiveContainer()},forceResponsive:function(){this.$el.addClass("responsive")},closeDropdowns:function(){this.$el.find(".dropdown").hide()},saveOnKeydown:function(e){if(13==e.keyCode){var n=e.metaKey||e.ctrlKey;if(this.options.postCommentOnEnter||n){t(e.currentTarget).siblings(".control-row").find(".save").trigger("click"),e.stopPropagation(),e.preventDefault()}}},saveEditableContent:function(e){var n=t(e.currentTarget);n.data("before",n.html())},checkEditableContentForChange:function(e){var n=t(e.currentTarget);n.data("before")!=n.html()&&(n.data("before",n.html()),n.trigger("change"))},navigationElementClicked:function(e){var n=t(e.currentTarget),i=n.data().sortKey;"attachments"!=i&&this.sortAndReArrangeComments(i),this.currentSortKey=i,this.showActiveSort()},toggleNavigationDropdown:function(e){e.stopPropagation(),t(e.currentTarget).find("~ .dropdown").toggle()},showMainCommentingField:function(e){var n=t(e.currentTarget);n.siblings(".control-row").show(),n.parent().find(".close").show(),n.focus()},hideMainCommentingField:function(e){var n=t(e.currentTarget),i=this.$el.find(".commenting-field.main .textarea"),o=this.$el.find(".commenting-field.main .control-row");this.clearTextarea(i),this.adjustTextareaHeight(i,!1),o.hide(),n.hide(),i.blur()},increaseTextareaHeight:function(e){var n=t(e.currentTarget);this.adjustTextareaHeight(n,!0)},textareaContentChanged:function(e){var n=t(e.currentTarget),i=n.siblings(".control-row").find(".save");if(!n.find(".reply-to.tag").length){var o=n.attr("data-comment");if(o){var r=n.parents("li.comment");if(r.length>1){var a=r.last().data("id");n.attr("data-parent",a)}}else{var a=n.parents("li.comment").last().data("id");n.attr("data-parent",a)}}var s=n.parents(".commenting-field").first();n[0].scrollHeight>n.outerHeight()?s.addClass("scrollable"):s.removeClass("scrollable");var l=!0,u=this.getTextareaContent(n,!0);if(o=n.attr("data-comment")){var c,d=u!=this.commentsById[o].content;this.commentsById[o].parent&&(c=this.commentsById[o].parent.toString());var f=n.attr("data-parent")!=c;l=d||f}u.length&&l?i.addClass("enabled"):i.removeClass("enabled")},removeCommentingField:function(e){var n=t(e.currentTarget);n.siblings(".textarea").attr("data-comment")&&n.parents("li.comment").first().removeClass("edit"),n.parents(".commenting-field").first().remove()},postComment:function(e){var n=this,i=t(e.currentTarget),o=i.parents(".commenting-field").first(),r=o.find(".textarea");i.removeClass("enabled");var a=this.createCommentJSON(r);a=this.applyExternalMappings(a);var s=function(t){n.createComment(t),o.find(".close").trigger("click")},l=function(){i.addClass("enabled")};this.options.postComment(a,s,l)},createComment:function(t){var e=this.createCommentModel(t);this.addCommentToDataModel(e),this.addComment(e)},putComment:function(e){var n=this,i=t(e.currentTarget),o=i.parents(".commenting-field").first(),r=o.find(".textarea");i.removeClass("enabled");var a=t.extend({},this.commentsById[r.attr("data-comment")]);t.extend(a,{parent:r.attr("data-parent")||null,content:this.getTextareaContent(r),pings:this.getPings(r),modified:(new Date).getTime()}),a=this.applyExternalMappings(a);var s=function(t){var e=n.createCommentModel(t);delete e.childs,n.updateCommentModel(e),o.find(".close").trigger("click"),n.reRenderComment(e.id)},l=function(){i.addClass("enabled")};this.options.putComment(a,s,l)},deleteComment:function(e){var n=this,i=t(e.currentTarget),o=i.parents(".comment").first(),r=t.extend({},this.commentsById[o.attr("data-id")]),a=r.id,s=r.parent;i.removeClass("enabled"),r=this.applyExternalMappings(r);var l=function(){n.removeComment(a),s&&n.reRenderCommentActionBar(s)},u=function(){i.addClass("enabled")};this.options.deleteComment(r,l,u)},hashtagClicked:function(e){var n=t(e.currentTarget),i=n.attr("data-value");this.options.hashtagClicked(i)},pingClicked:function(e){var n=t(e.currentTarget),i=n.attr("data-value");this.options.pingClicked(i)},fileInputChanged:function(e,n){var n=e.currentTarget.files,i=t(e.currentTarget).parents(".commenting-field").first();this.uploadAttachments(n,i)},upvoteComment:function(e){var n,i=this,o=t(e.currentTarget).parents("li.comment").first(),r=o.data().model,a=r.upvoteCount;n=r.userHasUpvoted?a-1:a+1,r.userHasUpvoted=!r.userHasUpvoted,r.upvoteCount=n,this.reRenderUpvotes(r.id);var s=t.extend({},r);s=this.applyExternalMappings(s);var l=function(t){var e=i.createCommentModel(t);i.updateCommentModel(e),i.reRenderUpvotes(e.id)},u=function(){r.userHasUpvoted=!r.userHasUpvoted,r.upvoteCount=a,i.reRenderUpvotes(r.id)};this.options.upvoteComment(s,l,u)},toggleReplies:function(e){var n=t(e.currentTarget);n.siblings(".hidden-reply").toggleClass("visible"),this.setToggleAllButtonText(n,!0)},replyButtonClicked:function(e){var n=t(e.currentTarget),i=n.parents("li.comment").last(),o=n.parents(".comment").first().data().id,r=i.find(".child-comments > .commenting-field");if(r.length&&r.remove(),r.find(".textarea").attr("data-parent")!=o){r=this.createCommentingFieldElement(o),i.find(".child-comments").append(r);var a=r.find(".textarea");this.moveCursorToEnd(a);var s=this.options.scrollContainer.scrollTop(),l=s+r.position().top+r.outerHeight(),u=s+this.options.scrollContainer.outerHeight();if(l>u){var c=s+(l-u);this.options.scrollContainer.scrollTop(c)}}},editButtonClicked:function(e){var n=t(e.currentTarget),i=n.parents("li.comment").first(),o=i.data().model;i.addClass("edit");var r=this.createCommentingFieldElement(o.parent,o.id);i.find(".comment-wrapper").first().append(r);var a=r.find(".textarea");a.attr("data-comment",o.id),a.append(this.getFormattedCommentContent(o,!0)),this.moveCursorToEnd(a)},showDroppableOverlay:function(){this.options.enableAttachments&&(this.$el.find(".droppable-overlay").css("top",this.$el[0].scrollTop),this.$el.find(".droppable-overlay").show(),this.$el.addClass("drag-ongoing"))},handleDragEnter:function(e){var n=t(e.currentTarget).data("dnd-count")||0;n++,t(e.currentTarget).data("dnd-count",n),t(e.currentTarget).addClass("drag-over")},handleDragLeave:function(e,n){var i=t(e.currentTarget).data("dnd-count");i--,t(e.currentTarget).data("dnd-count",i),0==i&&(t(e.currentTarget).removeClass("drag-over"),n&&n())},handleDragLeaveForOverlay:function(t){var e=this;this.handleDragLeave(t,function(){e.hideDroppableOverlay()})},handleDragLeaveForDroppable:function(t){this.handleDragLeave(t)},handleDragOverForOverlay:function(t){t.stopPropagation(),t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="copy"},hideDroppableOverlay:function(){this.$el.find(".droppable-overlay").hide(),this.$el.removeClass("drag-ongoing")},handleDrop:function(e){e.preventDefault(),t(e.target).trigger("dragleave"),this.hideDroppableOverlay(),this.uploadAttachments(e.originalEvent.dataTransfer.files)},stopPropagation:function(t){t.stopPropagation()},createHTML:function(){var e=this.createCommentingFieldElement();e.addClass("main"),this.$el.append(e),e.find(".control-row").hide(),e.find(".close").hide(),this.options.enableNavigation&&(this.$el.append(this.createNavigationElement()),this.showActiveSort());var n=this.createSpinner();this.$el.append(n);var i=t("<div/>",{"class":"data-container","data-container":"comments"});this.$el.append(i);var o=t("<div/>",{"class":"no-comments no-data",text:this.options.textFormatter(this.options.noCommentsText)}),r=t("<i/>",{"class":"fa fa-comments fa-2x"});if(this.options.noCommentsIconURL.length&&(r.css("background-image",'url("'+this.options.noCommentsIconURL+'")'),r.addClass("image")),o.prepend(t("<br/>")).prepend(r),i.append(o),this.options.enableAttachments){var a=t("<div/>",{"class":"data-container","data-container":"attachments"});this.$el.append(a);var s=t("<div/>",{"class":"no-attachments no-data",text:this.options.textFormatter(this.options.noAttachmentsText)}),l=t("<i/>",{"class":"fa fa-paperclip fa-2x"});this.options.attachmentIconURL.length&&(l.css("background-image",'url("'+this.options.attachmentIconURL+'")'),l.addClass("image")),s.prepend(t("<br/>")).prepend(l),a.append(s);var u=t("<div/>",{"class":"droppable-overlay"}),c=t("<div/>",{"class":"droppable-container"}),d=t("<div/>",{"class":"droppable"}),f=t("<i/>",{"class":"fa fa-upload fa-4x"});this.options.uploadIconURL.length&&(f.css("background-image",'url("'+this.options.uploadIconURL+'")'),f.addClass("image"));var h=t("<div/>",{text:this.options.textFormatter(this.options.attachmentDropText)});d.append(f),d.append(h),u.html(c.html(d)).hide(),this.$el.append(u)}},createProfilePictureElement:function(e){if(e)var n=t("<img/>",{src:e});else var n=t("<i/>",{"class":"fa fa-user"});return n.addClass("profile-picture"),this.options.roundProfilePictures&&n.addClass("round"),n},createCommentingFieldElement:function(e,n){var i=this,o=t("<div/>",{"class":"commenting-field"});if(n)var r=this.commentsById[n].profilePictureURL;else var r=this.options.profilePictureURL;var a=this.createProfilePictureElement(r),s=t("<div/>",{"class":"textarea-wrapper"}),l=t("<div/>",{"class":"control-row"}),u=t("<div/>",{"class":"textarea","data-placeholder":this.options.textFormatter(this.options.textareaPlaceholderText),contenteditable:!0});this.adjustTextareaHeight(u,!1);var c=t("<span/>",{"class":"close"}).append(t('<span class="left"/>')).append(t('<span class="right"/>'));if(n){var d=this.options.textFormatter(this.options.saveText),f=t("<span/>",{"class":"delete",text:this.options.textFormatter(this.options.deleteText)}).css("background-color",this.options.deleteButtonColor);l.append(f),this.isAllowedToDelete(n)&&f.addClass("enabled")}else{var d=this.options.textFormatter(this.options.sendText);if(this.options.enableAttachments){var h=t("<span/>",{"class":"enabled upload"}),p=t("<i/>",{"class":"fa fa-upload"}),m=t("<input/>",{type:"file","data-role":"none"});t.browser.mobile||m.attr("multiple","multiple"),this.options.uploadIconURL.length&&(p.css("background-image",'url("'+this.options.uploadIconURL+'")'),p.addClass("image")),h.append(p).append(m),l.append(h)}}var g=n?"update":"send",v=t("<span/>",{"class":g+" save highlight-background",text:d});if(l.prepend(v),s.append(c).append(u).append(l),o.append(a).append(s),e){u.attr("data-parent",e);var y=this.commentsById[e];if(y.parent){u.html("&nbsp;");var b="@"+y.fullname,w=this.createTagElement(b,"reply-to",y.creator);u.prepend(w)}}return this.options.enablePinging&&(u.textcomplete([{match:/(^|\s)@(([a-z\xe4\xf6\xfc\xdf]|\s)*)$/im,search:function(e,n){e=i.normalizeSpaces(e);var o=i.getPings(u),r=i.getUsers().filter(function(t){var e=t.id==i.options.currentUserId,n=-1!=o.indexOf(t.id);return!e&&!n});i.sortUsers(r),n(t.map(r,function(t){var n=e.toLowerCase();return-1!=t.fullname.toLowerCase().indexOf(n)?t:null}))},template:function(e){var n=t("<div/>"),i=t("<img/>",{src:e.profile_picture_url,"class":"profile-picture round"}),o=t("<div/>",{"class":"details"}),r=t("<div/>",{"class":"name"}).html(e.fullname),a=t("<div/>",{"class":"email"}).html(e.email);return e.email?o.append(r).append(a):(o.addClass("no-email"),o.append(r)),n.append(i).append(o),n.html()},replace:function(t){return" "+i.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML+" "}}],{appendTo:".jquery-comments",dropdownClassName:"dropdown autocomplete",maxCount:5,rightEdgeOffset:0}),t.fn.textcomplete.Dropdown.prototype.render=function(e){var n=this._buildContents(e),o=t.map(e,function(t){return t.value});if(e.length){var r=e[0].strategy;r.id?this.$el.attr("data-strategy",r.id):this.$el.removeAttr("data-strategy"),this._renderHeader(o),this._renderFooter(o),n&&(this._renderContents(n),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(o):this.shown&&this.deactivate();var a=parseInt(this.$el.css("top"))+i.options.scrollContainer.scrollTop();this.$el.css("top",a);var s=this.$el.css("left");this.$el.css("left",0);var l=i.$el.width()-this.$el.outerWidth(),u=Math.min(l,parseInt(s));this.$el.css("left",u)}),o},createNavigationElement:function(){var e=t("<ul/>",{"class":"navigation"}),n=t("<div/>",{"class":"navigation-wrapper"});e.append(n);var i=t("<li/>",{text:this.options.textFormatter(this.options.newestText),"data-sort-key":"newest","data-container-name":"comments"}),o=t("<li/>",{text:this.options.textFormatter(this.options.oldestText),"data-sort-key":"oldest","data-container-name":"comments"}),r=t("<li/>",{text:this.options.textFormatter(this.options.popularText),"data-sort-key":"popularity","data-container-name":"comments"}),a=t("<li/>",{text:this.options.textFormatter(this.options.attachmentsText),"data-sort-key":"attachments","data-container-name":"attachments"}),s=t("<i/>",{"class":"fa fa-paperclip"});this.options.attachmentIconURL.length&&(s.css("background-image",'url("'+this.options.attachmentIconURL+'")'),s.addClass("image")),a.prepend(s);var l=t("<div/>",{"class":"navigation-wrapper responsive"}),u=t("<ul/>",{"class":"dropdown"}),c=t("<li/>",{"class":"title"}),d=t("<header/>");return c.append(d),l.append(c),l.append(u),e.append(l),n.append(i).append(o),u.append(i.clone()).append(o.clone()),(this.options.enableReplying||this.options.enableUpvoting)&&(n.append(r),u.append(r.clone())),this.options.enableAttachments&&(n.append(a),l.append(a.clone())),this.options.forceResponsive&&this.forceResponsive(),e},createSpinner:function(){var e=t("<div/>",{"class":"spinner"}),n=t("<i/>",{"class":"fa fa-spinner fa-spin"});return this.options.spinnerIconURL.length&&(n.css("background-image",'url("'+this.options.spinnerIconURL+'")'),n.addClass("image")),e.html(n),e},createCommentElement:function(e){var n=t("<li/>",{"data-id":e.id,"class":"comment"}).data("model",e);e.createdByCurrentUser&&n.addClass("by-current-user"),e.createdByAdmin&&n.addClass("by-admin");var i=t("<ul/>",{"class":"child-comments"}),o=this.createCommentWrapperElement(e);return n.append(o),null==e.parent&&n.append(i),n},createCommentWrapperElement:function(e){var n=t("<div/>",{"class":"comment-wrapper"}),i=this.createProfilePictureElement(e.profilePictureURL),o=t("<time/>",{text:this.options.timeFormatter(e.created),"data-original":e.created}),r=e.createdByCurrentUser?this.options.textFormatter(this.options.youText):e.fullname,a=t("<div/>",{"class":"name"});if(e.profileURL){var s=t("<a/>",{href:e.profileURL,text:r});a.html(s)}else a.text(r);if((e.createdByCurrentUser||e.createdByAdmin)&&a.addClass("highlight-font-bold"),e.parent){var l=this.commentsById[e.parent];if(l.parent){var u=t("<span/>",{"class":"reply-to",text:l.fullname}),c=t("<i/>",{"class":"fa fa-share"});this.options.replyIconURL.length&&(c.css("background-image",'url("'+this.options.replyIconURL+'")'),c.addClass("image")),u.prepend(c),a.append(u)}}if(e.isNew){var d=t("<span/>",{"class":"new highlight-background",text:this.options.newText});a.append(d)}var f=t("<div/>",{"class":"wrapper"}),h=t("<div/>",{"class":"content"}),p=e.fileURL!=undefined;if(p){var m=null,g=null;if(e.fileMimeType){var v=e.fileMimeType.split("/");2==v.length&&(m=v[1],g=v[0])}var s=t("<a/>",{"class":"attachment",href:e.fileURL,target:"_blank"});if("image"==g){var y=t("<img/>",{src:e.fileURL});s.html(y)}else if("video"==g){var b=t("<video/>",{src:e.fileURL,type:e.fileMimeType,controls:"controls"});s.html(b)}else{var w=["archive","audio","code","excel","image","movie","pdf","photo","picture","powerpoint","sound","video","word","zip"],x="fa fa-file-o";w.indexOf(m)>0?x="fa fa-file-"+m+"-o":w.indexOf(g)>0&&(x="fa fa-file-"+g+"-o");var C=t("<i/>",{"class":x});this.options.fileIconURL.length&&(C.css("background-image",'url("'+this.options.fileIconURL+'")'),C.addClass("image"));var k=e.fileURL.split("/"),T=k[k.length-1];T=T.split("?")[0],T=decodeURIComponent(T),s.text(T),s.prepend(C)}h.html(s)}else h.html(this.getFormattedCommentContent(e));if(e.modified&&e.modified!=e.created){var _=this.options.timeFormatter(e.modified),S=t("<time/>",{"class":"edited",text:this.options.textFormatter(this.options.editedText)+" "+_,"data-original":e.modified});h.append(S)}var E=t("<span/>",{"class":"actions"}),M=t("<span/>",{"class":"separator",text:"\xb7"}),N=t("<button/>",{"class":"action reply",type:"button",text:this.options.textFormatter(this.options.replyText)}),A=t("<i/>",{"class":"fa fa-thumbs-up"});this.options.upvoteIconURL.length&&(A.css("background-image",'url("'+this.options.upvoteIconURL+'")'),A.addClass("image"));var $=this.createUpvoteElement(e);if(this.options.enableReplying&&E.append(N),this.options.enableUpvoting&&E.append($),e.createdByCurrentUser||this.options.currentUserIsAdmin)if(p&&this.isAllowedToDelete(e.id)){var I=t("<button/>",{"class":"action delete enabled",text:this.options.textFormatter(this.options.deleteText)});E.append(I)}else if(!p&&this.options.enableEditing){var D=t("<button/>",{"class":"action edit",text:this.options.textFormatter(this.options.editText)});E.append(D)}return E.children().each(function(e,n){t(n).is(":last-child")||t(n).after(M.clone())}),f.append(h),f.append(E),n.append(i).append(o).append(a).append(f),n},createUpvoteElement:function(e){var n=t("<i/>",{"class":"fa fa-thumbs-up"});return this.options.upvoteIconURL.length&&(n.css("background-image",'url("'+this.options.upvoteIconURL+'")'),n.addClass("image")),t("<button/>",{"class":"action upvote"+(e.userHasUpvoted?" highlight-font":"")}).append(t("<span/>",{text:e.upvoteCount,"class":"upvote-count"})).append(n)},createTagElement:function(e,n,i){var o=t("<input/>",{"class":"tag",type:"button","data-role":"none"});return n&&o.addClass(n),o.val(e),o.attr("data-value",i),o},reRenderComment:function(e){var n=this.commentsById[e],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(e,o){var r=i.createCommentWrapperElement(n);t(o).find(".comment-wrapper").first().replaceWith(r)})},reRenderCommentActionBar:function(e){var n=this.commentsById[e],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(e,o){var r=i.createCommentWrapperElement(n);t(o).find(".actions").first().replaceWith(r.find(".actions"))})},reRenderUpvotes:function(e){var n=this.commentsById[e],i=this;this.$el.find('li.comment[data-id="'+n.id+'"]').each(function(e,o){var r=i.createUpvoteElement(n);t(o).find(".upvote").first().replaceWith(r)})},createCssDeclarations:function(){t("head style.jquery-comments-css").remove(),this.createCss(".jquery-comments ul.navigation li.active:after {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments ul.navigation ul.dropdown li.active {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-background {background: "+this.options.highlightColor+" !important;",NaN),this.createCss(".jquery-comments .highlight-font {color: "+this.options.highlightColor+" !important;}"),this.createCss(".jquery-comments .highlight-font-bold {color: "+this.options.highlightColor+" !important;font-weight: bold;}")},createCss:function(e){var n=t("<style/>",{type:"text/css","class":"jquery-comments-css",text:e});t("head").append(n)},getComments:function(){var t=this;return Object.keys(this.commentsById).map(function(e){return t.commentsById[e]})},getUsers:function(){var t=this;return Object.keys(this.usersById).map(function(e){return t.usersById[e]})},getChildComments:function(t){return this.getComments().filter(function(e){return e.parent==t})},getAttachments:function(){return this.getComments().filter(function(t){return t.fileURL!=undefined})},getOutermostParent:function(t){var e=t;do{var n=this.commentsById[e];e=n.parent}while(null!=n.parent);return n},createCommentJSON:function(t){var e=(new Date).toISOString();return{id:"c"+(this.getComments().length+1),parent:t.attr("data-parent")||null,created:e,modified:e,content:this.getTextareaContent(t),pings:this.getPings(t),fullname:this.options.textFormatter(this.options.youText),profilePictureURL:this.options.profilePictureURL,createdByCurrentUser:!0,upvoteCount:0,userHasUpvoted:!1}},isAllowedToDelete:function(e){if(this.options.enableDeleting){var n=!0;return this.options.enableDeletingCommentWithReplies||t(this.getComments()).each(function(t,i){i.parent==e&&(n=!1)}),n}return!1},setToggleAllButtonText:function(t,e){var n=this,i=t.find("span.text"),o=t.find(".caret"),r=function(){var e=n.options.textFormatter(n.options.viewAllRepliesText),o=t.siblings(".comment").length;e=e.replace("__replyCount__",o),i.text(e)},a=this.options.textFormatter(this.options.hideRepliesText);e?(i.text()==a?r():i.text(a),o.toggleClass("up")):i.text()!=a&&r()},adjustTextareaHeight:function(e,n){var i=2.2,o=1.45,r=function(t){var n=i+(t-1)*o;e.css("height",n+"em")};e=t(e);var a=1==n?this.options.textareaRowsOnFocus:this.options.textareaRows;do{r(a),a++;var s=e[0].scrollHeight>e.outerHeight(),l=0!=this.options.textareaMaxRows&&a>this.options.textareaMaxRows}while(s&&!l)},clearTextarea:function(t){t.empty().trigger("input")},getTextareaContent:function(e,n){var i=e.clone();i.find(".reply-to.tag").remove(),i.find(".tag.hashtag").replaceWith(function(){return n?t(this).val():"#"+t(this).attr("data-value")}),i.find(".tag.ping").replaceWith(function(){return n?t(this).val():"@"+t(this).attr("data-value")});var o=t("<pre/>").html(i.html());o.find("div, p, br").replaceWith(function(){return"\n"+this.innerHTML});var r=o.text().replace(/^\s+/g,""),r=this.normalizeSpaces(r);return r},getFormattedCommentContent:function(t,e){var n=this.escape(t.content);return n=this.linkify(n),n=this.highlightTags(t,n),e&&(n=n.replace(/(?:\n)/g,"<br>")),n},getPings:function(e){return t.map(e.find(".ping"),function(e){return parseInt(t(e).attr("data-value"))})},moveCursorToEnd:function(e){if(e=t(e)[0],t(e).trigger("input"),t(e).scrollTop(e.scrollHeight),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)}else if("undefined"!=typeof document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(e),o.collapse(!1),o.select()}e.focus()},escape:function(e){return t("<pre/>").text(this.normalizeSpaces(e)).html()},normalizeSpaces:function(t){return t.replace(new RegExp("\xa0","g")," ")},after:function(t,e){var n=this;return function(){if(0==--t)return e.apply(n,arguments)}},highlightTags:function(t,e){return this.options.enableHashtags&&(e=this.highlightHashtags(t,e)),this.options.enablePinging&&(e=this.highlightPings(t,e)),e},highlightHashtags:function(t,e){var n=this;if(-1!=e.indexOf("#")){var i=function(t){var t=n.createTagElement("#"+t,"hashtag",t);return t[0].outerHTML},o=/(^|\s)#([a-z\xe4\xf6\xfc\xdf\d-_]+)/gim;e=e.replace(o,function(t,e,n){return e+i(n)})}return e},highlightPings:function(e,n){var i=this;if(-1!=n.indexOf("@")){var o=function(t){return i.createTagElement("@"+t.fullname,"ping",t.id)[0].outerHTML},r="";return t(e.pings).each(function(t,e){if(e in i.usersById){var a=i.usersById[e],s="@"+a.fullname,l=n.indexOf(s)+s.length,u=n.slice(0,l);r+=u.replace(s,o(a)),n=n.slice(l)}}),r+=n}return n},linkify:function(t){var e,n,i,o;if(n=/(^|\s)((https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(n,'$1<a href="$2" target="_blank">$2</a>'),i=/(^|\s)(www\.[\S]+(\b|$))/gim,e=e.replace(i,'$1<a href="http://$2" target="_blank">$2</a>'),o=/(^|\s)(([a-zA-Z0-9\-\_\.]+)@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(o,'$1<a href="mailto:$2">$2</a>'),
(t.match(/<a href/g)||[]).length>0){for(var r=t.split(/(<\/a>)/g),a=0;a<r.length;a++)null==r[a].match(/<a href/g)&&(r[a]=r[a].replace(n,'<a href="$1" target="_blank">$1</a>').replace(i,'$1<a href="http://$2" target="_blank">$2</a>').replace(o,'<a href="mailto:$1">$1</a>'));return r.join("")}return e},waitUntil:function(t,e){var n=this;t()?e():setTimeout(function(){n.waitUntil(t,e)},100)},applyInternalMappings:function(t){var e={},n=this.options.fieldMappings;for(var i in n)n.hasOwnProperty(i)&&(e[n[i]]=i);return this.applyMappings(e,t)},applyExternalMappings:function(t){var e=this.options.fieldMappings;return this.applyMappings(e,t)},applyMappings:function(t,e){var n={};for(var i in e)if(i in t){var o=t[i];n[o]=e[i]}return n}};t.fn.comments=function(n){return this.each(function(){var i=Object.create(e);t.data(this,"comments",i),i.init(n||{},this)})}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===r?[]:r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();n.call(r,s)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,a)),"string"==typeof e?r[e](i):a.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,a,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=r[0].offsetWidth,f=r[0].offsetHeight;if(u){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+f>p.bottom?"top":"top"==s&&c.top-f<p.top?"bottom":"right"==s&&c.right+d>p.width?"left":"left"==s&&c.left-d<p.left?"right":s,r.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,d,f);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=r&&(e.top=e.top+r-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),f=d?2*c.left-o+l:2*c.top-r+u,h=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(f,i[0][h],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:r?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,l,a)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=e.left-r,c=e.left+r+n;u<a.left?o.left=a.left-u:c>a.right&&(o.left=a.left+a.width-c)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear()
;for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(o[t+1]===undefined||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top,u=s?a:e;return null!=n&&o<=n?"top":null!=i&&l+u>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";var e,n="function"==typeof define&&define.amd,i=function(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",e+","+n).width();return i.remove(),o!==r},o=navigator.userAgent,r=/MSIE|Trident/i.test(o);if(r){var a=/MSIE (\d+[.]\d+)/.exec(o);a&&(e=parseFloat(a[1])),a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(o),a&&(e=parseFloat(a[1]))}var s=/Edge\/\d+/.test(o),l=!!window.CodeMirror;if(!l&&n)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),l=!0}catch(t){}else if("undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),l=!0}catch(t){}else"undefined"!=typeof require.specified&&(l=require.specified("codemirror"));var u="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,c={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isEdge:s,isFF:!s&&/firefox/i.test(o),isPhantom:/PhantomJS/i.test(o),isWebkit:!s&&/webkit/i.test(o),isChrome:!s&&/chrome/i.test(o),isSafari:!s&&/safari/i.test(o),browserVersion:e,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:n,isSupportTouch:u,hasCodeMirror:l,isFontInstalled:i,isW3CRangeSupport:!!document.createRange},d=function(){var e=function(t){return function(e){return t===e}},n=function(t,e){return t===e},i=function(t){return function(e,n){return e[t]===n[t]}},o=function(){return!0},r=function(){return!1},a=function(t){return function(){return!t.apply(t,arguments)}},s=function(t,e){return function(n){return t(n)&&e(n)}},l=0;return{eq:e,eq2:n,peq2:i,ok:o,fail:r,self:function(t){return t},not:a,and:s,invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++l+"";return t?t+e:e},rect2bnd:function(e){var n=t(document);return{top:e.top+n.scrollTop(),left:e.left+n.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},invertObject:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(t,e,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||t.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(o,r)}}}}(),f=function(){var e=function(t){return t[0]},n=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},o=function(t){return t.slice(1)},r=function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o))return o}},a=function(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0},s=function(e,n){return t.inArray(n,e)},l=function(t,e){return-1!==s(t,e)},u=function(t,e){return e=e||d.self,t.reduce(function(t,n){return t+e(n)},0)},c=function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},f=function(t){return!t||!t.length},h=function(t,i){return t.length?o(t).reduce(function(t,e){var o=n(t);return i(n(o),e)?o[o.length]=e:t[t.length]=[e],t},[[e(t)]]):[]},p=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},m=function(t){for(var e=[],n=0,i=t.length;n<i;n++)l(e,t[n])||e.push(t[n]);return e},g=function(t,e){var n=s(t,e);return-1===n?null:t[n+1]};return{head:e,last:n,initial:i,tail:o,prev:function(t,e){var n=s(t,e);return-1===n?null:t[n-1]},next:g,find:r,contains:l,all:a,sum:u,from:c,isEmpty:f,clusterBy:h,compact:p,unique:m}}(),h=String.fromCharCode(160),p="\ufeff",m=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},n=function(e){return e&&t(e).hasClass("note-control-sizing")},i=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},o=function(t){return t&&3===t.nodeType},r=function(t){return t&&1===t.nodeType},a=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())},s=function(t){return!e(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},l=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},u=i("PRE"),g=i("LI"),v=function(t){return s(t)&&!g(t)},y=i("TABLE"),b=i("DATA"),w=function(t){return!(_(t)||x(t)||C(t)||s(t)||y(t)||T(t)||b(t))},x=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},C=i("HR"),k=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},T=i("BLOCKQUOTE"),_=function(t){return k(t)||T(t)||e(t)},S=i("A"),E=function(t){return w(t)&&!!P(t,s)},M=function(t){return w(t)&&!P(t,s)},N=i("BODY"),A=function(t,e){return t.nextSibling===e||t.previousSibling===e},$=function(t,e){e=e||d.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n},I=c.isMSIE&&c.browserVersion<11?"&nbsp;":"<br>",D=function(t){return o(t)?t.nodeValue.length:t?t.childNodes.length:0},R=function(t){var e=D(t);return 0===e||(!o(t)&&1===e&&t.innerHTML===I||!(!f.all(t.childNodes,o)||""!==t.innerHTML))},L=function(t){a(t)||D(t)||(t.innerHTML=I)},P=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},j=function(t,n){for(t=t.parentNode;t&&1===D(t);){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},F=function(t,n){n=n||d.fail;var i=[];return P(t,function(t){return e(t)||i.push(t),n(t)}),i},H=function(t,e){var n=F(t);return f.last(n.filter(e))},q=function(e,n){for(var i=F(e),o=n;o;o=o.parentNode)if(t.inArray(o,i)>-1)return o;return null},O=function(t,e){e=e||d.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},z=function(t,e){e=e||d.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},U=function(t,e){var n=[];return e=e||d.ok,function i(o){t!==o&&e(o)&&n.push(o);for(var r=0,a=o.childNodes.length;r<a;r++)i(o.childNodes[r])}(t),n},B=function(e,n){var i=e.parentNode,o=t("<"+n+">")[0];return i.insertBefore(o,e),o.appendChild(e),o},W=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},V=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},X=function(t){return 0===t.offset},K=function(t){return t.offset===D(t.node)},Y=function(t){return X(t)||K(t)},Z=function(t,e){for(;t&&t!==e;){if(0!==tt(t))return!1;t=t.parentNode}return!0},J=function(t,e){if(!e)return!1;for(;t&&t!==e;){if(tt(t)!==D(t.parentNode)-1)return!1;t=t.parentNode}return!0},Q=function(t,e){return X(t)&&Z(t.node,e)},G=function(t,e){return K(t)&&J(t.node,e)},tt=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},et=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},nt=function(t,n){var i,o;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=tt(t.node)}else et(t.node)?(i=t.node.childNodes[t.offset-1],o=D(i)):(i=t.node,o=n?0:t.offset-1);return{node:i,offset:o}},it=function(t,n){var i,o;if(D(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=tt(t.node)+1}else et(t.node)?(i=t.node.childNodes[t.offset],o=0):(i=t.node,o=n?D(t.node):t.offset+1);return{node:i,offset:o}},ot=function(t,e){return t.node===e.node&&t.offset===e.offset},rt=function(t){if(o(t.node)||!et(t.node)||R(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!a(e)||n&&!a(n))},at=function(t,e){for(;t;){if(e(t))return t;t=nt(t)}return null},st=function(t,e){for(;t;){if(e(t))return t;t=it(t)}return null},lt=function(t){if(!o(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==h},ut=function(t,e,n,i){for(var o=t;o&&(n(o),!ot(o,e));){var r=i&&t.node!==o.node&&e.node!==o.node;o=it(o,r)}},ct=function(t,e){return F(e,d.eq(t)).map(tt).reverse()},dt=function(t,e){for(var n=t,i=0,o=e.length;i<o;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},ft=function(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(Y(t)&&(o(t.node)||i)){if(X(t))return t.node;if(K(t))return t.node.nextSibling}if(o(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=W(t.node.cloneNode(!1),t.node);return V(a,z(r)),n||(L(t.node),L(a)),a},ht=function(t,e,n){var i=F(e.node,d.eq(t));return i.length?1===i.length?ft(e,n):i.reduce(function(t,i){return t===e.node&&(t=ft(e,n)),ft({node:i,offset:t?m.position(t):D(i)},n)}):null},pt=function(t,e){var n,i,o=e?s:_,r=F(t.node,o),a=f.last(r)||t.node;o(a)?(n=r[r.length-2],i=a):(n=a,i=n.parentNode);var l=n&&ht(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return l||i!==t.node||(l=t.node.childNodes[t.offset]),{rightNode:l,container:i}},mt=function(t){return document.createElement(t)},gt=function(t){return document.createTextNode(t)},vt=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,o,r=[];for(i=0,o=t.childNodes.length;i<o;i++)r.push(t.childNodes[i]);for(i=0,o=r.length;i<o;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},yt=function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;vt(t),t=i}},bt=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=mt(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),V(n,f.from(t.childNodes)),W(n,t),vt(t),n},wt=i("TEXTAREA"),xt=function(t,e){var n=wt(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n},Ct=function(e,n){var i=xt(e);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")}),i=t.trim(i)}return i},kt=function(e){var n=t(e),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}},Tt=function(t,e){Object.keys(e).forEach(function(n){t.on(n,e[n])})},_t=function(t,e){Object.keys(e).forEach(function(n){t.off(n,e[n])})},St=function(t){return t&&!m.isText(t)&&f.contains(t.classList,"note-styletag")};return{NBSP_CHAR:h,ZERO_WIDTH_NBSP_CHAR:p,blank:I,emptyPara:"<p>"+I+"</p>",makePredByNodeName:i,isEditable:e,isControlSizing:n,isText:o,isElement:r,isVoid:a,isPara:s,isPurePara:v,isHeading:l,isInline:w,isBlock:d.not(w),isBodyInline:M,isBody:N,isParaInline:E,isPre:u,isList:x,isTable:y,isData:b,isCell:k,isBlockquote:T,isBodyContainer:_,isAnchor:S,isDiv:i("DIV"),isLi:g,isBR:i("BR"),isSpan:i("SPAN"),isB:i("B"),isU:i("U"),isS:i("S"),isI:i("I"),isImg:i("IMG"),isTextarea:wt,isEmpty:R,isEmptyAnchor:d.and(S,R),isClosestSibling:A,withClosestSiblings:$,nodeLength:D,isLeftEdgePoint:X,isRightEdgePoint:K,isEdgePoint:Y,isLeftEdgeOf:Z,isRightEdgeOf:J,isLeftEdgePointOf:Q,isRightEdgePointOf:G,prevPoint:nt,nextPoint:it,isSamePoint:ot,isVisiblePoint:rt,prevPointUntil:at,nextPointUntil:st,isCharPoint:lt,walkPoint:ut,ancestor:P,singleChildAncestor:j,listAncestor:F,lastAncestor:H,listNext:z,listPrev:O,listDescendant:U,commonAncestor:q,wrap:B,insertAfter:W,appendChildNodes:V,position:tt,hasChildren:et,makeOffsetPath:ct,fromOffsetPath:dt,splitTree:ht,splitPoint:pt,create:mt,createText:gt,remove:vt,removeWhile:yt,replace:bt,html:Ct,value:xt,posFromPlaceholder:kt,attachEvents:Tt,detachEvents:_t,isCustomStyleTag:St}}(),g=function(e,n){var i=this,o=t.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=n,this.initialize=function(){return this.layoutInfo=o.createLayout(e,n),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),o.removeLayout(e,this.layoutInfo)},this.reset=function(){var t=i.isDisabled();this.code(m.emptyPara),this._destroy(),this._initialize(),t&&i.disable()},this._initialize=function(){var e=t.extend({},this.options.buttons);Object.keys(e).forEach(function(t){i.memo("button."+t,e[t])});var n=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(n).forEach(function(t){i.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){i.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){i.removeModule(t)}),Object.keys(this.memos).forEach(function(t){i.removeMemo(t)}),this.triggerEvent("destroy",this)},this.code=function(t){var n=this.invoke("codeview.isActivated");if(t===undefined)return this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html();n?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),this.triggerEvent("change",t)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},this.triggerEvent=function(){var t=f.head(arguments),n=f.tail(f.from(arguments)),i=this.options.callbacks[d.namespaceToCamel(t,"on")];i&&i.apply(e[0],n),e.trigger("summernote."+t,n)},this.initializeModule=function(t){var n=this.modules[t];n.shouldInitialize=n.shouldInitialize||d.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&m.attachEvents(e,n.events))},this.module=function(t,e,n){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),n||this.initializeModule(t)},this.removeModule=function(t){var n=this.modules[t];n.shouldInitialize()&&(n.events&&m.detachEvents(e,n.events),n.destroy&&n.destroy()),delete this.modules[t]},this.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandlerAndUpdateState=function(t,e){return function(n){i.createInvokeHandler(t,e)(n),i.invoke("buttons.updateCurrentStyle")}},this.createInvokeHandler=function(e,n){return function(o){o.preventDefault();var r=t(o.target);i.invoke(e,n||r.closest("[data-value]").data("value"),r)}},this.invoke=function(){var t=f.head(arguments),e=f.tail(f.from(arguments)),n=t.split("."),i=n.length>1,o=i&&f.head(n),r=i?f.last(n):f.head(n),a=this.modules[o||"editor"];return!o&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0},this.initialize()};t.fn.extend({summernote:function(){var e=t.type(f.head(arguments)),n="string"===e,i="object"===e,o=i?f.head(arguments):{};o=t.extend({},t.summernote.options,o),o.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[o.lang]),o.icons=t.extend(!0,{},t.summernote.options.icons,o.icons),o.tooltip="auto"===o.tooltip?!c.isSupportTouch:o.tooltip,this.each(function(e,n){var i=t(n);if(!i.data("summernote")){var r=new g(i,o);i.data("summernote",r),i.data("summernote").triggerEvent("init",r.layoutInfo)}});var r=this.first();if(r.length){var a=r.data("summernote");if(n)return a.invoke.apply(a,f.from(arguments));o.focus&&a.invoke("editor.focus")}return this}});var v=function(e,n,i,o){this.render=function(r){var a=t(e);if(i&&i.contents&&a.html(i.contents),i&&i.className&&a.addClass(i.className),i&&i.data&&t.each(i.data,function(t,e){a.attr("data-"+t,e)}),i&&i.click&&a.on("click",i.click),n){var s=a.find(".note-children-container");n.forEach(function(t){t.render(s.length?s:a)})}return o&&o(a,i),i&&i.callback&&i.callback(a),r&&r.append(a),a}},y={create:function(e,n){return function(){var i=t.isArray(arguments[0])?arguments[0]:[],o="object"==typeof arguments[1]?arguments[1]:arguments[0];return o&&o.children&&(i=o.children),new v(e,i,o,n)}}},b=y.create('<div class="note-editor note-frame panel panel-default"/>'),w=y.create('<div class="note-toolbar panel-heading"/>'),x=y.create('<div class="note-editing-area"/>'),C=y.create('<textarea class="note-codable"/>'),k=y.create('<div class="note-editable panel-body" contentEditable="true"/>'),T=y.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),_=y.create('<div class="note-editor"/>'),S=y.create('<div class="note-editable" contentEditable="true"/>'),E=y.create('<div class="note-btn-group btn-group">'),M=y.create('<div class="dropdown-menu">',function(e,n){var i=t.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t,o="object"==typeof t?t.option:undefined;return'<li><a href="#" data-value="'+e+'"'+(o!==undefined?' data-option="'+o+'"':"")+">"+i+"</a></li>"}).join(""):n.items;e.html(i)}),N=function(t,e){return t+" "+L(e.icons.caret,"span")},A=y.create('<div class="dropdown-menu note-check">',function(e,n){var i=t.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li><a href="#" data-value="'+e+'">'+L(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;e.html(i)}),$=y.create('<div class="note-color-palette"/>',function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var r=e.eventName,a=e.colors[i],s=[],l=0,u=a.length;l<u;l++){var c=a[l];s.push(['<button type="button" class="note-color-btn"','style="background-color:',c,'" ','data-event="',r,'" ','data-value="',c,'" ','title="',c,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+s.join("")+"</div>")}t.html(n.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),I=y.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),D=y.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var n="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()}),R=y.create('<div class="checkbox"></div>',function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input type="checkbox"'+(e.id?' id="'+e.id+'"':""),(e.checked?" checked":"")+"/>",e.text?e.text:"","</label>"].join(""))}),L=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},P={editor:b,toolbar:w,editingArea:x,codable:C,editable:k,statusbar:T,airEditor:_,airEditable:S,buttonGroup:E,dropdown:M,dropdownButtonContents:N,dropdownCheck:A,palette:$,dialog:I,popover:D,checkbox:R,icon:L,options:{},button:function(t,e){return y.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(t,e){e&&e.tooltip&&self.options.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){self.options=e;var n=(e.airMode?P.airEditor([P.editingArea([P.airEditable()])]):P.editor([P.toolbar(),P.editingArea([P.codable(),P.editable()]),P.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var j=function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return f.contains([t.BACKSPACE,t.TAB,t.ENTER,t.SPACE,t.DELETE],e)},isMove:function(e){return f.contains([t.LEFT,t.UP,t.RIGHT,t.DOWN],e)},nameFromCode:d.invertObject(t),code:t}}(),F=function(){var e=function(t,e){var n,i,o=t.parentElement(),r=document.body.createTextRange(),a=f.from(o.childNodes);for(n=0;n<a.length;n++)if(!m.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",t)>=0)break;i=a[n]}if(0!==n&&m.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||o),s.collapse(!i),l=i?i.nextSibling:o.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",s);for(var c=u.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&m.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),o=l,n=c}return{cont:o,offset:n}},n=function(t){var e=function(t,n){var i,o;if(m.isText(t)){var r=m.listPrev(t,d.not(m.isText)),a=f.last(r).previousSibling;i=a||t.parentNode,n+=f.sum(f.tail(r),m.nodeLength),o=!a}else{if(i=t.childNodes[n]||t,m.isText(i))return e(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},i=function(e,o,r,a){this.sc=e,this.so=o,this.ec=r,this.eo=a;var s=function(){if(c.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,o),t.setEnd(r,a),t}var i=n({node:e,offset:o});return i.setEndPoint("EndToEnd",n({node:r,offset:a})),i};this.getPoints=function(){return{sc:e,so:o,ec:r,eo:a}},this.getStartPoint=function(){return{node:e,offset:o}},this.getEndPoint=function(){return{node:r,offset:a}},this.select=function(){var t=s();if(c.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(e){var n=t(e).height();return e.scrollTop+n<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+n-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(m.isVisiblePoint(t)&&!m.isEdgePoint(t)||m.isVisiblePoint(t)&&m.isRightEdgePoint(t)&&!e||m.isVisiblePoint(t)&&m.isLeftEdgePoint(t)&&e||m.isVisiblePoint(t)&&m.isBlock(t.node)&&m.isEmpty(t.node))return t;var n=m.ancestor(t.node,m.isBlock);if((m.isLeftEdgePointOf(t,n)||m.isVoid(m.prevPoint(t).node))&&!e||(m.isRightEdgePointOf(t,n)||m.isVoid(m.nextPoint(t).node))&&e){if(m.isVisiblePoint(t))return t;e=!e}return(e?m.nextPointUntil(m.nextPoint(t),m.isVisiblePoint):m.prevPointUntil(m.prevPoint(t),m.isVisiblePoint))||t},e=t(this.getEndPoint(),!1),n=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new i(n.node,n.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||d.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,o=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return m.walkPoint(o,r,function(e){if(!m.isEditable(e.node)){var o;i?(m.isLeftEdgePoint(e)&&s.push(e.node),m.isRightEdgePoint(e)&&f.contains(s,e.node)&&(o=e.node)):o=n?m.ancestor(e.node,t):e.node,o&&t(o)&&a.push(o)}},!0),f.unique(a)},this.commonAncestor=function(){return m.commonAncestor(e,r)},this.expand=function(t){var n=m.ancestor(e,t),s=m.ancestor(r,t);if(!n&&!s)return new i(e,o,r,a);var l=this.getPoints();return n&&(l.sc=n,l.so=0),s&&(l.ec=s,l.eo=m.nodeLength(s)),new i(l.sc,l.so,l.ec,l.eo)},this.collapse=function(t){return t?new i(e,o,e,o):new i(r,a,r,a)},this.splitText=function(){var t=e===r,n=this.getPoints();return m.isText(r)&&!m.isEdgePoint(this.getEndPoint())&&r.splitText(a),m.isText(e)&&!m.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(o),n.so=0,t&&(n.ec=n.sc,n.eo=a-o)),new i(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),o=m.prevPointUntil(e.getStartPoint(),function(t){return!f.contains(n,t.node)}),r=[];return t.each(n,function(t,e){var n=e.parentNode;o.node!==n&&1===m.nodeLength(n)&&r.push(n),m.remove(e,!1)}),
t.each(r,function(t,e){m.remove(e,!1)}),new i(o.node,o.offset,o.node,o.offset).normalize()};var l=function(t){return function(){var n=m.ancestor(e,t);return!!n&&n===m.ancestor(r,t)}};this.isOnEditable=l(m.isEditable),this.isOnList=l(m.isList),this.isOnAnchor=l(m.isAnchor),this.isOnCell=l(m.isCell),this.isOnData=l(m.isData),this.isLeftEdgeOf=function(t){if(!m.isLeftEdgePoint(this.getStartPoint()))return!1;var e=m.ancestor(this.sc,t);return e&&m.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===r&&o===a},this.wrapBodyInlineWithPara=function(){if(m.isBodyContainer(e)&&m.isEmpty(e))return e.innerHTML=m.emptyPara,new i(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(m.isParaInline(e)||m.isPara(e))return t;var n;if(m.isInline(t.sc)){var o=m.listAncestor(t.sc,d.not(m.isInline));n=f.last(o),m.isInline(n)||(n=o[o.length-2]||t.sc.childNodes[t.so])}else n=t.sc.childNodes[t.so>0?t.so-1:0];var r=m.listPrev(n,m.isParaInline).reverse();if(r=r.concat(m.listNext(n.nextSibling,m.isParaInline)),r.length){var a=m.wrap(f.head(r),"p");m.appendChildNodes(a,f.tail(r))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=m.splitPoint(e.getStartPoint(),m.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t},this.pasteHTML=function(e){var n=t("<div></div>").html(e)[0],i=f.from(n.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(t){return o.insertNode(t)}).reverse()},this.toString=function(){var t=s();return c.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!m.isCharPoint(e))return this;var n=m.prevPointUntil(e,function(t){return!m.isCharPoint(t)});return t&&(e=m.nextPointUntil(e,function(t){return!m.isCharPoint(t)})),new i(n.node,n.offset,e.node,e.offset)},this.bookmark=function(t){return{s:{path:m.makeOffsetPath(t,e),offset:o},e:{path:m.makeOffsetPath(t,r),offset:a}}},this.paraBookmark=function(t){return{s:{path:f.tail(m.makeOffsetPath(f.head(t),e)),offset:o},e:{path:f.tail(m.makeOffsetPath(f.last(t),r)),offset:a}}},this.getClientRects=function(){return s().getClientRects()}};return{create:function(t,e,n,o){if(4===arguments.length)return new i(t,e,n,o);if(2===arguments.length)return n=t,o=e,new i(t,e,n,o);var r=this.createFromSelection();return r||1!==arguments.length?r:(r=this.createFromNode(arguments[0]),r.collapse(m.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,n,o,r;if(c.isW3CRangeSupport){var a=document.getSelection();if(!a||0===a.rangeCount)return null;if(m.isBody(a.anchorNode))return null;var s=a.getRangeAt(0);t=s.startContainer,n=s.startOffset,o=s.endContainer,r=s.endOffset}else{var l=document.selection.createRange(),u=l.duplicate();u.collapse(!1);var d=l;d.collapse(!0);var f=e(d,!0),h=e(u,!1);m.isText(f.node)&&m.isLeftEdgePoint(f)&&m.isTextNode(h.node)&&m.isRightEdgePoint(h)&&h.node.nextSibling===f.node&&(f=h),t=f.cont,n=f.offset,o=h.cont,r=h.offset}return new i(t,n,o,r)},createFromNode:function(t){var e=t,n=0,i=t,o=m.nodeLength(i);return m.isVoid(e)&&(n=m.listPrev(e).length-1,e=e.parentNode),m.isBR(i)?(o=m.listPrev(i).length-1,i=i.parentNode):m.isVoid(i)&&(o=m.listPrev(i).length,i=i.parentNode),this.create(e,n,i,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=m.fromOffsetPath(t,e.s.path),o=e.s.offset,r=m.fromOffsetPath(t,e.e.path),a=e.e.offset;return new i(n,o,r,a)},createFromParaBookmark:function(t,e){var n=t.s.offset,o=t.e.offset,r=m.fromOffsetPath(f.head(e),t.s.path),a=m.fromOffsetPath(f.last(e),t.e.path);return new i(r,n,a,o)}}}(),H=function(){return{readFileAsDataURL:function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},createImage:function(e){return t.Deferred(function(n){var i=t("<img>");i.one("load",function(){i.off("error abort"),n.resolve(i)}).one("error abort",function(){i.off("load").detach(),n.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()}}}(),q=function(t){var e=[],n=-1,i=t[0],o=function(){var e=F.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&F.createFromBookmark(i,e.bookmark).select()};this.rewind=function(){t.html()!==e[n].contents&&this.recordUndo(),n=0,r(e[n])},this.reset=function(){e=[],n=-1,t.html(""),this.recordUndo()},this.undo=function(){t.html()!==e[n].contents&&this.recordUndo(),0<n&&(n--,r(e[n]))},this.redo=function(){e.length-1>n&&(n++,r(e[n]))},this.recordUndo=function(){n++,e.length>n&&(e=e.slice(0,n)),e.push(o())}},O=function(){var e=function(e,n){if(c.jqueryVersion<1.9){var i={};return t.each(n,function(t,n){i[n]=e.css(n)}),i}return e.css.call(e,n)};this.fromNode=function(t){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=e(t,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(e,n){t.each(e.nodes(m.isPara,{includeAncestor:!0}),function(e,i){t(i).css(n)})},this.styleNodes=function(e,n){e=e.splitText();var i=n&&n.nodeName||"SPAN",o=!(!n||!n.expandClosestSibling),r=!(!n||!n.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(m.create(i))];var a=m.makePredByNodeName(i),s=e.nodes(m.isText,{fullyContains:!0}).map(function(t){return m.singleChildAncestor(t,a)||m.wrap(t,i)});if(o){if(r){var l=e.nodes();a=d.and(a,function(t){return f.contains(l,t)})}return s.map(function(e){var n=m.withClosestSiblings(e,a),i=f.head(n),o=f.tail(n);return t.each(o,function(t,e){m.appendChildNodes(i,e.childNodes),m.remove(e)}),f.head(n)})}return s},this.current=function(e){var n=t(m.isElement(e.sc)?e.sc:e.sc.parentNode),i=this.fromNode(n);try{i=t.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||i["font-family"]})}catch(t){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=t.inArray(i["list-style-type"],o)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var a=m.ancestor(e.sc,m.isPara);if(a&&a.style["line-height"])i["line-height"]=a.style.lineHeight;else{var s=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=s.toFixed(1)}return i.anchor=e.isOnAnchor()&&m.ancestor(e.sc,m.isAnchor),i.ancestors=m.listAncestor(e.sc,m.isEditable),i.range=e,i}},z=function(){var e=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(e){var n=this,i=F.create(e).wrapBodyInlineWithPara(),o=i.nodes(m.isPara,{includeAncestor:!0}),r=f.clusterBy(o,d.peq2("parentNode"));t.each(r,function(e,i){var o=f.head(i);m.isLi(o)?n.wrapList(i,o.parentNode.nodeName):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),i.select()},this.outdent=function(e){var n=this,i=F.create(e).wrapBodyInlineWithPara(),o=i.nodes(m.isPara,{includeAncestor:!0}),r=f.clusterBy(o,d.peq2("parentNode"));t.each(r,function(e,i){var o=f.head(i);m.isLi(o)?n.releaseList([i]):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),i.select()},this.toggleList=function(n,i){var o=F.create(i).wrapBodyInlineWithPara(),r=o.nodes(m.isPara,{includeAncestor:!0}),a=o.paraBookmark(r),s=f.clusterBy(r,d.peq2("parentNode"));if(f.find(r,m.isPurePara)){var l=[];t.each(s,function(t,i){l=l.concat(e.wrapList(i,n))}),r=l}else{var u=o.nodes(m.isList,{includeAncestor:!0}).filter(function(e){return!t.nodeName(e,n)});u.length?t.each(u,function(t,e){m.replace(e,n)}):r=this.releaseList(s,!0)}F.createFromParaBookmark(a,r).select()},this.wrapList=function(t,e){var n=f.head(t),i=f.last(t),o=m.isList(n.previousSibling)&&n.previousSibling,r=m.isList(i.nextSibling)&&i.nextSibling,a=o||m.insertAfter(m.create(e||"UL"),i);return t=t.map(function(t){return m.isPurePara(t)?m.replace(t,"LI"):t}),m.appendChildNodes(a,t),r&&(m.appendChildNodes(a,f.from(r.childNodes)),m.remove(r)),t},this.releaseList=function(e,n){var i=[];return t.each(e,function(e,o){var r=f.head(o),a=f.last(o),s=n?m.lastAncestor(r,m.isList):r.parentNode,l=s.childNodes.length>1?m.splitTree(s,{node:a.parentNode,offset:m.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,u=m.splitTree(s,{node:r.parentNode,offset:m.position(r)},{isSkipPaddingBlankHTML:!0});o=n?m.listDescendant(u,m.isLi):f.from(u.childNodes).filter(m.isLi),!n&&m.isList(s.parentNode)||(o=o.map(function(t){return m.replace(t,"P")})),t.each(f.from(o).reverse(),function(t,e){m.insertAfter(e,s)});var c=f.compact([s,u,l]);t.each(c,function(e,n){var i=[n].concat(m.listDescendant(n,m.isList));t.each(i.reverse(),function(t,e){m.nodeLength(e)||m.remove(e,!0)})}),i=i.concat(o)}),i}},U=function(){var e=new z;this.insertTab=function(t,e){var n=m.createText(new Array(e+1).join(m.NBSP_CHAR));t=t.deleteContents(),t.insertNode(n,!0),t=F.create(n,e),t.select()},this.insertParagraph=function(n){var i=F.create(n);i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var o,r=m.ancestor(i.sc,m.isPara);if(r){if(m.isEmpty(r)&&m.isLi(r))return void e.toggleList(r.parentNode.nodeName);if(m.isEmpty(r)&&m.isPara(r)&&m.isBlockquote(r.parentNode))m.insertAfter(r,r.parentNode),o=r;else{o=m.splitTree(r,i.getStartPoint());var a=m.listDescendant(r,m.isEmptyAnchor);a=a.concat(m.listDescendant(o,m.isEmptyAnchor)),t.each(a,function(t,e){m.remove(e)}),(m.isHeading(o)||m.isPre(o)||m.isCustomStyleTag(o))&&m.isEmpty(o)&&(o=m.replace(o,"p"))}}else{var s=i.sc.childNodes[i.so];o=t(m.emptyPara)[0],s?i.sc.insertBefore(o,s):i.sc.appendChild(o)}F.create(o,0).normalize().select().scrollIntoView(n)}},B=function(t,e,n,i){function o(){return!t||!t.tagName||"td"!==t.tagName.toLowerCase()&&"th"!==t.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",t):(p.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?void(p.rowPos=t.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",t))}function r(t,e,n,i,o,r,a){var s={baseRow:n,baseCell:i,isRowSpan:o,isColSpan:r,isVirtual:a};m[t]||(m[t]=[]),m[t][e]=s}function a(t,e,n,i){return{baseCell:t.baseCell,action:e,virtualTable:{rowIndex:n,cellIndex:i}}}function s(t,e){if(!m[t])return e;if(!m[t][e])return e;for(var n=e;m[t][n];)if(n++,!m[t][n])return n}function l(t,e){var n=s(t.rowIndex,e.cellIndex),i=e.colSpan>1,o=e.rowSpan>1,a=t.rowIndex===p.rowPos&&e.cellIndex===p.colPos;r(t.rowIndex,n,t,e,o,i,!1);var l=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(l>1)for(var c=1;c<l;c++){var d=t.rowIndex+c;u(d,n,e,a),r(d,n,t,e,!0,i,!0)}var f=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(f>1)for(var h=1;h<f;h++){var m=s(t.rowIndex,n+h);u(t.rowIndex,m,e,a),r(t.rowIndex,m,t,e,o,!0,!0)}}function u(t,e,n,i){t===p.rowPos&&p.colPos>=n.cellIndex&&n.cellIndex<=e&&!i&&p.colPos++}function c(){for(var t=i.rows,e=0;e<t.length;e++)for(var n=t[e].cells,o=0;o<n.length;o++)l(t[e],n[o])}function d(t){switch(e){case B.where.Column:if(t.isColSpan)return B.resultAction.SubtractSpanCount;break;case B.where.Row:if(!t.isVirtual&&t.isRowSpan)return B.resultAction.AddCell;if(t.isRowSpan)return B.resultAction.SubtractSpanCount}return B.resultAction.RemoveCell}function f(t){switch(e){case B.where.Column:if(t.isColSpan)return B.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return B.resultAction.Ignore;break;case B.where.Row:if(t.isRowSpan)return B.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return B.resultAction.Ignore}return B.resultAction.AddCell}function h(){o(),c()}var p={colPos:0,rowPos:0},m=[],g=[];this.getActionList=function(){for(var t=e===B.where.Row?p.rowPos:-1,i=e===B.where.Column?p.colPos:-1,o=0,r=!0;r;){var s=t>=0?t:o,l=i>=0?i:o,u=m[s];if(!u)return r=!1,g;var c=u[l];if(!c)return r=!1,g;var h=B.resultAction.Ignore;switch(n){case B.requestAction.Add:h=f(c);break;case B.requestAction.Delete:h=d(c)}g.push(a(c,h,s,l)),o++}return g},h()};B.where={Row:0,Column:1},B.requestAction={Add:0,Delete:1},B.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var W,V=function(){this.tab=function(t,e){var n=m.ancestor(t.commonAncestor(),m.isCell),i=m.ancestor(n,m.isTable),o=m.listDescendant(i,m.isCell),r=f[e?"prev":"next"](o,n);r&&F.create(r,0).select()},this.addRow=function(e,n){for(var i=m.ancestor(e.commonAncestor(),m.isCell),o=t(i).closest("tr"),r=this.recoverAttributes(o),a=t("<tr"+r+"></tr>"),s=new B(i,B.where.Row,B.requestAction.Add,t(o).closest("table")[0]),l=s.getActionList(),u=0;u<l.length;u++){var c=l[u],d=this.recoverAttributes(c.baseCell);switch(c.action){case B.resultAction.AddCell:a.append("<td"+d+">"+m.blank+"</td>");break;case B.resultAction.SumSpanCount:if("top"===n){if((c.baseCell.parent?c.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var f=t("<div></div>").append(t("<td"+d+">"+m.blank+"</td>").removeAttr("rowspan")).html();a.append(f);break}}var h=parseInt(c.baseCell.rowSpan,10);h++,c.baseCell.setAttribute("rowSpan",h)}}if("top"===n)o.before(a);else{if(i.rowSpan>1){var p=o[0].rowIndex+(i.rowSpan-2);return void t(t(o).parent().find("tr")[p]).after(t(a))}o.after(a)}},this.addCol=function(e,n){var i=m.ancestor(e.commonAncestor(),m.isCell),o=t(i).closest("tr");t(o).siblings().push(o);for(var r=new B(i,B.where.Column,B.requestAction.Add,t(o).closest("table")[0]),a=r.getActionList(),s=0;s<a.length;s++){var l=a[s],u=this.recoverAttributes(l.baseCell);switch(l.action){case B.resultAction.AddCell:"right"===n?t(l.baseCell).after("<td"+u+">"+m.blank+"</td>"):t(l.baseCell).before("<td"+u+">"+m.blank+"</td>");break;case B.resultAction.SumSpanCount:if("right"===n){var c=parseInt(l.baseCell.colSpan,10);c++,l.baseCell.setAttribute("colSpan",c)}else t(l.baseCell).before("<td"+u+">"+m.blank+"</td>")}}},this.recoverAttributes=function(t){var e="";if(!t)return e;for(var n=t.attributes||[],i=0;i<n.length;i++)"id"!==n[i].name.toLowerCase()&&n[i].specified&&(e+=" "+n[i].name+"='"+n[i].value+"'");return e},this.deleteRow=function(e){for(var n=m.ancestor(e.commonAncestor(),m.isCell),i=t(n).closest("tr"),o=i.children("td, th").index(t(n)),r=i[0].rowIndex,a=new B(n,B.where.Row,B.requestAction.Delete,t(i).closest("table")[0]),s=a.getActionList(),l=0;l<s.length;l++)if(s[l]){var u=s[l].baseCell,c=s[l].virtualTable,d=u.rowSpan&&u.rowSpan>1,f=d?parseInt(u.rowSpan,10):0;switch(s[l].action){case B.resultAction.Ignore:continue;case B.resultAction.AddCell:var h=i.next("tr")[0];if(!h)continue;var p=i[0].cells[o];d&&(f>2?(f--,h.insertBefore(p,h.cells[o]),h.cells[o].setAttribute("rowSpan",f),h.cells[o].innerHTML=""):2===f&&(h.insertBefore(p,h.cells[o]),h.cells[o].removeAttribute("rowSpan"),h.cells[o].innerHTML=""));continue;case B.resultAction.SubtractSpanCount:d&&(f>2?(f--,u.setAttribute("rowSpan",f),c.rowIndex!==r&&u.cellIndex===o&&(u.innerHTML="")):2===f&&(u.removeAttribute("rowSpan"),c.rowIndex!==r&&u.cellIndex===o&&(u.innerHTML="")));continue;case B.resultAction.RemoveCell:continue}}i.remove()},this.deleteCol=function(e){for(var n=m.ancestor(e.commonAncestor(),m.isCell),i=t(n).closest("tr"),o=i.children("td, th").index(t(n)),r=new B(n,B.where.Column,B.requestAction.Delete,t(i).closest("table")[0]),a=r.getActionList(),s=0;s<a.length;s++)if(a[s])switch(a[s].action){case B.resultAction.Ignore:continue;case B.resultAction.SubtractSpanCount:var l=a[s].baseCell,u=l.colSpan&&l.colSpan>1;if(u){var c=l.colSpan?parseInt(l.colSpan,10):0;c>2?(c--,l.setAttribute("colSpan",c),l.cellIndex===o&&(l.innerHTML="")):2===c&&(l.removeAttribute("colSpan"),l.cellIndex===o&&(l.innerHTML=""))}continue;case B.resultAction.RemoveCell:m.remove(a[s].baseCell,!0);continue}},this.createTable=function(e,n,i){for(var o,r=[],a=0;a<e;a++)r.push("<td>"+m.blank+"</td>");o=r.join("");for(var s,l=[],u=0;u<n;u++)l.push("<tr>"+o+"</tr>");s=l.join("");var c=t("<table>"+s+"</table>");return i&&i.tableClassName&&c.addClass(i.tableClassName),c[0]},this.deleteTable=function(e){var n=m.ancestor(e.commonAncestor(),m.isCell);t(n).closest("table").remove()}},X="bogus",K=function(e){var n=this,i=e.layoutInfo.note,o=e.layoutInfo.editor,r=e.layoutInfo.editable,a=e.options,s=a.langInfo,l=r[0],u=null,h=new O,p=new V,g=new U,v=new z,y=new q(r);this.initialize=function(){r.on("keydown",function(t){t.keyCode===j.code.ENTER&&e.triggerEvent("enter",t),e.triggerEvent("keydown",t),t.isDefaultPrevented()||(a.shortcuts?n.handleKeyMap(t):n.preventDefaultEditableShortCuts(t))}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),r.html(m.html(i)||m.emptyPara);var t=c.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";r.on(t,d.debounce(function(){e.triggerEvent("change",r.html())},100)),o.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),a.airMode||(a.width&&o.outerWidth(a.width),a.height&&r.outerHeight(a.height),a.maxHeight&&r.css("max-height",a.maxHeight),a.minHeight&&r.css("min-height",a.minHeight)),y.recordUndo()},this.destroy=function(){r.off()},this.handleKeyMap=function(t){var n=a.keyMap[c.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var o=j.nameFromCode[t.keyCode];o&&i.push(o);var r=n[i.join("+")];r?(t.preventDefault(),e.invoke(r)):j.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&f.contains([66,73,85],t.keyCode)&&t.preventDefault()},this.createRange=function(){return this.focus(),F.create(l)},this.saveRange=function(t){u=this.createRange(),t&&u.collapse().select()},this.restoreRange=function(){u&&(u.select(),this.focus())},this.saveTarget=function(t){r.data("target",t)},this.clearTarget=function(){r.removeData("target")},this.restoreTarget=function(){return r.data("target")},this.currentStyle=function(){var t=F.create();return t&&(t=t.normalize()),t?h.current(t):h.fromNode(r)},this.styleFromNode=function(t){return h.fromNode(t)},this.undo=function(){e.triggerEvent("before.command",r.html()),y.undo(),e.triggerEvent("change",r.html())},e.memo("help.undo",s.help.undo),this.redo=function(){e.triggerEvent("before.command",r.html()),y.redo(),e.triggerEvent("change",r.html())},e.memo("help.redo",s.help.redo);for(var b=this.beforeCommand=function(){e.triggerEvent("before.command",r.html()),n.focus()},w=this.afterCommand=function(t){y.recordUndo(),t||e.triggerEvent("change",r.html())},x=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","fontName"],C=0,k=x.length;C<k;C++)this[x[C]]=function(t){return function(e){b(),document.execCommand(t,!1,e),w(!0)}}(x[C]),e.memo("help."+x[C],s.help[x[C]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?p.tab(t):(b(),g.insertTab(t,a.tabSize),w())},e.memo("help.tab",s.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&p.tab(t,!0)},e.memo("help.untab",s.help.untab),this.wrapCommand=function(t){return function(){b(),t.apply(n,arguments),w()}},this.insertParagraph=this.wrapCommand(function(){g.insertParagraph(l)}),e.memo("help.insertParagraph",s.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){v.insertOrderedList(l)}),e.memo("help.insertOrderedList",s.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){v.insertUnorderedList(l)}),e.memo("help.insertUnorderedList",s.help.insertUnorderedList),this.indent=this.wrapCommand(function(){v.indent(l)}),e.memo("help.indent",s.help.indent),this.outdent=this.wrapCommand(function(){v.outdent(l)}),e.memo("help.outdent",s.help.outdent),this.insertImage=function(t,n){return H.createImage(t,n).then(function(t){b(),"function"==typeof n?n(t):("string"==typeof n&&t.attr("data-filename",n),t.css("width",Math.min(r.width(),t.width()))),t.show(),F.create(l).insertNode(t[0]),F.createFromNodeAfter(t[0]).select(),w()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(i){t.each(i,function(t,i){var o=i.name;a.maximumImageFileSize&&a.maximumImageFileSize<i.size?e.triggerEvent("image.upload.error",s.image.maximumFileSizeError):H.readFileAsDataURL(i).then(function(t){return n.insertImage(t,o)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){a.callbacks.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(t){this.createRange().insertNode(t),F.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange(),n=e.insertNode(m.createText(t));F.create(n,m.nodeLength(n)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=F.createFromNode(m.ancestor(t.sc,m.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);F.createFromNodeAfter(f.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t,n){var i=e.options.callbacks.onApplyCustomStyle;i?i.call(this,n,e,this.onFormatBlock):this.onFormatBlock(t)}),this.onFormatBlock=function(t){t=c.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)},this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",s.help.formatPara);for(var C=1;C<=6;C++)this["formatH"+C]=function(t){return function(){this.formatBlock("H"+t)}}(C),e.memo("help.formatH"+C,s.help["formatH"+C]);this.fontSize=function(e){var n=this.createRange();if(n&&n.isCollapsed()){var i=h.styleNodes(n),o=f.head(i);t(i).css({"font-size":e+"px"}),o&&!m.nodeLength(o)&&(o.innerHTML=m.ZERO_WIDTH_NBSP_CHAR,F.createFromNodeAfter(o.firstChild).select(),r.data(X,o))}else b(),t(h.styleNodes(n)).css({"font-size":e+"px"}),w()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(m.create("HR"));t.nextSibling&&F.create(t.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",s.help.insertHorizontalRule),this.removeBogus=function(){var t=r.data(X);if(t){var e=f.find(f.from(t.childNodes),m.isText),n=e.nodeValue.indexOf(m.ZERO_WIDTH_NBSP_CHAR);-1!==n&&e.deleteData(n,1),m.isEmpty(t)&&m.remove(t),r.removeData(X)}},this.lineHeight=this.wrapCommand(function(t){h.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=m.ancestor(t.sc,m.isAnchor);t=F.createFromNode(e),t.select(),b(),document.execCommand("unlink"),w()}},this.createLink=this.wrapCommand(function(e){var n=e.url,i=e.text,o=e.isNewWindow,r=e.range||this.createRange(),s=r.toString()!==i;"string"==typeof n&&(n=n.trim()),n=a.onCreateLink?a.onCreateLink(n):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(n)?n:"http://"+n;var l=[];if(s){r=r.deleteContents();var u=r.insertNode(t("<A>"+i+"</A>")[0]);l.push(u)}else l=h.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(l,function(e,i){t(i).attr("href",n),o?t(i).attr("target","_blank"):t(i).removeAttr("target")});var c=F.createFromNodeBefore(f.head(l)),d=c.getStartPoint(),p=F.createFromNodeAfter(f.last(l)),m=p.getEndPoint();F.create(d.node,d.offset,m.node,m.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(m.isAnchor),n=t(f.head(e.nodes(m.isAnchor))),i={range:e,text:e.toString(),url:n.length?n.attr("href"):""};return n.length&&(i.isNewWindow="_blank"===n.attr("target")),i},this.color=this.wrapCommand(function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");this.createRange().deleteContents().insertNode(p.createTable(e[0],e[1],a))}),this.addRow=function(t){var e=this.createRange(r);e.isCollapsed()&&e.isOnCell()&&(b(),p.addRow(e,t),w())},this.addCol=function(t){var e=this.createRange(r);e.isCollapsed()&&e.isOnCell()&&(b(),p.addCol(e,t),w())},this.deleteRow=function(){var t=this.createRange(r);t.isCollapsed()&&t.isOnCell()&&(b(),p.deleteRow(t),w())},this.deleteCol=function(){var t=this.createRange(r);t.isCollapsed()&&t.isOnCell()&&(b(),p.deleteCol(t),w())},this.deleteTable=function(){var t=this.createRange(r);t.isCollapsed()&&t.isOnCell()&&(b(),p.deleteTable(t),w())},this.floatMe=this.wrapCommand(function(e){var n=t(this.restoreTarget());n.toggleClass("note-float-left","left"===e),n.toggleClass("note-float-right","right"===e),n.css("float",e)}),this.resize=this.wrapCommand(function(e){t(this.restoreTarget()).css({width:100*e+"%",height:""})}),this.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=this.wrapCommand(function(){var n=t(this.restoreTarget()).detach();e.triggerEvent("media.delete",n,r)}),this.hasFocus=function(){return r.is(":focus")},this.focus=function(){this.hasFocus()||r.focus()},this.isEmpty=function(){return m.isEmpty(r[0])||m.emptyPara===r.html()},this.empty=function(){e.invoke("code",m.emptyPara)}},Y=function(e){var n=this,i=e.layoutInfo.editable;this.events={"summernote.keydown":function(t,i){n.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===j.code.V&&(e.invoke("editor.saveRange"),n.$paste.focus(),setTimeout(function(){n.pasteByHook()},0))}},this.needKeydownHook=function(){return c.isMSIE&&c.browserVersion>10||c.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=t('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),i.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):i.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var n=this.$paste[0].firstChild,i=n&&n.src;if(m.isImg(n)&&0===i.indexOf("data:")){for(var o=atob(n.src.split(",")[1]),r=new Uint8Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);var s=new Blob([r],{type:"image/png"});s.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[s])}else{var l=t("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),l&&e.invoke("editor.pasteHTML",l)}this.$paste.empty()},this.pasteByEvent=function(t){var n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var i=f.head(n.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&e.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),e.invoke("editor.afterCommand")}}},Z=function(e){var n=t(document),i=e.layoutInfo.editor,o=e.layoutInfo.editable,r=e.options,a=r.langInfo,s={},l=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i),u=function(){Object.keys(s).forEach(function(t){n.off(t.substr(2).toLowerCase(),s[t])}),s={}};this.initialize=function(){r.disableDragAndDrop?(s.onDrop=function(t){t.preventDefault()},n.on("drop",s.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=t(),u=l.find(".note-dropzone-message");s.onDragenter=function(t){var n=e.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;n||r.length||!o||(i.addClass("dragover"),l.width(i.width()),l.height(i.height()),u.text(a.image.dragImageHere)),r=r.add(t.target)},s.onDragleave=function(t){r=r.not(t.target),r.length||i.removeClass("dragover")},s.onDrop=function(){r=t(),i.removeClass("dragover")},n.on("dragenter",s.onDragenter).on("dragleave",s.onDragleave).on("drop",s.onDrop),l.on("dragenter",function(){l.addClass("hover"),u.text(a.image.dropImage)}).on("dragleave",function(){l.removeClass("hover"),u.text(a.image.dragImageHere)}),l.on("drop",function(n){var i=n.originalEvent.dataTransfer;i&&i.files&&i.files.length?(n.preventDefault(),o.focus(),e.invoke("editor.insertImagesOrCallback",i.files)):t.each(i.types,function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",r):t(r).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){u()}};c.hasCodeMirror&&(c.isSupportAmd?require(["codemirror"],function(t){W=t}):W=window.CodeMirror);var J=function(t){var e=t.layoutInfo.editor,n=t.layoutInfo.editable,i=t.layoutInfo.codable,o=t.options;this.sync=function(){this.isActivated()&&c.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),t.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(m.html(n,o.prettifyHtml)),i.height(n.height()),t.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),i.focus(),c.hasCodeMirror){var r=W.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var a=new W.TernServer(o.codemirror.tern);r.ternServer=a,r.on("cursorActivity",function(t){a.updateArgHints(t)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(c.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var a=m.value(i,o.prettifyHtml)||m.emptyPara,s=n.html()!==a;n.html(a),n.height(o.height?i.height():"auto"),e.removeClass("codeview"),s&&t.triggerEvent("change",n.html(),n),n.focus(),t.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},Q=24,G=function(e){var n=t(document),i=e.layoutInfo.statusbar,o=e.layoutInfo.editable,r=e.options;this.initialize=function(){if(r.airMode||r.disableResizeEditor)return void this.destroy();i.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var e=o.offset().top-n.scrollTop(),i=function(t){var n=t.clientY-(e+Q);n=r.minheight>0?Math.max(n,r.minheight):n,n=r.maxHeight>0?Math.min(n,r.maxHeight):n,o.height(n)};n.on("mousemove",i).one("mouseup",function(){n.off("mousemove",i)})})},this.destroy=function(){i.off(),i.remove()}},tt=function(e){var n=this,i=e.layoutInfo.editor,o=e.layoutInfo.toolbar,r=e.layoutInfo.editable,a=e.layoutInfo.codable,s=t(window),l=t("html, body");this.resizeTo=function(t){r.css("height",t.h),a.css("height",t.h),a.data("cmeditor")&&a.data("cmeditor").setsize(null,t.h)},this.onResize=function(){n.resizeTo({h:s.height()-o.outerHeight()})},this.toggle=function(){i.toggleClass("fullscreen"),this.isFullscreen()?(r.data("orgHeight",r.css("height")),s.on("resize",this.onResize).trigger("resize"),l.css("overflow","hidden")):(s.off("resize",this.onResize),this.resizeTo({h:r.data("orgHeight")}),l.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return i.hasClass("fullscreen")}},et=function(e){var n=this,i=t(document),o=e.layoutInfo.editingArea,r=e.options;this.events={"summernote.mousedown":function(t,e){n.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()},"summernote.disable":function(){n.hide()},"summernote.codeview.toggled":function(){n.update()}},this.initialize=function(){this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(o),this.$handle.on("mousedown",function(t){if(m.isControlSizing(t.target)){
t.preventDefault(),t.stopPropagation();var o=n.$handle.find(".note-control-selection").data("target"),r=o.offset(),a=i.scrollTop(),s=function(t){e.invoke("editor.resizeTo",{x:t.clientX-r.left,y:t.clientY-(r.top-a)},o,!t.shiftKey),n.update(o[0])};i.on("mousemove",s).one("mouseup",function(t){t.preventDefault(),i.off("mousemove",s),e.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),n.update()})},this.destroy=function(){this.$handle.remove()},this.update=function(n){if(e.isDisabled())return!1;var i=m.isImg(n),o=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",n),i){var r=t(n),a=r.position(),s={left:a.left+parseInt(r.css("marginLeft"),10),top:a.top+parseInt(r.css("marginTop"),10)},l={w:r.outerWidth(!1),h:r.outerHeight(!1)};o.css({display:"block",left:s.left,top:s.top,width:l.w,height:l.h}).data("target",r);var u=l.w+"x"+l.h;o.find(".note-control-selection-info").text(u),e.invoke("editor.saveTarget",n)}else this.hide();return i},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},nt=function(e){var n=this,i=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var n=this.lastWordRange.toString(),o=n.match(i);if(o&&(o[1]||o[2])){var r=o[1]?n:"http://"+n,a=t("<a />").html(n).attr("href",r)[0];this.lastWordRange.insertNode(a),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(f.contains([j.code.ENTER,j.code.SPACE],t.keyCode)){var n=e.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(t){f.contains([j.code.ENTER,j.code.SPACE],t.keyCode)&&this.replace()}},it=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return m.isTextarea(e[0])}},ot=function(e){var n=this,i=e.layoutInfo.editingArea,o=e.options;this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}},this.shouldInitialize=function(){return!!o.placeholder},this.initialize=function(){this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(o.placeholder).prependTo(i),this.update()},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},rt=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.toolbar,r=e.options,a=r.langInfo,s=d.invertObject(r.keyMap[c.isMac?"mac":"pc"]),l=this.representShortcut=function(t){var e=s[t];return r.shortcuts&&e?(c.isMac&&(e=e.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return n.fontInstalledMap.hasOwnProperty(t)||(n.fontInstalledMap[t]=c.isFontInstalled(t)||f.contains(r.fontNamesIgnoreCheck,t)),n.fontInstalledMap[t]},this.addToolbarButtons=function(){e.memo("button.style",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents(i.icon(r.icons.magic),r),tooltip:a.style.style,data:{toggle:"dropdown"}}),i.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:a.style.hasOwnProperty(t)?a.style[t]:t});var e=t.tag,n=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+n+"</"+e+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.icon(r.icons.bold),tooltip:a.font.bold+l("bold"),click:e.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),e.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.icon(r.icons.italic),tooltip:a.font.italic+l("italic"),click:e.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),e.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.icon(r.icons.underline),tooltip:a.font.underline+l("underline"),click:e.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),e.memo("button.clear",function(){return i.button({contents:i.icon(r.icons.eraser),tooltip:a.font.clear+l("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.icon(r.icons.strikethrough),tooltip:a.font.strikethrough+l("strikethrough"),click:e.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.icon(r.icons.superscript),tooltip:a.font.superscript,click:e.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),e.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.icon(r.icons.subscript),tooltip:a.font.subscript,click:e.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),e.memo("button.fontname",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents('<span class="note-current-fontname"/>',r),tooltip:a.font.name,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontname",checkClassName:r.icons.menuCheck,items:r.fontNames.filter(n.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:e.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents('<span class="note-current-fontsize"/>',r),tooltip:a.font.size,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontsize",checkClassName:r.icons.menuCheck,items:r.fontSizes,click:e.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),e.memo("button.color",function(){return i.buttonGroup({className:"note-color",children:[i.button({className:"note-current-color-button",contents:i.icon(r.icons.font+" note-recent-color"),tooltip:a.color.recent,click:function(n){var i=t(n.currentTarget);e.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents("",r),tooltip:a.color.more,data:{toggle:"dropdown"}}),i.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+a.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',a.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+a.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',a.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=t(this);e.append(i.palette({colors:r.colors,eventName:e.data("event"),tooltip:r.tooltip}).render())})},click:function(n){var i=t(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var a="backColor"===o?"background-color":"color",s=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");s.css(a,r),l.attr("data-"+o,r),e.invoke("editor."+o,r)}}})]}).render()}),e.memo("button.ul",function(){return i.button({contents:i.icon(r.icons.unorderedlist),tooltip:a.lists.unordered+l("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return i.button({contents:i.icon(r.icons.orderedlist),tooltip:a.lists.ordered+l("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var o=i.button({contents:i.icon(r.icons.alignLeft),tooltip:a.paragraph.left+l("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),s=i.button({contents:i.icon(r.icons.alignCenter),tooltip:a.paragraph.center+l("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),u=i.button({contents:i.icon(r.icons.alignRight),tooltip:a.paragraph.right+l("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),c=i.button({contents:i.icon(r.icons.alignJustify),tooltip:a.paragraph.justify+l("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),f=i.button({contents:i.icon(r.icons.outdent),tooltip:a.paragraph.outdent+l("outdent"),click:e.createInvokeHandler("editor.outdent")}),h=i.button({contents:i.icon(r.icons.indent),tooltip:a.paragraph.indent+l("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",d.invoke(o,"render")),e.memo("button.justifyCenter",d.invoke(s,"render")),e.memo("button.justifyRight",d.invoke(u,"render")),e.memo("button.justifyFull",d.invoke(c,"render")),e.memo("button.outdent",d.invoke(f,"render")),e.memo("button.indent",d.invoke(h,"render")),e.memo("button.paragraph",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents(i.icon(r.icons.alignLeft),r),tooltip:a.paragraph.paragraph,data:{toggle:"dropdown"}}),i.dropdown([i.buttonGroup({className:"note-align",children:[o,s,u,c]}),i.buttonGroup({className:"note-list",children:[f,h]})])]).render()}),e.memo("button.height",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents(i.icon(r.icons.textHeight),r),tooltip:a.font.height,data:{toggle:"dropdown"}}),i.dropdownCheck({items:r.lineHeights,checkClassName:r.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.dropdownButtonContents(i.icon(r.icons.table),r),tooltip:a.table.table,data:{toggle:"dropdown"}}),i.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:r.insertTableMaxSize.col+"em",height:r.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",n.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return i.button({contents:i.icon(r.icons.link),tooltip:a.link.link+l("linkDialog.show"),click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return i.button({contents:i.icon(r.icons.picture),tooltip:a.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return i.button({contents:i.icon(r.icons.video),tooltip:a.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return i.button({contents:i.icon(r.icons.minus),tooltip:a.hr.insert+l("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.icon(r.icons.arrowsAlt),tooltip:a.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.icon(r.icons.code),tooltip:a.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return i.button({contents:i.icon(r.icons.redo),tooltip:a.history.redo+l("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return i.button({contents:i.icon(r.icons.undo),tooltip:a.history.undo+l("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return i.button({contents:i.icon(r.icons.question),tooltip:a.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return i.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return i.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return i.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return i.button({contents:i.icon(r.icons.alignLeft),tooltip:a.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return i.button({contents:i.icon(r.icons.alignRight),tooltip:a.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return i.button({contents:i.icon(r.icons.alignJustify),tooltip:a.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return i.button({contents:i.icon(r.icons.trash),tooltip:a.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return i.button({contents:i.icon(r.icons.link),tooltip:a.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return i.button({contents:i.icon(r.icons.unlink),tooltip:a.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.addTablePopoverButtons=function(){e.memo("button.addRowUp",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.rowAbove),tooltip:a.table.addRowAbove,click:e.createInvokeHandler("editor.addRow","top")}).render()}),e.memo("button.addRowDown",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.rowBelow),tooltip:a.table.addRowBelow,click:e.createInvokeHandler("editor.addRow","bottom")}).render()}),e.memo("button.addColLeft",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.colBefore),tooltip:a.table.addColLeft,click:e.createInvokeHandler("editor.addCol","left")}).render()}),e.memo("button.addColRight",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.colAfter),tooltip:a.table.addColRight,click:e.createInvokeHandler("editor.addCol","right")}).render()}),e.memo("button.deleteRow",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.rowRemove),tooltip:a.table.delRow,click:e.createInvokeHandler("editor.deleteRow")}).render()}),e.memo("button.deleteCol",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.colRemove),tooltip:a.table.delCol,click:e.createInvokeHandler("editor.deleteCol")}).render()}),e.memo("button.deleteTable",function(){return i.button({className:"btn-md",contents:i.icon(r.icons.trash),tooltip:a.table.delTable,click:e.createInvokeHandler("editor.deleteTable")}).render()})},this.build=function(t,n){for(var o=0,r=n.length;o<r;o++){for(var a=n[o],s=a[0],l=a[1],u=i.buttonGroup({className:"note-"+s}).render(),c=0,d=l.length;c<d;c++){var f=e.memo("button."+l[c]);f&&u.append("function"==typeof f?f(e):f)}u.appendTo(t)}},this.updateCurrentStyle=function(i){var r=i||o,a=e.invoke("editor.currentStyle");if(this.updateBtnStates(r,{".note-btn-bold":function(){return"bold"===a["font-bold"]},".note-btn-italic":function(){return"italic"===a["font-italic"]},".note-btn-underline":function(){return"underline"===a["font-underline"]},".note-btn-subscript":function(){return"subscript"===a["font-subscript"]},".note-btn-superscript":function(){return"superscript"===a["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===a["font-strikethrough"]}}),a["font-family"]){var s=a["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),l=f.find(s,n.isFontInstalled);r.find(".dropdown-fontname a").each(function(){var e=t(this),n=e.data("value")+""==l+"";e.toggleClass("checked",n)}),r.find(".note-current-fontname").text(l)}if(a["font-size"]){var u=a["font-size"];r.find(".dropdown-fontsize a").each(function(){var e=t(this),n=e.data("value")+""==u+"";e.toggleClass("checked",n)}),r.find(".note-current-fontsize").text(u)}if(a["line-height"]){var c=a["line-height"];r.find(".dropdown-line-height li a").each(function(){var e=t(this).data("value")+""==c+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e,n){t.each(n,function(t,n){i.toggleBtnActive(e.find(t),n())})},this.tableMoveHandler=function(e){var n,i=18,o=t(e.target.parentNode),a=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),l=o.find(".note-dimension-picker-highlighted"),u=o.find(".note-dimension-picker-unhighlighted");if(e.offsetX===undefined){var c=t(e.target).offset();n={x:e.pageX-c.left,y:e.pageY-c.top}}else n={x:e.offsetX,y:e.offsetY};var d={c:Math.ceil(n.x/i)||1,r:Math.ceil(n.y/i)||1};l.css({width:d.c+"em",height:d.r+"em"}),s.data("value",d.c+"x"+d.r),3<d.c&&d.c<r.insertTableMaxSize.col&&u.css({width:d.c+1+"em"}),3<d.r&&d.r<r.insertTableMaxSize.row&&u.css({height:d.r+1+"em"}),a.html(d.c+" x "+d.r)}},at=function(e){var n=t.summernote.ui,i=e.layoutInfo.note,o=e.layoutInfo.editor,r=e.layoutInfo.toolbar,a=e.options;this.shouldInitialize=function(){return!a.airMode},this.initialize=function(){a.toolbar=a.toolbar||[],a.toolbar.length?e.invoke("buttons.build",r,a.toolbar):r.hide(),a.toolbarContainer&&r.appendTo(a.toolbarContainer),this.changeContainer(!1),i.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){r.children().remove()},this.changeContainer=function(t){t?r.prependTo(o):a.toolbarContainer&&r.appendTo(a.toolbarContainer)},this.updateFullscreen=function(t){n.toggleBtnActive(r.find(".btn-fullscreen"),t),this.changeContainer(t)},this.updateCodeview=function(t){n.toggleBtnActive(r.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var e=r.find("button");t||(e=e.not(".btn-codeview")),n.toggleBtn(e,!0)},this.deactivate=function(t){var e=r.find("button");t||(e=e.not(".btn-codeview")),n.toggleBtn(e,!1)}},st=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n='<div class="form-group note-form-group"><label class="note-form-label">'+a.link.textToDisplay+'</label><input class="note-link-text form-control  note-form-control  note-input" type="text" /></div><div class="form-group note-form-group"><label class="note-form-label">'+a.link.url+'</label><input class="note-link-url form-control note-form-control note-input" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":t("<div/>").append(i.checkbox({id:"sn-checkbox-open-in-new-window",text:a.link.openInNewWindow,checked:!0}).render()).html()),s='<button href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn disabled" disabled>'+a.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:a.link.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===j.code.ENTER&&e.trigger("click")})},this.toggleLinkBtn=function(t,e,n){i.toggleBtn(t,e.val()&&n.val())},this.showLinkDialog=function(o){return t.Deferred(function(t){var r=n.$dialog.find(".note-link-text"),a=n.$dialog.find(".note-link-url"),s=n.$dialog.find(".note-link-btn"),l=n.$dialog.find("input[type=checkbox]");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),o.url||(o.url=o.text),r.val(o.text);var u=function(){n.toggleLinkBtn(s,r,a),o.text=r.val()};r.on("input",u).on("paste",function(){setTimeout(u,0)});var c=function(){n.toggleLinkBtn(s,r,a),o.text||r.val(a.val())};a.on("input",c).on("paste",function(){setTimeout(c,0)}).val(o.url).trigger("focus"),n.toggleLinkBtn(s,r,a),n.bindEnterKey(a,s),n.bindEnterKey(r,s);var d=o.isNewWindow!==undefined?o.isNewWindow:e.options.linkTargetBlank;l.prop("checked",d),s.one("click",function(e){e.preventDefault(),t.resolve({range:o.range,url:a.val(),text:r.val(),isNewWindow:l.is(":checked")}),i.hideDialog(n.$dialog)})}),i.onDialogHidden(n.$dialog,function(){r.off("input paste keypress"),a.off("input paste keypress"),s.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},lt=function(e){var n=this,i=t.summernote.ui,o=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.disable summernote.dialog.shown":function(){n.hide()}},this.shouldInitialize=function(){return!f.isEmpty(o.popover.link)},this.initialize=function(){this.$popover=i.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content,.note-popover-content");e.invoke("buttons.build",t,o.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var n=e.invoke("editor.createRange");if(n.isCollapsed()&&n.isOnAnchor()){var i=m.ancestor(n.sc,m.isAnchor),o=t(i).attr("href");this.$popover.find("a").attr("href",o).html(o);var r=m.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ut=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n="";if(r.maximumImageFileSize){var s=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),l=1*(r.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";n="<small>"+a.image.maximumFileSize+" : "+l+"</small>"}var u='<div class="form-group note-form-group note-group-select-from-files"><label class="note-form-label">'+a.image.selectFromFiles+'</label><input class="note-image-input form-control note-form-control note-input"  type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label class="note-form-label">'+a.image.url+'</label><input class="note-image-url form-control note-form-control note-input  col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn disabled" disabled>'+a.image.insert+"</button>";this.$dialog=i.dialog({title:a.image.insert,fade:r.dialogsFade,body:u,footer:c}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===j.code.ENTER&&e.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(t){i.hideDialog(n.$dialog),e.invoke("editor.restoreRange"),"string"==typeof t?e.invoke("editor.insertImage",t):e.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return t.Deferred(function(t){var o=n.$dialog.find(".note-image-input"),r=n.$dialog.find(".note-image-url"),a=n.$dialog.find(".note-image-btn");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){t.resolve(this.files||this.value)}).val("")),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),r.on("keyup paste",function(){var t=r.val();i.toggleBtn(a,t)}).val("").trigger("focus"),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),a.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)})}},ct=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editable,r=o[0],a=e.options;this.events={"summernote.disable":function(){n.hide()}},this.shouldInitialize=function(){return!f.isEmpty(a.popover.image)},this.initialize=function(){this.$popover=i.popover({className:"note-image-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content,.note-popover-content");e.invoke("buttons.build",t,a.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(m.isImg(t)){var e=m.posFromPlaceholder(t),n=m.posFromPlaceholder(r);this.$popover.css({display:"block",left:e.left,top:Math.min(e.top,n.top)})}else this.hide()},this.hide=function(){this.$popover.hide()}},dt=function(e){var n=this,i=t.summernote.ui,o=e.options;this.events={"summernote.mousedown":function(t,e){n.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){n.update()},"summernote.disable":function(){n.hide()}},this.shouldInitialize=function(){return!f.isEmpty(o.popover.table)},this.initialize=function(){this.$popover=i.popover({className:"note-table-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content,.note-popover-content");e.invoke("buttons.build",t,o.popover.table),c.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(e.isDisabled())return!1;var n=m.isCell(t);if(n){var i=m.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return n},this.hide=function(){this.$popover.hide()}},ft=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n='<div class="form-group note-form-group row-fluid"><label class="note-form-label">'+a.video.url+' <small class="text-muted">'+a.video.providers+'</small></label><input class="note-video-url form-control  note-form-control note-input span12"  type="text" /></div>',s='<button href="#" class="btn btn-primary note-btn note-btn-primary  note-video-btn disabled" disabled>'+a.video.insert+"</button>";this.$dialog=i.dialog({title:a.video.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===j.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(e){var n,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=e.match(i),r=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,a=e.match(r),s=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,l=e.match(s),u=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,c=e.match(u),d=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,f=e.match(d),h=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=e.match(h),m=/\/\/v\.qq\.com.*?vid=(.+)/,g=e.match(m),v=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,y=e.match(v),b=/^.+.(mp4|m4v)$/,w=e.match(b),x=/^.+.(ogg|ogv)$/,C=e.match(x),k=/^.+.(webm)$/,T=e.match(k);if(o&&11===o[1].length){var _=o[1];n=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+_).attr("width","640").attr("height","360")}else if(a&&a[0].length)n=t("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+a[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(l&&l[0].length)n=t("<iframe>").attr("frameborder",0).attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(f&&f[2].length)n=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+f[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(g&&g[1].length||y&&y[2].length){var S=g&&g[1].length?g[1]:y[2];n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+S+"&amp;auto=0")}else{if(!(w||C||T))return!1;n=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},this.show=function(){var t=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){i.hideDialog(n.$dialog),e.invoke("editor.restoreRange");var o=n.createVideoNode(t);o&&e.invoke("editor.insertNode",o)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(o){return t.Deferred(function(t){var r=n.$dialog.find(".note-video-url"),a=n.$dialog.find(".note-video-btn");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(o).on("input",function(){i.toggleBtn(a,r.val())}).trigger("focus"),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){r.off("input"),a.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)})}},ht=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.createShortCutList=function(){var n=r.keyMap[c.isMac?"mac":"pc"];return Object.keys(n).map(function(i){var o=n[i],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.memo("help."+o)||o)),r.html()}).join("")},this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.8</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:a.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:n,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return t.Deferred(function(t){i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),t.resolve()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},pt=function(e){var n=this,i=t.summernote.ui,o=e.options;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){n.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){n.hide()},"summernote.focusout":function(t,e){c.isFF||e.relatedTarget&&m.ancestor(e.relatedTarget,d.eq(n.$popover[0]))||n.hide()}},
this.shouldInitialize=function(){return o.airMode&&!f.isEmpty(o.popover.air)},this.initialize=function(){this.$popover=i.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,o.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var n=f.last(t.range.getClientRects());if(n){var i=d.rect2bnd(n);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-20,top:i.top+i.height}),e.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},this.hide=function(){this.$popover.hide()}},mt=function(e){var n=this,i=t.summernote.ui,o=5,r=e.options.hint||[],a=e.options.hintDirection||"bottom",s=t.isArray(r)?r:[r];this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){n.hide()}},this.shouldInitialize=function(){return s.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=i.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){n.$content.find(".active").removeClass("active"),t(this).addClass("active"),n.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var n=this.nodeFromItem(t);this.lastWordRange.insertNode(n),F.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),e.triggerEvent("change",e.layoutInfo.editable.html(),e.layoutInfo.editable),e.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=s[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=m.createText(i)),i},this.createItemTemplates=function(e,n){var i=s[e];return n.map(function(n,o){var r=t('<div class="note-hint-item"/>');return r.append(i.template?i.template(n):n+""),r.data({index:e,item:n}),0===e&&0===o&&r.addClass("active"),r})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===j.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===j.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===j.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,n){var i=s[t];if(i&&i.match.test(e)&&i.search){var o=i.match.exec(e);i.search(o[1],n)}else n()},this.createGroup=function(e,i){var o=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,i,function(t){t=t||[],t.length&&(o.html(n.createItemTemplates(e,t)),n.show())}),o},this.handleKeyup=function(t){if(f.contains([j.code.ENTER,j.code.UP,j.code.DOWN],t.keyCode)){if(t.keyCode===j.code.ENTER&&this.$popover.is(":visible"))return}else{var i=e.invoke("editor.createRange").getWordRange(),r=i.toString();if(s.length&&r){this.$content.empty();var l=d.rect2bnd(f.last(i.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=i,s.forEach(function(t,e){t.match.test(r)&&n.createGroup(e,r).appendTo(n.$content)}),"top"===a?this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-o}):this.$popover.css({left:l.left,top:l.top+l.height+o}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};t.summernote=t.extend(t.summernote,{version:"0.8.8",ui:P,dom:m,plugins:{},options:{modules:{editor:K,clipboard:Y,dropzone:Z,codeview:J,statusbar:G,fullscreen:tt,handle:et,hintPopover:mt,autoLink:nt,autoSync:it,placeholder:ot,buttons:rt,toolbar:at,linkDialog:st,linkPopover:lt,imageDialog:ut,imagePopover:ct,tablePopover:dt,videoDialog:ft,helpDialog:ht,airPopover:pt},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,tooltip:"auto",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){function e(e){"undefined"==typeof uploadcare&&t.getScript(["https://ucarecdn.com/widget/",e,"/uploadcare/uploadcare.min.js"].join(""))}function n(e,n){return function(){var i=n.buttonIcon?'<i class="fa fa-'+n.buttonIcon+'" /> ':"";return t.summernote.ui.button({contents:i+n.buttonLabel,tooltip:n.tooltipText,click:function(){var t=uploadcare.openDialog({},n);e.invoke("editor.saveRange"),t.done(r(e,n))}}).render()}}function i(i){var o=t.extend({crop:"",version:"2.9.0",buttonLabel:"Uploadcare",tooltipText:"Upload files via Uploadcare"},i.options.uploadcare);e(o.version),i.memo("button.uploadcare",n(i,o))}function o(e,n){e.invoke("editor.insertNode",t((n.isImage?['<img src="',n.cdnUrl+(n.cdnUrlModifiers?"":"-/preview/"),'" alt="',n.name,'" />']:['<a href="',n.cdnUrl,'">',n.name,"</a>"]).join("")).get(0))}function r(e,n){return function(i){var r=n.multiple,a=r?i.files():[i];t.when.apply(null,a).done(function(){var i=[].slice.apply(arguments),r=n.uploadCompleteCallback;e.invoke("editor.restoreRange"),t.each(i,function(n,i){t.isFunction(r)?r.call(e,i):o(e,i)})})}}t.extend(t.summernote.plugins,{uploadcare:i})}),UPLOADCARE_PUBLIC_KEY="f2e6727ba7a5ebff4bd8",$(document).ready(function(){$("#summernote").summernote({toolbar:[["uploadcare",["uploadcare"]],["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["media","link","hr"]],["view",["fullscreen"]],["help",["help"]]],uploadcare:{buttonLabel:"Image / file",buttonIcon:"picture-o",tooltipText:"Upload files or video or something",publicKey:"f2e6727ba7a5ebff4bd8",crop:"free",tabs:"all",multiple:!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=t._data(o,"events"),i&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,a,s,l={},u=e.split(".")[0];return e=e.split(".")[1],o=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[u]=t[u]||{},r=t[u][e],a=t[u][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){if(!t.isFunction(i))return void(l[e]=i);l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},l,{constructor:a,namespace:u,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,o,r=n.call(arguments,1),a=0,s=r.length;a<s;a++)for(i in r[a])o=r[a][i],r[a].hasOwnProperty(i)&&o!==undefined&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return a?this.each(function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s),n!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new i(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return o[e]===undefined?null:o[e];o[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,u,s):n.bind(u,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}});t.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0,n=t,i="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,i="parse"),t.ajaxTransport("iframe",function(n){if(n.async){var i,o,r,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),r=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+r+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+r+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+r+"_method=PATCH",n.type="POST"),e+=1,o=t('<iframe src="'+a+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,r=t.isArray(n.paramName)?n.paramName:[n.paramName];o.unbind("load").bind("load",function(){var e;try{if(e=o.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=undefined}l(200,"success",{iframe:e}),t('<iframe src="'+a+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",o.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",r[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var o=t(e[n]);t(i).prop("name",o.prop("name")).attr("form",o.attr("form")),o.replaceWith(i)})}),i.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",a),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&n[i](t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var o=i.dataTransfer;o&&-1!==t.inArray("Files",o.types)&&!1!==this._trigger(e,t.Event(e,{delegatedEvent:i}))&&(i.preventDefault(),n&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){if(e.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,o=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&o-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=o,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(o,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,o=e.files[0],r=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(i,o){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||a,value:o})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(a,e.blob,o.name):t.each(e.files,function(o,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===t.type(e.paramName)&&e.paramName[o]||a,r,r.uploadName||r.name)})),e.data=n):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)i.push(n),o-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var o=t.Deferred(),r=o.promise();return n=n||this.options.context||r,!0===e?o.resolveWith(n,i):!1===e&&o.rejectWith(n,i),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,o=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,r){return(e||r)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():o(arguments)}).then(e,r)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,o,r=this,a=e.files[0],s=a.size,l=e.uploadedBytes,u=e.maxChunkSize||s,c=this._blobSlice,d=t.Deferred(),f=d.promise();return!(!(this._isXHRUpload(e)&&c&&(l||("function"===t.type(u)?u(e):u)<s))||e.data)&&(!!n||(l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(o=function(){var n=t.extend({},e),f=n._progress.loaded;n.blob=c.call(a,l,l+("function"===t.type(u)?u(n):u),a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),i=(!1!==r._trigger("chunksend",null,n)&&t.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,a,u){l=r._getUploadedBytes(u)||l+n.chunkSize,f+n.chunkSize-n._progress.loaded&&r._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=u,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<s?o():d.resolveWith(n.context,[i,a,u])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(f),f.abort=function(){return i.abort()},o(),f)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=e,a.textStatus=o.textStatus=n,a.jqXHR=o.jqXHR=i,this._trigger("done",null,o)},_onFail:function(t,e,n,i){var o=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),o.jqXHR=i.jqXHR=t,o.textStatus=i.textStatus=e,o.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,o,r,a,s=this,l=s._getAJAXSettings(n),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((o||!1===s._trigger("send",t.Event("send",{delegatedEvent:e}),l))&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=t.Deferred(),this._slots.push(r),a=r.then(u)):(this._sequence=this._sequence.then(u,u),a=this._sequence),a.abort=function(){return o=[undefined,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,o),u())},this._enhancePromise(a)):u()},_onAdd:function(e,n){var i,o,r,a,s=this,l=!0,u=t.extend({},this.options,n),c=n.files,d=c.length,f=u.limitMultiFileUploads,h=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!d)return!1;if(h&&c[0].size===undefined&&(h=undefined),(u.singleFileUploads||f||h)&&this._isXHRUpload(u))if(u.singleFileUploads||h||!f)if(!u.singleFileUploads&&h)for(r=[],i=[],a=0;a<d;a+=1)m+=c[a].size+p,(a+1===d||m+c[a+1].size+p>h||f&&a+1-v>=f)&&(r.push(c.slice(v,a+1)),o=g.slice(v,a+1),o.length||(o=g),i.push(o),v=a+1,m=0);else i=g;else for(r=[],i=[],a=0;a<d;a+=f)r.push(c.slice(a,a+f)),o=g.slice(a,a+f),o.length||(o=g),i.push(o);else r=[c],i=[g];return n.originalFiles=c,t.each(r||c,function(o,a){var u=t.extend({},n);return u.files=r?a:[a],u.paramName=i[o],s._initResponseObject(u),s._initProgressObject(u),
s._addConvenienceMethods(e,u),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),o=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),o&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,o=this,r=t.Deferred(),a=[],s=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])},l=function(t){o._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(s)},u=function(){i.readEntries(function(t){t.length?(a=a.concat(t),u()):l(a)},s)};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},s):e.isDirectory?(i=e.createReader(),u()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(n=t.makeArray(e.prop("files")),n.length)n[0].name===undefined&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(i=e.prop("value")))return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(o){i.files=o,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",t.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,o={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){o.files=i,!1!==n._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)&&n._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,o){var r,a=o.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),r=i[a],e._isRegExpOption(a,r)&&(r=e._getRegExp(r)),n[a]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,o=this,r=t.Deferred(),a=r.promise();return a.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void r.reject();e.files=t,n=o._onSend(null,e),n.then(function(t,e,n){r.resolve(t,e,n)},function(t,e,n){r.reject(t,e,n)})}}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(){(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(e){var n;return null==e&&(e=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(e))},getConfig:function(t){var e;return e=document.head.querySelector("meta[name='action-cable-"+t+"']"),null!=e?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?(e=document.createElement("a"),e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(this);var t=this.ActionCable;(function(){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ConnectionMonitor=function(){function n(t){this.connection=t,this.visibilityDidChange=e(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,o,r;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=o()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),t.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(t){return function(){return t.reconnectIfStale(),t.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var t,e,n,o;return o=this.constructor.pollInterval,n=o.min,e=o.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+r(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return r(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&r(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(e){return function(){if(e.connectionIsStale()||!e.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}}(this),200)},o=function(){return(new Date).getTime()},r=function(t){return(o()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var e,n,i,o,r,a=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=t.INTERNAL,n=o.message_types,i=o.protocols,r=2<=i.length?a.call(i,0,e=i.length-1):(e=0,[]),i[e++],t.Connection=function(){function e(e){this.consumer=e,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},e.prototype.open=function(){if(this.isActive())throw t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0},e.prototype.close=function(t){var e,n;if(e=(null!=t?t:{allowReconnect:!0}).allowReconnect,e||this.monitor.stop(),this.isActive())return null!=(n=this.webSocket)?n.close():void 0},e.prototype.reopen=function(){var e;if(t.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return e=n,t.log("Failed to reopen WebSocket",e)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(r,t)>=0},e.prototype.isState=function(){var t,e;return e=1<=arguments.length?a.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},e.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},e.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},e.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},e.prototype.events={message:function(t){var e,i,o,r;if(this.isProtocolSupported())switch(o=JSON.parse(t.data),e=o.identifier,i=o.message,r=o.type,r){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",i)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},e}()}.call(this),function(){var e=[].slice;t.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(e,n){var i,o,r;return i=e,o="object"==typeof i?i:{channel:i},r=new t.Subscription(this.consumer,o,n),this.add(r)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,i,o,r;for(i=this.findAll(t),o=[],e=0,n=i.length;e<n;e++)r=i[e],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,i,o,r;for(o=this.subscriptions,r=[],n=0,i=o.length;n<i;n++)(e=o[n])!==t&&r.push(e);return r}.call(this),t},n.prototype.findAll=function(t){var e,n,i,o,r;for(i=this.subscriptions,o=[],e=0,n=i.length;e<n;e++)r=i[e],r.identifier===t&&o.push(r);return o},n.prototype.reload=function(){var t,e,n,i,o;for(n=this.subscriptions,i=[],t=0,e=n.length;t<e;t++)o=n[t],i.push(this.sendCommand(o,"subscribe"));return i},n.prototype.notifyAll=function(){var t,n,i,o,r,a,s;for(n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],r=this.subscriptions,a=[],i=0,o=r.length;i<o;i++)s=r[i],a.push(this.notify.apply(this,[s,n].concat(e.call(t))));return a},n.prototype.notify=function(){var t,n,i,o,r,a,s;for(a=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],s="string"==typeof a?this.findAll(a):[a],r=[],i=0,o=s.length;i<o;i++)a=s[i],r.push("function"==typeof a[n]?a[n].apply(a,t):void 0);return r},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){t.Subscription=function(){function t(t,n,i){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,i)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){t.Consumer=function(){function e(e){this.url=e,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return e.prototype.send=function(t){return this.connection.send(t)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),$(document).ready(function(){function t(){function t(){$(".actions").append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>'),n()}function e(t){$('.comment*[data-id="'+t+'"]').find(".actions").eq(0).append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>');n($('.comment*[data-id="'+t+'"]').find(".actions").eq(0).find(".downvote"))}function n(t){$clickNode=t||$(".actions .downvote"),$clickNode.on("click",function(){var t="/votes",e=$(this).closest(".comment").data().id;if($(this).closest(".comment").data().user_has_downvoted?$.ajax({type:"delete",url:t+"/0",data:{user_id:o,vote_type:"downvote",lab_id:e},success:function(){$self.closest(".comment").data("user_has_downvoted",!1)}}):($self=$(this),$.ajax({type:"post",url:t,data:{vote_type:"downvote",lab_id:e,user_id:o},success:function(){$self.closest(".comment").data("user_has_downvoted",!0)}})),$(this).hasClass("highlight-font")){$(this).removeClass("highlight-font");var n=parseInt($(this).find(".downvote-count").html())-1;$(this).find(".downvote-count").html(n)}else{$(this).addClass("highlight-font");var n=parseInt($(this).find(".downvote-count").html())+1;$(this).find(".downvote-count").html(n)}})}function a(){$(".commenting-field").find(".textarea").one("click",function(){$(this).siblings().eq(1).append('<span class="save full-submit highlight-background enabled ">Create with full editor </button></a>')}),$("body").on("click",".full-submit",function(){var t=$(this).parent().parent().find(".textarea").text();document.location.href="/observations/new?from_full_editor=true&create_from="+r+"&create_from_id="+i+"&title="+t})}$("#observation-container-jq").comments({profilePictureURL:"#",textareaRows:2,maxRepliesVisible:2,replyText:"observation",profilePictureURL:"#",fieldMappings:{created:"created_at",content:"title"},noCommentsText:"No Observations",textareaPlaceholderText:"Add an observation,",getComments:function(e){var n={},a=i;if("Lab"!=r){var s=r.toLowerCase()+"_id";n.lab={},n.lab[s]=i,a=0}$.ajax({url:"/observations/"+a+".json",type:"get",data:n,success:function(n){var r=JqueryCommentHelper.sanitizeParentId(n.related_observations,i);e(r),t(),r.forEach(function(t){$('.comment*[data-id="'+t.id+'"]').data("user_id",t.user_id),$('.comment*[data-id="'+t.id+'"]').find(".downvote-count").html(t.downvote_count),$('.comment*[data-id="'+t.id+'"]').data("user_has_downvoted",t.user_has_downvoted),t.user_has_downvoted&&$('.comment*[data-id="'+t.id+'"]').find(".downvote").eq(0).addClass("highlight-font")}),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/observations/"+t}),o||($(".actions").remove(),$(".commenting-field").remove())}})},postComment:function(t,n,a){var s={lab:{title:t.title,parent:t.parent||i,user_id:o}};if("Lab"!=r){var l=r.toLowerCase()+"_id";s.lab[l]=i,s.lab.create_from=r,s.lab.create_from_id=i,t.parent||(s.lab.parent=undefined)}$.ajax({type:"post",url:"/observations.json",data:s,success:function(r){r.observation.parent==i&&delete r.observation.parent,n(r.observation),$('.comment*[data-id="'+r.observation.id+'"]').data("user_id",r.observation.user_id),e(r.observation.id),e(t.parent),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/observations/"+t}),o||$(".actions").remove()},error:a})},upvoteComment:function(t,e,n){var i="/votes";t.user_has_upvoted?$.ajax({type:"post",url:i,data:{vote_type:"upvote",lab_id:t.id,user_id:o},success:function(){e(t)},error:n}):$.ajax({type:"delete",url:i+"/0",data:{user_id:o,vote_type:"upvote",lab_id:t.id},success:function(){e(t)},error:n})}}),JqueryCommentHelper={sanitizeParentId:function(t,e){return JSON.parse(JSON.stringify(t)).map(function(t){return t.parent==e&&delete t.parent,t})}},$("body").on("keydown",".comment .textarea",function(){if(0==$(this).parent().find(".sub-full-submit").length){$(this).parent().find(".control-row").append('<span class="save sub-full-submit highlight-background enabled ">Create with full editor </button></a>');var t=$(this).closest(".comment").data("id");$("body").on("click",".sub-full-submit",function(){var e=$(this).parent().parent().find(".textarea").text();document.location.href="/observations/new?from_full_editor=true&create_from=Lab&create_from_id="+t+"&title="+e})}}),a()}function e(){function t(){$(".actions").append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>'),n()}function e(t){$('.comment*[data-id="'+t+'"]').find(".actions").eq(0).append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>');n($('.comment*[data-id="'+t+'"]').find(".actions").eq(0).find(".downvote"))}function n(t){$clickNode=t||$(".actions .downvote"),$clickNode.on("click",function(){var t="/votes",e=$(this).closest(".comment").data().id;if($(this).closest(".comment").data().user_has_downvoted?$.ajax({type:"delete",url:t+"/0",data:{user_id:o,vote_type:"downvote",question_id:e},success:function(){$self.closest(".comment").data("user_has_downvoted",!1)}}):($self=$(this),$.ajax({type:"post",url:t,data:{vote_type:"downvote",question_id:e,user_id:o},success:function(){$self.closest(".comment").data("user_has_downvoted",!0)}})),$(this).hasClass("highlight-font")){$(this).removeClass("highlight-font");var n=parseInt($(this).find(".downvote-count").html())-1;$(this).find(".downvote-count").html(n)}else{$(this).addClass("highlight-font");var n=parseInt($(this).find(".downvote-count").html())+1;$(this).find(".downvote-count").html(n)}})}function a(){$(".commenting-field").find(".textarea").one("click",function(){$(this).siblings().eq(1).append('<span class="save full-submit highlight-background enabled ">Create with full editor </button></a>')}),$("body").on("click",".full-submit",function(){var t=$(this).parent().parent().find(".textarea").text();document.location.href="/questions/new?from_full_editor=true&create_from="+r+"&create_from_id="+i+"&title="+t})}$("#questions-container-jq").comments({textareaRows:2,maxRepliesVisible:2,profilePictureURL:"https://app.viima.com/static/media/user_profiles/user-icon.png",textareaPlaceholderText:"Add a question",replyText:"question",noCommentsText:"No Questions",fieldMappings:{created:"created_at",content:"title"},getComments:function(e){var n={},a=i;if("Question"!=r){var s=r.toLowerCase()+"_id";n.question={},n.question[s]=i,a=0}$.ajax({url:"/questions/"+a+".json",type:"get",data:n,success:function(n){var i=JqueryCommentHelper.sanitizeParentId(n.related_questions,a);e(i),t(),i.forEach(function(t){$('.comment*[data-id="'+t.id+'"]').data("user_id",t.user_id),$('.comment*[data-id="'+t.id+'"]').find(".downvote-count").html(t.downvote_count),$('.comment*[data-id="'+t.id+'"]').data("user_has_downvoted",t.user_has_downvoted),t.user_has_downvoted&&$('.comment*[data-id="'+t.id+'"]').find(".downvote").eq(0).addClass("highlight-font")}),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/questions/"+t}),o||($(".actions").remove(),$(".commenting-field").remove()),$(".fa-thumbs-up").removeClass("fa-thumbs-up").addClass("fa-arrow-up")}})},postComment:function(t,n,a){var s={question:{title:t.title,parent:t.parent||i,user_id:o}};if("Question"!=r){var l=r.toLowerCase()+"_id";s.question[l]=i,s.question.create_from=r,s.question.create_from_id=i,t.parent||(s.question.parent=undefined)}$.ajax({type:"post",url:"/questions.json",data:s,success:function(r){r.question.parent==i&&delete r.question.parent,n(r.question),$('.comment*[data-id="'+r.question.id+'"]').data("user_id",r.question.user_id),e(r.question.id),e(t.parent),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/questions/"+t}),$(".fa-thumbs-up").removeClass("fa-thumbs-up").addClass("fa-arrow-up"),o||$(".actions").remove()},error:a})},upvoteComment:function(t,e,n){var i="/votes";t.user_has_upvoted?$.ajax({type:"post",url:i,data:{vote_type:"upvote",question_id:t.id,user_id:o},success:function(){e(t)},error:n}):$.ajax({type:"delete",url:i+"/0",data:{user_id:o,vote_type:"upvote",question_id:t.id},success:function(){e(t)},error:n})}}),JqueryCommentHelper={sanitizeParentId:function(t,e){return JSON.parse(JSON.stringify(t)).map(function(t){return t.parent==e&&delete t.parent,t})}},$("body").on("keydown",".comment .textarea",function(){if(0==$(this).parent().find(".sub-full-submit").length){$(this).parent().find(".control-row").append('<span class="save sub-full-submit highlight-background enabled ">Create with full editor </button></a>');var t=$(this).closest(".comment").data("id");$("body").on("click",".sub-full-submit",function(){var e=$(this).parent().parent().find(".textarea").text();document.location.href="/questions/new?from_full_editor=true&create_from=Question&create_from_id="+t+"&title="+e})}}),a()}function n(){function t(){$(".actions").append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>'),l()}function e(){var t='<button class="action like"><span class="like-count">0</span><i class="fa fa-check-square"></i></button>';$(".actions").append(t);var t='<button class="action dislike"><span class="dislike-count">0</span><i class="fa fa-minus-square"></i></button>';$(".actions").append(t),n(),a()}function n(t){$clickNode=t||$(".actions .like"),$clickNode.on("click",function(){var t="/likes",e=$(this).closest(".comment").data().id,n=$(this).closest(".comment").data().user_has_liked;$(this).closest(".comment").data("user_has_like_review",!1),$self=$(this),n?($self=$(this),$self.closest(".comment").data("user_has_like_review",!1),$.ajax({type:"delete",url:t+"/0",data:{user_id:o,like_type:"like",hypothesis_id:e},success:function(t){var e=parseInt($self.find(".like-count").html())-t.count;$self.find(".like-count").html(e),$self.closest(".comment").data("user_has_liked",!1)}})):($("#myModal").modal("show"),$(this).closest(".comment").data().user_has_like_review||$("body").on("click","#hypothesis-submit",function(){""!=$("#review-submission-content").val().trim()&&""!=$("#review-submission-title").val().trim()?($.ajax({type:"post",url:t,data:{like_type:"like",hypothesis_id:e,user_id:o},success:function(t){var e=parseInt($self.find(".like-count").html())+t.count;$self.find(".like-count").html(e),$self.closest(".comment").data("user_has_liked",!0),$("#review-submission-content").val(""),$("#review-submission-title").val("")}}),$.ajax({type:"post",url:"/reviews",data:{review:{body:$("#review-submission-content").val(),title:$("#review-submission-title").val(),user_id:o,hypothesis_id:e}},success:function(){}}),$("#hypothesis-submit"),$("body").off(),$("body").off("#hypothesis-submit"),$("#myModal").modal("hide"),$("#review-submission-content").val(""),$("#review-submission-title").val(""),$self.closest(".comment").data("user_has_liked",!0),$self.addClass("highlight-font"),$self.closest(".comment").data("user_has_like_review",!0)):alert("Title and content of your review cannot be empty.")})),$(this).hasClass("highlight-font")&&$(this).removeClass("highlight-font")})}function a(t){$clickNode=t||$(".actions .dislike"),$clickNode.on("click",function(){var t="/likes",e=$(this).closest(".comment").data().id,n=$(this).closest(".comment").data().user_has_disliked;$(this).closest(".comment").data("user_has_dislike_review",!1),$self=$(this),n?($self=$(this),$self.closest(".comment").data("user_has_dislike_review",!1),$.ajax({type:"delete",url:t+"/0",data:{user_id:o,like_type:"dislike",hypothesis_id:e},success:function(t){var e=parseInt($self.find(".dislike-count").html())-t.count;$self.find(".dislike-count").html(e),$self.closest(".comment").data("user_has_disliked",!1)}})):($("#myModal").modal("show"),$(this).closest(".comment").data().user_has_dislike_review||$("body").on("click","#hypothesis-submit",function(){""!=$("#review-submission-content").val().trim()&&""!=$("#review-submission-title").val().trim()?($.ajax({type:"post",url:t,data:{like_type:"dislike",hypothesis_id:e,user_id:o},success:function(t){var e=parseInt($self.find(".dislike-count").html())+t.count;$self.find(".dislike-count").html(e),$self.closest(".comment").data("user_has_disliked",!0),$("#review-submission-content").val(""),$("#review-submission-title").val("")}}),$.ajax({type:"post",url:"/reviews",data:{review:{body:$("#review-submission-content").val(),title:$("#review-submission-title").val(),user_id:o,hypothesis_id:e}},success:function(){}}),$("body").off(),$("#myModal").modal("hide"),$("#review-submission-content").val(""),$("#review-submission-title").val(""),$self.closest(".comment").data("user_has_liked",!0),$self.addClass("highlight-font"),$self.closest(".comment").data("user_has_dislike_review",!0)):alert("Title and content of your review cannot be empty.")})),$(this).hasClass("highlight-font")&&$(this).removeClass("highlight-font")})}function s(t){$('.comment*[data-id="'+t+'"]').find(".actions").eq(0).append('<button class="action downvote"><span class="downvote-count">0</span><i class="fa fa-arrow-down"></i></button>');l($('.comment*[data-id="'+t+'"]').find(".actions").eq(0).find(".downvote"));$('.comment*[data-id="'+t+'"]').find(".actions").eq(0).append('<button class="action like" ><span class="like-count">0</span><i class="fa fa-check-square"></i></button>');n($('.comment*[data-id="'+t+'"]').find(".actions").eq(0).find(".like"));$('.comment*[data-id="'+t+'"]').find(".actions").eq(0).append('<button class="action dislike"><span class="dislike-count">0</span><i class="fa fa-minus-square"></i></button>');a($('.comment*[data-id="'+t+'"]').find(".actions").eq(0).find(".dislike"))}function l(t){$clickNode=t||$(".actions .downvote"),$clickNode.on("click",function(){var t="/votes",e=$(this).closest(".comment").data().id,n=$(this).closest(".comment").data().user_has_downvoted;if($self=$(this),n?$.ajax({type:"delete",url:t+"/0",data:{user_id:o,vote_type:"downvote",hypothesis_id:e},success:function(){$self.closest(".comment").data("user_has_downvoted",!1)}}):$.ajax({type:"post",url:t,data:{vote_type:"downvote",hypothesis_id:e,user_id:o},success:function(){$self.closest(".comment").data("user_has_downvoted",!0)}}),$(this).hasClass("highlight-font")){$(this).removeClass("highlight-font");var i=parseInt($(this).find(".downvote-count").html())-1;$(this).find(".downvote-count").html(i)}else{$(this).addClass("highlight-font");var i=parseInt($(this).find(".downvote-count").html())+1;$(this).find(".downvote-count").html(i)}})}function u(){$(".commenting-field").find(".textarea").one("click",function(){$(this).siblings().eq(1).append('<span class="save full-submit highlight-background enabled ">Create with full editor </button></a>')}),$("body").on("click",".full-submit",function(){var t=$(this).parent().parent().find(".textarea").text();document.location.href="/hypotheses/new?from_full_editor=true&create_from="+r+"&create_from_id="+i+"&title="+t})}$("#hypothesis-container-jq").comments({textareaRows:2,maxRepliesVisible:2,replyText:"hypothesis",profilePictureURL:"https://app.viima.com/static/media/user_profiles/user-icon.png",fieldMappings:{created:"created_at",content:"title"},textareaPlaceholderText:"Add a hypothesis, you can also review each hypothesis by clicking the check icon next to them to approve or the minus icon to disapprove",noCommentsText:"No Hypothesis",getComments:function(n){var a={},s=i;if("Hypothesis"!=r){var l=r.toLowerCase()+"_id";a.hypothesis={},a.hypothesis[l]=i,s=0}$.ajax({url:"/hypotheses/"+s+".json",type:"get",data:a,success:function(i){var r=JqueryCommentHelper.sanitizeParentId(i.related_hypotheses,s);n(r),t(),e(),console.log(r),r.forEach(function(t){$('.comment*[data-id="'+t.id+'"]').data("user_id",t.user_id),t.upvote_count,$('.comment*[data-id="'+t.id+'"]').find(".downvote-count").html(t.downvote_count),$('.comment*[data-id="'+t.id+'"]').data("user_has_downvoted",t.user_has_downvoted),t.user_has_downvoted&&$('.comment*[data-id="'+t.id+'"]').find(".downvote").eq(0).addClass("highlight-font"),$('.comment*[data-id="'+t.id+'"]').find(".like-count").html(t.like_count),$('.comment*[data-id="'+t.id+'"]').find(".dislike-count").html(t.dislike_count),$('.comment*[data-id="'+t.id+'"]').data("user_has_liked",t.user_has_liked),
$('.comment*[data-id="'+t.id+'"]').data("user_has_disliked",t.user_has_disliked),t.user_has_liked&&$('.comment*[data-id="'+t.id+'"]').find(".like").eq(0).addClass("highlight-font"),t.user_has_disliked&&$('.comment*[data-id="'+t.id+'"]').find(".dislike").eq(0).addClass("highlight-font")}),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/hypotheses/"+t}),o||($(".actions").remove(),$(".commenting-field").remove())}})},postComment:function(t,e,n){var a={hypothesis:{title:t.title,parent:t.parent||i,user_id:o}};if("Hypothesis"!=r){var l=r.toLowerCase()+"_id";a.hypothesis[l]=i,a.hypothesis.create_from=r,a.hypothesis.create_from_id=i,t.parent||(a.hypothesis.parent=undefined),o||$(".actions").remove()}$.ajax({type:"post",url:"/hypotheses.json",data:a,success:function(n){n.hypothesis.parent==i&&delete n.hypothesis.parent,e(n.hypothesis),$('.comment*[data-id="'+n.hypothesis.id+'"]').data("user_id",n.hypothesis.user_id),s(n.hypothesis.id),s(t.parent),$(".comment-wrapper").find(".content").on("click",function(){var t=$(this).closest(".comment").data().id;window.location="/hypotheses/"+t})},error:n})},upvoteComment:function(t,e,n){var i="/votes";t.user_has_upvoted?$.ajax({type:"post",url:i,data:{vote_type:"upvote",hypothesis_id:t.id,user_id:o},success:function(){e(t)},error:n}):$.ajax({type:"delete",url:i+"/0",data:{user_id:o,vote_type:"upvote",hypothesis_id:t.id},success:function(){e(t)},error:n})}}),JqueryCommentHelper={sanitizeParentId:function(t,e){return JSON.parse(JSON.stringify(t)).map(function(t){return t.parent==e&&delete t.parent,t})}},$("body").on("keydown",".comment .textarea",function(){if(0==$(this).parent().find(".sub-full-submit").length){$(this).parent().find(".control-row").append('<span class="save sub-full-submit highlight-background enabled ">Create with full editor </button></a>');var t=$(this).closest(".comment").data("id");$("body").on("click",".sub-full-submit",function(){var e=$(this).parent().parent().find(".textarea").text();document.location.href="/hypotheses/new?from_full_editor=true&create_from=Hypothesis&create_from_id="+t+"&title="+e})}}),u()}try{var i=$("#content-meta-info").data().contentId,o=$("#content-meta-info").data().userid,r=$("#content-meta-info").data().contentType}catch(t){}$(".comment-type.type-observation").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),t(),$("#observation-container-jq").show()}),$(".comment-type.type-citation").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),$("#citations-container-jq").show()}),$(".comment-type.type-question").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),e(),$("#questions-container-jq").show()}),$(".comment-type.type-question").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),e(),$("#questions-container-jq").show()}),$(".comment-type.type-hypothesis").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),n(),$("#hypothesis-container-jq").show()}),$(".comment-type.type-review").on("click",function(){$(".comments-container-jq").hide(),$(".comment-type").removeClass("selected"),$(this).addClass("selected"),$("#reviews-container-jq").show()}),$("#myModal").on("hidden.bs.modal",function(){$("body").off()}),$("body").on("click",".name",function(){window.location.href="/users/"+$(this).closest(".comment").data("user_id")})}),$(document).ready(function(){var t="/likes";try{var e=$("#content-meta-info").data().contentId,n=$("#content-meta-info").data().userid,i=$("#content-meta-info").data().contentType,o=$("#content-meta-info").data().contentHasLikedCurrent,r=$("#content-meta-info").data().contentHasDislikedCurrent}catch(t){}try{o&&$(".main-like").css("color","#1b79be"),r&&$(".main-dislike").css("color","#1b79be")}catch(t){}n&&($(".main-like").on("click",function(){i.toLowerCase();o?$.ajax({type:"delete",url:t+"/0",data:{user_id:n,like_type:"like",hypothesis_id:e},success:function(){window.location.reload()}}):($("#myModal").modal("show"),$("body").on("click","#hypothesis-submit",function(){""!=$("#review-submission-content").val().trim()&&""!=$("#review-submission-title").val().trim()?$.ajax({type:"post",url:t,data:{like_type:"like",hypothesis_id:e,user_id:n},success:function(){$.ajax({type:"post",url:"/reviews",data:{review:{body:$("#review-submission-content").val(),title:$("#review-submission-title").val(),user_id:n,hypothesis_id:e}},success:function(){window.location.reload()}})}}):alert("Title and content of your review cannot be empty.")}))}),$(".main-dislike").on("click",function(){i.toLowerCase();r?$.ajax({type:"delete",url:t+"/0",data:{user_id:n,like_type:"dislike",hypothesis_id:e},success:function(){window.location.reload()}}):($("#myModal").modal("show"),$("body").on("click","#hypothesis-submit",function(){""!=$("#review-submission-content").val().trim()&&""!=$("#review-submission-title").val().trim()?$.ajax({type:"post",url:t,data:{like_type:"dislike",hypothesis_id:e,user_id:n},success:function(){$.ajax({type:"post",url:"/reviews",data:{review:{body:$("#review-submission-content").val(),title:$("#review-submission-title").val(),user_id:n,hypothesis_id:e}},success:function(){window.location.reload()}})}}):alert("Title and content of your review cannot be empty.")}))}))}),$(document).ready(function(){$("#fileupload").fileupload({dataType:"json",add:function(t,e){$("#citations-container-jq").prepend('<p id="loading-message"> Uploading... </p>'),e.submit()},done:function(t,e){$("#citations-container-jq").find("ul").prepend('<a href = "'+e.result.url+'"><li>'+e.result.name+"</li></a>"),$("#loading-message").remove()}})}),function(){}.call(this),$(document).ready(function(){try{var t=$("#content-meta-info").data().contentId,e=$("#content-meta-info").data().userid,n=$("#content-meta-info").data().contentType,i=$("#content-meta-info").data().contentHasUpvotedCurrent,o=$("#content-meta-info").data().contentHasDownvotedCurrent}catch(t){}try{i&&$(".main-upvote").css("color","#1b79be"),o&&$(".main-downvote").css("color","#1b79be")}catch(t){}e&&($(".main-upvote").on("click",function(){var o=n.toLowerCase()+"_id";if(i){var r={user_id:e,vote_type:"upvote"};r[o]=t,$("#content-meta-info").data("contentHasUpvotedCurrent",!1),$.ajax({type:"delete",url:"/votes/0",data:r,success:function(){location.reload()}})}else{$(this).css("color","#1b79be"),$("#content-meta-info").data("contentHasUpvotedCurrent",!0);var r={user_id:e,vote_type:"upvote"};r[o]=t,$.ajax({type:"post",url:"/votes",data:r,success:function(){location.reload()}})}}),$(".main-downvote").on("click",function(){var i=n.toLowerCase()+"_id";if(o){var r={user_id:e,vote_type:"downvote"};r[i]=t,$("#content-meta-info").data("contentHasDownvotedCurrent",!1),$.ajax({type:"delete",url:"/votes/0",data:r,success:function(){location.reload()}})}else{$(this).css("color","#1b79be"),$("#content-meta-info").data("contentHasDownvotedCurrent",!0);var r={user_id:e,vote_type:"downvote"};r[i]=t,$.ajax({type:"post",url:"/votes",data:r,success:function(){location.reload()}})}}))}),$(document).ready(function(){function t(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function e(){var e=(t("from_search"),document.location.href.replace("?from_search=true",""));window.history.pushState({},"",e);var n=t("open_to");n&&$(".type-"+n).click()}e()}),function(){}.call(this);var w=window.innerWidth,h=400,dataset={nodes:[{name:"Biochemistry"},{name:"Cell Biology"},{name:"Molecular Biology"},{name:"Developmental and Reproductive Biology"},{name:"Immunology"},{name:"Bioinformatics"},{name:"Oncology"},{name:"Cell and Nuclear Division"},{name:"Computational Biology"},{name:"Epigenetics"},{name:"Enzymes"},{name:"Genetics"},{name:"Genomics"},{name:"Transcriptomics"},{name:"Proteomics"},{name:"Pharmacology"},{name:"Pathology"},{name:"Population, Ecological, and Evolutionary Genetics"},{name:"Receptors and Membrane Biology"},{name:"Synthetic Biology"},{name:"Systems Biology"},{name:"Toxicology"},{name:"Virology"},{name:"Biological Techniques"},{name:"Co-Lab"}],edges:[{source:0,target:1},{source:0,target:11},{source:0,target:7},{source:0,target:10},{source:0,target:15},{source:0,target:19},{source:0,target:22},{source:0,target:4},{source:0,target:3},{source:0,target:8},{source:0,target:16},{source:0,target:18},{source:0,target:19},{source:0,target:20},{source:0,target:21},{source:0,target:22},{source:1,target:0},{source:1,target:23},{source:1,target:2},{source:2,target:1},{source:2,target:11},{source:2,target:9},{source:2,target:11},{source:2,target:12},{source:2,target:23},{source:2,target:5},{source:2,target:8},{source:2,target:19},{source:3,target:0},{source:4,target:0},{source:5,target:2},{source:6,target:0},{source:6,target:2},{source:6,target:11},{source:7,target:0},{source:8,target:0},{source:8,target:2},{source:8,target:11},{source:9,target:2},{source:9,target:12},{source:10,target:0},{source:11,target:0},{source:11,target:2},{source:11,target:17},{source:11,target:6},{source:11,target:12},{source:11,target:24},{source:12,target:2},{source:12,target:9},{source:12,target:11},{source:12,target:13},{source:12,target:14},{source:13,target:12},{source:13,target:14},{source:14,target:12},{source:14,target:13},{source:15,target:0},{source:16,target:0},{source:17,target:11},{source:18,target:0},{source:19,target:0},{source:19,target:2},{source:20,target:0},{source:21,target:0},{source:22,target:0},{source:23,target:1},{source:23,target:2},{source:23,target:11},{source:24,target:1},{source:24,target:11}]},force=d3.layout.force().nodes(dataset.nodes).links(dataset.edges).size([w,h]).linkDistance([80]).charge([-1e3]).start(),svg=d3.select(".intro-graphic").append("svg").attr("width",w).attr("height",h).append("g"),edges=svg.selectAll("line").data(dataset.edges).enter().append("line").attr("target",function(t){return JSON.stringify(t.target.index)}).attr("source",function(t){return JSON.stringify(t.source.index)}).style({stroke:function(){return"#ccc"}}).style("stroke-width",.1),nodes=svg.selectAll("circle").data(dataset.nodes).enter().append("circle").attr("aid",function(t,e){return e}).style({fill:"white",stroke:"#ccc"}).attr("r",6).call(force.drag),titles=svg.selectAll("text").data(dataset.nodes).enter().append("text").text(function(t,e){return dataset.nodes[e].name}).attr("aid",function(t,e){return e}).attr("font-family","helvetica").attr("font-size","8px").attr("fill","gray").call(force.drag);force.on("tick",function(){edges.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),nodes.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),titles.attr("x",function(t){return t.x+16}).attr("y",function(t){return t.y+5})});